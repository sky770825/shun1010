var wg=e=>{throw TypeError(e)};var kd=(e,t,n)=>t.has(e)||wg("Cannot "+n);var T=(e,t,n)=>(kd(e,t,"read from private field"),n?n.call(e):t.get(e)),ne=(e,t,n)=>t.has(e)?wg("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Y=(e,t,n,r)=>(kd(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ve=(e,t,n)=>(kd(e,t,"access private method"),n);var $l=(e,t,n,r)=>({set _(s){Y(e,t,s,n)},get _(){return T(e,t,r)}});function $E(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function Sw(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ew={exports:{}},xu={},kw={exports:{}},ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hl=Symbol.for("react.element"),LE=Symbol.for("react.portal"),FE=Symbol.for("react.fragment"),WE=Symbol.for("react.strict_mode"),UE=Symbol.for("react.profiler"),BE=Symbol.for("react.provider"),zE=Symbol.for("react.context"),VE=Symbol.for("react.forward_ref"),HE=Symbol.for("react.suspense"),KE=Symbol.for("react.memo"),qE=Symbol.for("react.lazy"),xg=Symbol.iterator;function GE(e){return e===null||typeof e!="object"?null:(e=xg&&e[xg]||e["@@iterator"],typeof e=="function"?e:null)}var Cw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Tw=Object.assign,jw={};function Ui(e,t,n){this.props=e,this.context=t,this.refs=jw,this.updater=n||Cw}Ui.prototype.isReactComponent={};Ui.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ui.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Nw(){}Nw.prototype=Ui.prototype;function Sp(e,t,n){this.props=e,this.context=t,this.refs=jw,this.updater=n||Cw}var Ep=Sp.prototype=new Nw;Ep.constructor=Sp;Tw(Ep,Ui.prototype);Ep.isPureReactComponent=!0;var bg=Array.isArray,Rw=Object.prototype.hasOwnProperty,kp={current:null},Pw={key:!0,ref:!0,__self:!0,__source:!0};function Ow(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)Rw.call(t,r)&&!Pw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:hl,type:e,key:o,ref:i,props:s,_owner:kp.current}}function YE(e,t){return{$$typeof:hl,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cp(e){return typeof e=="object"&&e!==null&&e.$$typeof===hl}function QE(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var _g=/\/+/g;function Cd(e,t){return typeof e=="object"&&e!==null&&e.key!=null?QE(""+e.key):t.toString(36)}function gc(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case hl:case LE:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Cd(i,0):r,bg(s)?(n="",e!=null&&(n=e.replace(_g,"$&/")+"/"),gc(s,t,n,"",function(u){return u})):s!=null&&(Cp(s)&&(s=YE(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(_g,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",bg(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Cd(o,a);i+=gc(o,t,n,l,s)}else if(l=GE(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Cd(o,a++),i+=gc(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Ll(e,t,n){if(e==null)return e;var r=[],s=0;return gc(e,r,"","",function(o){return t.call(n,o,s++)}),r}function JE(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},yc={transition:null},XE={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:yc,ReactCurrentOwner:kp};function Aw(){throw Error("act(...) is not supported in production builds of React.")}ge.Children={map:Ll,forEach:function(e,t,n){Ll(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ll(e,function(){t++}),t},toArray:function(e){return Ll(e,function(t){return t})||[]},only:function(e){if(!Cp(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ge.Component=Ui;ge.Fragment=FE;ge.Profiler=UE;ge.PureComponent=Sp;ge.StrictMode=WE;ge.Suspense=HE;ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XE;ge.act=Aw;ge.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Tw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=kp.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)Rw.call(t,l)&&!Pw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:hl,type:e.type,key:s,ref:o,props:r,_owner:i}};ge.createContext=function(e){return e={$$typeof:zE,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:BE,_context:e},e.Consumer=e};ge.createElement=Ow;ge.createFactory=function(e){var t=Ow.bind(null,e);return t.type=e,t};ge.createRef=function(){return{current:null}};ge.forwardRef=function(e){return{$$typeof:VE,render:e}};ge.isValidElement=Cp;ge.lazy=function(e){return{$$typeof:qE,_payload:{_status:-1,_result:e},_init:JE}};ge.memo=function(e,t){return{$$typeof:KE,type:e,compare:t===void 0?null:t}};ge.startTransition=function(e){var t=yc.transition;yc.transition={};try{e()}finally{yc.transition=t}};ge.unstable_act=Aw;ge.useCallback=function(e,t){return Rt.current.useCallback(e,t)};ge.useContext=function(e){return Rt.current.useContext(e)};ge.useDebugValue=function(){};ge.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};ge.useEffect=function(e,t){return Rt.current.useEffect(e,t)};ge.useId=function(){return Rt.current.useId()};ge.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};ge.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};ge.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};ge.useMemo=function(e,t){return Rt.current.useMemo(e,t)};ge.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};ge.useRef=function(e){return Rt.current.useRef(e)};ge.useState=function(e){return Rt.current.useState(e)};ge.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};ge.useTransition=function(){return Rt.current.useTransition()};ge.version="18.3.1";kw.exports=ge;var m=kw.exports;const V=Sw(m),bu=$E({__proto__:null,default:V},[m]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZE=m,ek=Symbol.for("react.element"),tk=Symbol.for("react.fragment"),nk=Object.prototype.hasOwnProperty,rk=ZE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sk={key:!0,ref:!0,__self:!0,__source:!0};function Mw(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)nk.call(t,r)&&!sk.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:ek,type:e,key:o,ref:i,props:s,_owner:rk.current}}xu.Fragment=tk;xu.jsx=Mw;xu.jsxs=Mw;Ew.exports=xu;var c=Ew.exports,Dw={exports:{}},tn={},Iw={exports:{}},$w={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,A){var B=R.length;R.push(A);e:for(;0<B;){var Q=B-1>>>1,K=R[Q];if(0<s(K,A))R[Q]=A,R[B]=K,B=Q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var A=R[0],B=R.pop();if(B!==A){R[0]=B;e:for(var Q=0,K=R.length,Z=K>>>1;Q<Z;){var X=2*(Q+1)-1,ye=R[X],ke=X+1,H=R[ke];if(0>s(ye,B))ke<K&&0>s(H,ye)?(R[Q]=H,R[ke]=B,Q=ke):(R[Q]=ye,R[X]=B,Q=X);else if(ke<K&&0>s(H,B))R[Q]=H,R[ke]=B,Q=ke;else break e}}return A}function s(R,A){var B=R.sortIndex-A.sortIndex;return B!==0?B:R.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],u=[],d=1,h=null,p=3,f=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(R){for(var A=n(u);A!==null;){if(A.callback===null)r(u);else if(A.startTime<=R)r(u),A.sortIndex=A.expirationTime,t(l,A);else break;A=n(u)}}function _(R){if(y=!1,w(R),!v)if(n(l)!==null)v=!0,$(S);else{var A=n(u);A!==null&&L(_,A.startTime-R)}}function S(R,A){v=!1,y&&(y=!1,x(C),C=-1),f=!0;var B=p;try{for(w(A),h=n(l);h!==null&&(!(h.expirationTime>A)||R&&!D());){var Q=h.callback;if(typeof Q=="function"){h.callback=null,p=h.priorityLevel;var K=Q(h.expirationTime<=A);A=e.unstable_now(),typeof K=="function"?h.callback=K:h===n(l)&&r(l),w(A)}else r(l);h=n(l)}if(h!==null)var Z=!0;else{var X=n(u);X!==null&&L(_,X.startTime-A),Z=!1}return Z}finally{h=null,p=B,f=!1}}var E=!1,k=null,C=-1,O=5,N=-1;function D(){return!(e.unstable_now()-N<O)}function I(){if(k!==null){var R=e.unstable_now();N=R;var A=!0;try{A=k(!0,R)}finally{A?M():(E=!1,k=null)}}else E=!1}var M;if(typeof g=="function")M=function(){g(I)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,U=P.port2;P.port1.onmessage=I,M=function(){U.postMessage(null)}}else M=function(){b(I,0)};function $(R){k=R,E||(E=!0,M())}function L(R,A){C=b(function(){R(e.unstable_now())},A)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){v||f||(v=!0,$(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(R){switch(p){case 1:case 2:case 3:var A=3;break;default:A=p}var B=p;p=A;try{return R()}finally{p=B}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,A){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var B=p;p=R;try{return A()}finally{p=B}},e.unstable_scheduleCallback=function(R,A,B){var Q=e.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?Q+B:Q):B=Q,R){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=B+K,R={id:d++,callback:A,priorityLevel:R,startTime:B,expirationTime:K,sortIndex:-1},B>Q?(R.sortIndex=B,t(u,R),n(l)===null&&R===n(u)&&(y?(x(C),C=-1):y=!0,L(_,B-Q))):(R.sortIndex=K,t(l,R),v||f||(v=!0,$(S))),R},e.unstable_shouldYield=D,e.unstable_wrapCallback=function(R){var A=p;return function(){var B=p;p=A;try{return R.apply(this,arguments)}finally{p=B}}}})($w);Iw.exports=$w;var ok=Iw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ik=m,Zt=ok;function W(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lw=new Set,Na={};function Co(e,t){Oi(e,t),Oi(e+"Capture",t)}function Oi(e,t){for(Na[e]=t,e=0;e<t.length;e++)Lw.add(t[e])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Rf=Object.prototype.hasOwnProperty,ak=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sg={},Eg={};function lk(e){return Rf.call(Eg,e)?!0:Rf.call(Sg,e)?!1:ak.test(e)?Eg[e]=!0:(Sg[e]=!0,!1)}function ck(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function uk(e,t,n,r){if(t===null||typeof t>"u"||ck(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Pt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var wt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){wt[e]=new Pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];wt[t]=new Pt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){wt[e]=new Pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){wt[e]=new Pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){wt[e]=new Pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){wt[e]=new Pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){wt[e]=new Pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){wt[e]=new Pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){wt[e]=new Pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Tp=/[\-:]([a-z])/g;function jp(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Tp,jp);wt[t]=new Pt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Tp,jp);wt[t]=new Pt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Tp,jp);wt[t]=new Pt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){wt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!1,!1)});wt.xlinkHref=new Pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){wt[e]=new Pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Np(e,t,n,r){var s=wt.hasOwnProperty(t)?wt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(uk(t,n,s,r)&&(n=null),r||s===null?lk(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var jr=ik.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fl=Symbol.for("react.element"),qo=Symbol.for("react.portal"),Go=Symbol.for("react.fragment"),Rp=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),Fw=Symbol.for("react.provider"),Ww=Symbol.for("react.context"),Pp=Symbol.for("react.forward_ref"),Of=Symbol.for("react.suspense"),Af=Symbol.for("react.suspense_list"),Op=Symbol.for("react.memo"),Ur=Symbol.for("react.lazy"),Uw=Symbol.for("react.offscreen"),kg=Symbol.iterator;function Xi(e){return e===null||typeof e!="object"?null:(e=kg&&e[kg]||e["@@iterator"],typeof e=="function"?e:null)}var qe=Object.assign,Td;function ca(e){if(Td===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Td=t&&t[1]||""}return`
`+Td+e}var jd=!1;function Nd(e,t){if(!e||jd)return"";jd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{jd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?ca(e):""}function dk(e){switch(e.tag){case 5:return ca(e.type);case 16:return ca("Lazy");case 13:return ca("Suspense");case 19:return ca("SuspenseList");case 0:case 2:case 15:return e=Nd(e.type,!1),e;case 11:return e=Nd(e.type.render,!1),e;case 1:return e=Nd(e.type,!0),e;default:return""}}function Mf(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Go:return"Fragment";case qo:return"Portal";case Pf:return"Profiler";case Rp:return"StrictMode";case Of:return"Suspense";case Af:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ww:return(e.displayName||"Context")+".Consumer";case Fw:return(e._context.displayName||"Context")+".Provider";case Pp:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Op:return t=e.displayName||null,t!==null?t:Mf(e.type)||"Memo";case Ur:t=e._payload,e=e._init;try{return Mf(e(t))}catch{}}return null}function fk(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Mf(t);case 8:return t===Rp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function bs(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Bw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function hk(e){var t=Bw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Wl(e){e._valueTracker||(e._valueTracker=hk(e))}function zw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Bw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ac(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Df(e,t){var n=t.checked;return qe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Cg(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=bs(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Vw(e,t){t=t.checked,t!=null&&Np(e,"checked",t,!1)}function If(e,t){Vw(e,t);var n=bs(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$f(e,t.type,n):t.hasOwnProperty("defaultValue")&&$f(e,t.type,bs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Tg(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $f(e,t,n){(t!=="number"||Ac(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ua=Array.isArray;function ii(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+bs(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function Lf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(W(91));return qe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function jg(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(W(92));if(ua(n)){if(1<n.length)throw Error(W(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:bs(n)}}function Hw(e,t){var n=bs(t.value),r=bs(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Ng(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Kw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ff(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Kw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ul,qw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ul=Ul||document.createElement("div"),Ul.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ul.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ra(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var ga={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pk=["Webkit","ms","Moz","O"];Object.keys(ga).forEach(function(e){pk.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ga[t]=ga[e]})});function Gw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||ga.hasOwnProperty(e)&&ga[e]?(""+t).trim():t+"px"}function Yw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Gw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var mk=qe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wf(e,t){if(t){if(mk[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(W(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(W(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(W(61))}if(t.style!=null&&typeof t.style!="object")throw Error(W(62))}}function Uf(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bf=null;function Ap(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zf=null,ai=null,li=null;function Rg(e){if(e=gl(e)){if(typeof zf!="function")throw Error(W(280));var t=e.stateNode;t&&(t=Cu(t),zf(e.stateNode,e.type,t))}}function Qw(e){ai?li?li.push(e):li=[e]:ai=e}function Jw(){if(ai){var e=ai,t=li;if(li=ai=null,Rg(e),t)for(e=0;e<t.length;e++)Rg(t[e])}}function Xw(e,t){return e(t)}function Zw(){}var Rd=!1;function e0(e,t,n){if(Rd)return e(t,n);Rd=!0;try{return Xw(e,t,n)}finally{Rd=!1,(ai!==null||li!==null)&&(Zw(),Jw())}}function Pa(e,t){var n=e.stateNode;if(n===null)return null;var r=Cu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(W(231,t,typeof n));return n}var Vf=!1;if(xr)try{var Zi={};Object.defineProperty(Zi,"passive",{get:function(){Vf=!0}}),window.addEventListener("test",Zi,Zi),window.removeEventListener("test",Zi,Zi)}catch{Vf=!1}function gk(e,t,n,r,s,o,i,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var ya=!1,Mc=null,Dc=!1,Hf=null,yk={onError:function(e){ya=!0,Mc=e}};function vk(e,t,n,r,s,o,i,a,l){ya=!1,Mc=null,gk.apply(yk,arguments)}function wk(e,t,n,r,s,o,i,a,l){if(vk.apply(this,arguments),ya){if(ya){var u=Mc;ya=!1,Mc=null}else throw Error(W(198));Dc||(Dc=!0,Hf=u)}}function To(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function t0(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Pg(e){if(To(e)!==e)throw Error(W(188))}function xk(e){var t=e.alternate;if(!t){if(t=To(e),t===null)throw Error(W(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return Pg(s),e;if(o===r)return Pg(s),t;o=o.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?e:t}function n0(e){return e=xk(e),e!==null?r0(e):null}function r0(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=r0(e);if(t!==null)return t;e=e.sibling}return null}var s0=Zt.unstable_scheduleCallback,Og=Zt.unstable_cancelCallback,bk=Zt.unstable_shouldYield,_k=Zt.unstable_requestPaint,Ze=Zt.unstable_now,Sk=Zt.unstable_getCurrentPriorityLevel,Mp=Zt.unstable_ImmediatePriority,o0=Zt.unstable_UserBlockingPriority,Ic=Zt.unstable_NormalPriority,Ek=Zt.unstable_LowPriority,i0=Zt.unstable_IdlePriority,_u=null,Zn=null;function kk(e){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(_u,e,void 0,(e.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:jk,Ck=Math.log,Tk=Math.LN2;function jk(e){return e>>>=0,e===0?32:31-(Ck(e)/Tk|0)|0}var Bl=64,zl=4194304;function da(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $c(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=da(a):(o&=i,o!==0&&(r=da(o)))}else i=n&~s,i!==0?r=da(i):o!==0&&(r=da(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-On(t),s=1<<n,r|=e[n],t&=~s;return r}function Nk(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Rk(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-On(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=Nk(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function Kf(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function a0(){var e=Bl;return Bl<<=1,!(Bl&4194240)&&(Bl=64),e}function Pd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function pl(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-On(t),e[t]=n}function Pk(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-On(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Dp(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-On(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ne=0;function l0(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var c0,Ip,u0,d0,f0,qf=!1,Vl=[],ss=null,os=null,is=null,Oa=new Map,Aa=new Map,Vr=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ag(e,t){switch(e){case"focusin":case"focusout":ss=null;break;case"dragenter":case"dragleave":os=null;break;case"mouseover":case"mouseout":is=null;break;case"pointerover":case"pointerout":Oa.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Aa.delete(t.pointerId)}}function ea(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=gl(t),t!==null&&Ip(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Ak(e,t,n,r,s){switch(t){case"focusin":return ss=ea(ss,e,t,n,r,s),!0;case"dragenter":return os=ea(os,e,t,n,r,s),!0;case"mouseover":return is=ea(is,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Oa.set(o,ea(Oa.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Aa.set(o,ea(Aa.get(o)||null,e,t,n,r,s)),!0}return!1}function h0(e){var t=Hs(e.target);if(t!==null){var n=To(t);if(n!==null){if(t=n.tag,t===13){if(t=t0(n),t!==null){e.blockedOn=t,f0(e.priority,function(){u0(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Bf=r,n.target.dispatchEvent(r),Bf=null}else return t=gl(n),t!==null&&Ip(t),e.blockedOn=n,!1;t.shift()}return!0}function Mg(e,t,n){vc(e)&&n.delete(t)}function Mk(){qf=!1,ss!==null&&vc(ss)&&(ss=null),os!==null&&vc(os)&&(os=null),is!==null&&vc(is)&&(is=null),Oa.forEach(Mg),Aa.forEach(Mg)}function ta(e,t){e.blockedOn===t&&(e.blockedOn=null,qf||(qf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Mk)))}function Ma(e){function t(s){return ta(s,e)}if(0<Vl.length){ta(Vl[0],e);for(var n=1;n<Vl.length;n++){var r=Vl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ss!==null&&ta(ss,e),os!==null&&ta(os,e),is!==null&&ta(is,e),Oa.forEach(t),Aa.forEach(t),n=0;n<Vr.length;n++)r=Vr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Vr.length&&(n=Vr[0],n.blockedOn===null);)h0(n),n.blockedOn===null&&Vr.shift()}var ci=jr.ReactCurrentBatchConfig,Lc=!0;function Dk(e,t,n,r){var s=Ne,o=ci.transition;ci.transition=null;try{Ne=1,$p(e,t,n,r)}finally{Ne=s,ci.transition=o}}function Ik(e,t,n,r){var s=Ne,o=ci.transition;ci.transition=null;try{Ne=4,$p(e,t,n,r)}finally{Ne=s,ci.transition=o}}function $p(e,t,n,r){if(Lc){var s=Gf(e,t,n,r);if(s===null)Ud(e,t,r,Fc,n),Ag(e,r);else if(Ak(s,e,t,n,r))r.stopPropagation();else if(Ag(e,r),t&4&&-1<Ok.indexOf(e)){for(;s!==null;){var o=gl(s);if(o!==null&&c0(o),o=Gf(e,t,n,r),o===null&&Ud(e,t,r,Fc,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else Ud(e,t,r,null,n)}}var Fc=null;function Gf(e,t,n,r){if(Fc=null,e=Ap(r),e=Hs(e),e!==null)if(t=To(e),t===null)e=null;else if(n=t.tag,n===13){if(e=t0(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Fc=e,null}function p0(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sk()){case Mp:return 1;case o0:return 4;case Ic:case Ek:return 16;case i0:return 536870912;default:return 16}default:return 16}}var ts=null,Lp=null,wc=null;function m0(){if(wc)return wc;var e,t=Lp,n=t.length,r,s="value"in ts?ts.value:ts.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return wc=s.slice(e,1<r?1-r:void 0)}function xc(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Hl(){return!0}function Dg(){return!1}function nn(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Hl:Dg,this.isPropagationStopped=Dg,this}return qe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Hl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Hl)},persist:function(){},isPersistent:Hl}),t}var Bi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fp=nn(Bi),ml=qe({},Bi,{view:0,detail:0}),$k=nn(ml),Od,Ad,na,Su=qe({},ml,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wp,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==na&&(na&&e.type==="mousemove"?(Od=e.screenX-na.screenX,Ad=e.screenY-na.screenY):Ad=Od=0,na=e),Od)},movementY:function(e){return"movementY"in e?e.movementY:Ad}}),Ig=nn(Su),Lk=qe({},Su,{dataTransfer:0}),Fk=nn(Lk),Wk=qe({},ml,{relatedTarget:0}),Md=nn(Wk),Uk=qe({},Bi,{animationName:0,elapsedTime:0,pseudoElement:0}),Bk=nn(Uk),zk=qe({},Bi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Vk=nn(zk),Hk=qe({},Bi,{data:0}),$g=nn(Hk),Kk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yk(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Gk[e])?!!t[e]:!1}function Wp(){return Yk}var Qk=qe({},ml,{key:function(e){if(e.key){var t=Kk[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=xc(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?qk[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wp,charCode:function(e){return e.type==="keypress"?xc(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?xc(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Jk=nn(Qk),Xk=qe({},Su,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lg=nn(Xk),Zk=qe({},ml,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wp}),eC=nn(Zk),tC=qe({},Bi,{propertyName:0,elapsedTime:0,pseudoElement:0}),nC=nn(tC),rC=qe({},Su,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),sC=nn(rC),oC=[9,13,27,32],Up=xr&&"CompositionEvent"in window,va=null;xr&&"documentMode"in document&&(va=document.documentMode);var iC=xr&&"TextEvent"in window&&!va,g0=xr&&(!Up||va&&8<va&&11>=va),Fg=" ",Wg=!1;function y0(e,t){switch(e){case"keyup":return oC.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function v0(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yo=!1;function aC(e,t){switch(e){case"compositionend":return v0(t);case"keypress":return t.which!==32?null:(Wg=!0,Fg);case"textInput":return e=t.data,e===Fg&&Wg?null:e;default:return null}}function lC(e,t){if(Yo)return e==="compositionend"||!Up&&y0(e,t)?(e=m0(),wc=Lp=ts=null,Yo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return g0&&t.locale!=="ko"?null:t.data;default:return null}}var cC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!cC[e.type]:t==="textarea"}function w0(e,t,n,r){Qw(r),t=Wc(t,"onChange"),0<t.length&&(n=new Fp("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wa=null,Da=null;function uC(e){R0(e,0)}function Eu(e){var t=Xo(e);if(zw(t))return e}function dC(e,t){if(e==="change")return t}var x0=!1;if(xr){var Dd;if(xr){var Id="oninput"in document;if(!Id){var Bg=document.createElement("div");Bg.setAttribute("oninput","return;"),Id=typeof Bg.oninput=="function"}Dd=Id}else Dd=!1;x0=Dd&&(!document.documentMode||9<document.documentMode)}function zg(){wa&&(wa.detachEvent("onpropertychange",b0),Da=wa=null)}function b0(e){if(e.propertyName==="value"&&Eu(Da)){var t=[];w0(t,Da,e,Ap(e)),e0(uC,t)}}function fC(e,t,n){e==="focusin"?(zg(),wa=t,Da=n,wa.attachEvent("onpropertychange",b0)):e==="focusout"&&zg()}function hC(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Eu(Da)}function pC(e,t){if(e==="click")return Eu(t)}function mC(e,t){if(e==="input"||e==="change")return Eu(t)}function gC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var In=typeof Object.is=="function"?Object.is:gC;function Ia(e,t){if(In(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Rf.call(t,s)||!In(e[s],t[s]))return!1}return!0}function Vg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Hg(e,t){var n=Vg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Vg(n)}}function _0(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_0(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function S0(){for(var e=window,t=Ac();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ac(e.document)}return t}function Bp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function yC(e){var t=S0(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_0(n.ownerDocument.documentElement,n)){if(r!==null&&Bp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Hg(n,o);var i=Hg(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vC=xr&&"documentMode"in document&&11>=document.documentMode,Qo=null,Yf=null,xa=null,Qf=!1;function Kg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qf||Qo==null||Qo!==Ac(r)||(r=Qo,"selectionStart"in r&&Bp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xa&&Ia(xa,r)||(xa=r,r=Wc(Yf,"onSelect"),0<r.length&&(t=new Fp("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qo)))}function Kl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Jo={animationend:Kl("Animation","AnimationEnd"),animationiteration:Kl("Animation","AnimationIteration"),animationstart:Kl("Animation","AnimationStart"),transitionend:Kl("Transition","TransitionEnd")},$d={},E0={};xr&&(E0=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function ku(e){if($d[e])return $d[e];if(!Jo[e])return e;var t=Jo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in E0)return $d[e]=t[n];return e}var k0=ku("animationend"),C0=ku("animationiteration"),T0=ku("animationstart"),j0=ku("transitionend"),N0=new Map,qg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cs(e,t){N0.set(e,t),Co(t,[e])}for(var Ld=0;Ld<qg.length;Ld++){var Fd=qg[Ld],wC=Fd.toLowerCase(),xC=Fd[0].toUpperCase()+Fd.slice(1);Cs(wC,"on"+xC)}Cs(k0,"onAnimationEnd");Cs(C0,"onAnimationIteration");Cs(T0,"onAnimationStart");Cs("dblclick","onDoubleClick");Cs("focusin","onFocus");Cs("focusout","onBlur");Cs(j0,"onTransitionEnd");Oi("onMouseEnter",["mouseout","mouseover"]);Oi("onMouseLeave",["mouseout","mouseover"]);Oi("onPointerEnter",["pointerout","pointerover"]);Oi("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),bC=new Set("cancel close invalid load scroll toggle".split(" ").concat(fa));function Gg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,wk(r,t,void 0,e),e.currentTarget=null}function R0(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Gg(s,a,u),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Gg(s,a,u),o=l}}}if(Dc)throw e=Hf,Dc=!1,Hf=null,e}function De(e,t){var n=t[th];n===void 0&&(n=t[th]=new Set);var r=e+"__bubble";n.has(r)||(P0(t,e,2,!1),n.add(r))}function Wd(e,t,n){var r=0;t&&(r|=4),P0(n,e,r,t)}var ql="_reactListening"+Math.random().toString(36).slice(2);function $a(e){if(!e[ql]){e[ql]=!0,Lw.forEach(function(n){n!=="selectionchange"&&(bC.has(n)||Wd(n,!1,e),Wd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ql]||(t[ql]=!0,Wd("selectionchange",!1,t))}}function P0(e,t,n,r){switch(p0(t)){case 1:var s=Dk;break;case 4:s=Ik;break;default:s=$p}n=s.bind(null,t,n,e),s=void 0,!Vf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Ud(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=Hs(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}e0(function(){var u=o,d=Ap(n),h=[];e:{var p=N0.get(e);if(p!==void 0){var f=Fp,v=e;switch(e){case"keypress":if(xc(n)===0)break e;case"keydown":case"keyup":f=Jk;break;case"focusin":v="focus",f=Md;break;case"focusout":v="blur",f=Md;break;case"beforeblur":case"afterblur":f=Md;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Fk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=eC;break;case k0:case C0:case T0:f=Bk;break;case j0:f=nC;break;case"scroll":f=$k;break;case"wheel":f=sC;break;case"copy":case"cut":case"paste":f=Vk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Lg}var y=(t&4)!==0,b=!y&&e==="scroll",x=y?p!==null?p+"Capture":null:p;y=[];for(var g=u,w;g!==null;){w=g;var _=w.stateNode;if(w.tag===5&&_!==null&&(w=_,x!==null&&(_=Pa(g,x),_!=null&&y.push(La(g,_,w)))),b)break;g=g.return}0<y.length&&(p=new f(p,v,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",p&&n!==Bf&&(v=n.relatedTarget||n.fromElement)&&(Hs(v)||v[br]))break e;if((f||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,f?(v=n.relatedTarget||n.toElement,f=u,v=v?Hs(v):null,v!==null&&(b=To(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(f=null,v=u),f!==v)){if(y=Ig,_="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(y=Lg,_="onPointerLeave",x="onPointerEnter",g="pointer"),b=f==null?p:Xo(f),w=v==null?p:Xo(v),p=new y(_,g+"leave",f,n,d),p.target=b,p.relatedTarget=w,_=null,Hs(d)===u&&(y=new y(x,g+"enter",v,n,d),y.target=w,y.relatedTarget=b,_=y),b=_,f&&v)t:{for(y=f,x=v,g=0,w=y;w;w=Ao(w))g++;for(w=0,_=x;_;_=Ao(_))w++;for(;0<g-w;)y=Ao(y),g--;for(;0<w-g;)x=Ao(x),w--;for(;g--;){if(y===x||x!==null&&y===x.alternate)break t;y=Ao(y),x=Ao(x)}y=null}else y=null;f!==null&&Yg(h,p,f,y,!1),v!==null&&b!==null&&Yg(h,b,v,y,!0)}}e:{if(p=u?Xo(u):window,f=p.nodeName&&p.nodeName.toLowerCase(),f==="select"||f==="input"&&p.type==="file")var S=dC;else if(Ug(p))if(x0)S=mC;else{S=hC;var E=fC}else(f=p.nodeName)&&f.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(S=pC);if(S&&(S=S(e,u))){w0(h,S,n,d);break e}E&&E(e,p,u),e==="focusout"&&(E=p._wrapperState)&&E.controlled&&p.type==="number"&&$f(p,"number",p.value)}switch(E=u?Xo(u):window,e){case"focusin":(Ug(E)||E.contentEditable==="true")&&(Qo=E,Yf=u,xa=null);break;case"focusout":xa=Yf=Qo=null;break;case"mousedown":Qf=!0;break;case"contextmenu":case"mouseup":case"dragend":Qf=!1,Kg(h,n,d);break;case"selectionchange":if(vC)break;case"keydown":case"keyup":Kg(h,n,d)}var k;if(Up)e:{switch(e){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Yo?y0(e,n)&&(C="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(g0&&n.locale!=="ko"&&(Yo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Yo&&(k=m0()):(ts=d,Lp="value"in ts?ts.value:ts.textContent,Yo=!0)),E=Wc(u,C),0<E.length&&(C=new $g(C,e,null,n,d),h.push({event:C,listeners:E}),k?C.data=k:(k=v0(n),k!==null&&(C.data=k)))),(k=iC?aC(e,n):lC(e,n))&&(u=Wc(u,"onBeforeInput"),0<u.length&&(d=new $g("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=k))}R0(h,t)})}function La(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wc(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Pa(e,n),o!=null&&r.unshift(La(e,o,s)),o=Pa(e,t),o!=null&&r.push(La(e,o,s))),e=e.return}return r}function Ao(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Yg(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,s?(l=Pa(n,o),l!=null&&i.unshift(La(n,l,a))):s||(l=Pa(n,o),l!=null&&i.push(La(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var _C=/\r\n?/g,SC=/\u0000|\uFFFD/g;function Qg(e){return(typeof e=="string"?e:""+e).replace(_C,`
`).replace(SC,"")}function Gl(e,t,n){if(t=Qg(t),Qg(e)!==t&&n)throw Error(W(425))}function Uc(){}var Jf=null,Xf=null;function Zf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var eh=typeof setTimeout=="function"?setTimeout:void 0,EC=typeof clearTimeout=="function"?clearTimeout:void 0,Jg=typeof Promise=="function"?Promise:void 0,kC=typeof queueMicrotask=="function"?queueMicrotask:typeof Jg<"u"?function(e){return Jg.resolve(null).then(e).catch(CC)}:eh;function CC(e){setTimeout(function(){throw e})}function Bd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Ma(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ma(t)}function as(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Xg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var zi=Math.random().toString(36).slice(2),Gn="__reactFiber$"+zi,Fa="__reactProps$"+zi,br="__reactContainer$"+zi,th="__reactEvents$"+zi,TC="__reactListeners$"+zi,jC="__reactHandles$"+zi;function Hs(e){var t=e[Gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[br]||n[Gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Xg(e);e!==null;){if(n=e[Gn])return n;e=Xg(e)}return t}e=n,n=e.parentNode}return null}function gl(e){return e=e[Gn]||e[br],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Xo(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(W(33))}function Cu(e){return e[Fa]||null}var nh=[],Zo=-1;function Ts(e){return{current:e}}function $e(e){0>Zo||(e.current=nh[Zo],nh[Zo]=null,Zo--)}function Ae(e,t){Zo++,nh[Zo]=e.current,e.current=t}var _s={},Ct=Ts(_s),Lt=Ts(!1),ho=_s;function Ai(e,t){var n=e.type.contextTypes;if(!n)return _s;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ft(e){return e=e.childContextTypes,e!=null}function Bc(){$e(Lt),$e(Ct)}function Zg(e,t,n){if(Ct.current!==_s)throw Error(W(168));Ae(Ct,t),Ae(Lt,n)}function O0(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(W(108,fk(e)||"Unknown",s));return qe({},n,r)}function zc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||_s,ho=Ct.current,Ae(Ct,e),Ae(Lt,Lt.current),!0}function ey(e,t,n){var r=e.stateNode;if(!r)throw Error(W(169));n?(e=O0(e,t,ho),r.__reactInternalMemoizedMergedChildContext=e,$e(Lt),$e(Ct),Ae(Ct,e)):$e(Lt),Ae(Lt,n)}var fr=null,Tu=!1,zd=!1;function A0(e){fr===null?fr=[e]:fr.push(e)}function NC(e){Tu=!0,A0(e)}function js(){if(!zd&&fr!==null){zd=!0;var e=0,t=Ne;try{var n=fr;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}fr=null,Tu=!1}catch(s){throw fr!==null&&(fr=fr.slice(e+1)),s0(Mp,js),s}finally{Ne=t,zd=!1}}return null}var ei=[],ti=0,Vc=null,Hc=0,ln=[],cn=0,po=null,mr=1,gr="";function Ls(e,t){ei[ti++]=Hc,ei[ti++]=Vc,Vc=e,Hc=t}function M0(e,t,n){ln[cn++]=mr,ln[cn++]=gr,ln[cn++]=po,po=e;var r=mr;e=gr;var s=32-On(r)-1;r&=~(1<<s),n+=1;var o=32-On(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,mr=1<<32-On(t)+s|n<<s|r,gr=o+e}else mr=1<<o|n<<s|r,gr=e}function zp(e){e.return!==null&&(Ls(e,1),M0(e,1,0))}function Vp(e){for(;e===Vc;)Vc=ei[--ti],ei[ti]=null,Hc=ei[--ti],ei[ti]=null;for(;e===po;)po=ln[--cn],ln[cn]=null,gr=ln[--cn],ln[cn]=null,mr=ln[--cn],ln[cn]=null}var Jt=null,Qt=null,Fe=!1,Pn=null;function D0(e,t){var n=dn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function ty(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=as(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Jt=e,Qt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=po!==null?{id:mr,overflow:gr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=dn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Jt=e,Qt=null,!0):!1;default:return!1}}function rh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function sh(e){if(Fe){var t=Qt;if(t){var n=t;if(!ty(e,t)){if(rh(e))throw Error(W(418));t=as(n.nextSibling);var r=Jt;t&&ty(e,t)?D0(r,n):(e.flags=e.flags&-4097|2,Fe=!1,Jt=e)}}else{if(rh(e))throw Error(W(418));e.flags=e.flags&-4097|2,Fe=!1,Jt=e}}}function ny(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Jt=e}function Yl(e){if(e!==Jt)return!1;if(!Fe)return ny(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Zf(e.type,e.memoizedProps)),t&&(t=Qt)){if(rh(e))throw I0(),Error(W(418));for(;t;)D0(e,t),t=as(t.nextSibling)}if(ny(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(W(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Qt=as(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Qt=null}}else Qt=Jt?as(e.stateNode.nextSibling):null;return!0}function I0(){for(var e=Qt;e;)e=as(e.nextSibling)}function Mi(){Qt=Jt=null,Fe=!1}function Hp(e){Pn===null?Pn=[e]:Pn.push(e)}var RC=jr.ReactCurrentBatchConfig;function ra(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,e))}return e}function Ql(e,t){throw e=Object.prototype.toString.call(t),Error(W(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ry(e){var t=e._init;return t(e._payload)}function $0(e){function t(x,g){if(e){var w=x.deletions;w===null?(x.deletions=[g],x.flags|=16):w.push(g)}}function n(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function r(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=ds(x,g),x.index=0,x.sibling=null,x}function o(x,g,w){return x.index=w,e?(w=x.alternate,w!==null?(w=w.index,w<g?(x.flags|=2,g):w):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function a(x,g,w,_){return g===null||g.tag!==6?(g=Qd(w,x.mode,_),g.return=x,g):(g=s(g,w),g.return=x,g)}function l(x,g,w,_){var S=w.type;return S===Go?d(x,g,w.props.children,_,w.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&ry(S)===g.type)?(_=s(g,w.props),_.ref=ra(x,g,w),_.return=x,_):(_=Tc(w.type,w.key,w.props,null,x.mode,_),_.ref=ra(x,g,w),_.return=x,_)}function u(x,g,w,_){return g===null||g.tag!==4||g.stateNode.containerInfo!==w.containerInfo||g.stateNode.implementation!==w.implementation?(g=Jd(w,x.mode,_),g.return=x,g):(g=s(g,w.children||[]),g.return=x,g)}function d(x,g,w,_,S){return g===null||g.tag!==7?(g=ao(w,x.mode,_,S),g.return=x,g):(g=s(g,w),g.return=x,g)}function h(x,g,w){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Qd(""+g,x.mode,w),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fl:return w=Tc(g.type,g.key,g.props,null,x.mode,w),w.ref=ra(x,null,g),w.return=x,w;case qo:return g=Jd(g,x.mode,w),g.return=x,g;case Ur:var _=g._init;return h(x,_(g._payload),w)}if(ua(g)||Xi(g))return g=ao(g,x.mode,w,null),g.return=x,g;Ql(x,g)}return null}function p(x,g,w,_){var S=g!==null?g.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return S!==null?null:a(x,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:return w.key===S?l(x,g,w,_):null;case qo:return w.key===S?u(x,g,w,_):null;case Ur:return S=w._init,p(x,g,S(w._payload),_)}if(ua(w)||Xi(w))return S!==null?null:d(x,g,w,_,null);Ql(x,w)}return null}function f(x,g,w,_,S){if(typeof _=="string"&&_!==""||typeof _=="number")return x=x.get(w)||null,a(g,x,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Fl:return x=x.get(_.key===null?w:_.key)||null,l(g,x,_,S);case qo:return x=x.get(_.key===null?w:_.key)||null,u(g,x,_,S);case Ur:var E=_._init;return f(x,g,w,E(_._payload),S)}if(ua(_)||Xi(_))return x=x.get(w)||null,d(g,x,_,S,null);Ql(g,_)}return null}function v(x,g,w,_){for(var S=null,E=null,k=g,C=g=0,O=null;k!==null&&C<w.length;C++){k.index>C?(O=k,k=null):O=k.sibling;var N=p(x,k,w[C],_);if(N===null){k===null&&(k=O);break}e&&k&&N.alternate===null&&t(x,k),g=o(N,g,C),E===null?S=N:E.sibling=N,E=N,k=O}if(C===w.length)return n(x,k),Fe&&Ls(x,C),S;if(k===null){for(;C<w.length;C++)k=h(x,w[C],_),k!==null&&(g=o(k,g,C),E===null?S=k:E.sibling=k,E=k);return Fe&&Ls(x,C),S}for(k=r(x,k);C<w.length;C++)O=f(k,x,C,w[C],_),O!==null&&(e&&O.alternate!==null&&k.delete(O.key===null?C:O.key),g=o(O,g,C),E===null?S=O:E.sibling=O,E=O);return e&&k.forEach(function(D){return t(x,D)}),Fe&&Ls(x,C),S}function y(x,g,w,_){var S=Xi(w);if(typeof S!="function")throw Error(W(150));if(w=S.call(w),w==null)throw Error(W(151));for(var E=S=null,k=g,C=g=0,O=null,N=w.next();k!==null&&!N.done;C++,N=w.next()){k.index>C?(O=k,k=null):O=k.sibling;var D=p(x,k,N.value,_);if(D===null){k===null&&(k=O);break}e&&k&&D.alternate===null&&t(x,k),g=o(D,g,C),E===null?S=D:E.sibling=D,E=D,k=O}if(N.done)return n(x,k),Fe&&Ls(x,C),S;if(k===null){for(;!N.done;C++,N=w.next())N=h(x,N.value,_),N!==null&&(g=o(N,g,C),E===null?S=N:E.sibling=N,E=N);return Fe&&Ls(x,C),S}for(k=r(x,k);!N.done;C++,N=w.next())N=f(k,x,C,N.value,_),N!==null&&(e&&N.alternate!==null&&k.delete(N.key===null?C:N.key),g=o(N,g,C),E===null?S=N:E.sibling=N,E=N);return e&&k.forEach(function(I){return t(x,I)}),Fe&&Ls(x,C),S}function b(x,g,w,_){if(typeof w=="object"&&w!==null&&w.type===Go&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Fl:e:{for(var S=w.key,E=g;E!==null;){if(E.key===S){if(S=w.type,S===Go){if(E.tag===7){n(x,E.sibling),g=s(E,w.props.children),g.return=x,x=g;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Ur&&ry(S)===E.type){n(x,E.sibling),g=s(E,w.props),g.ref=ra(x,E,w),g.return=x,x=g;break e}n(x,E);break}else t(x,E);E=E.sibling}w.type===Go?(g=ao(w.props.children,x.mode,_,w.key),g.return=x,x=g):(_=Tc(w.type,w.key,w.props,null,x.mode,_),_.ref=ra(x,g,w),_.return=x,x=_)}return i(x);case qo:e:{for(E=w.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===w.containerInfo&&g.stateNode.implementation===w.implementation){n(x,g.sibling),g=s(g,w.children||[]),g.return=x,x=g;break e}else{n(x,g);break}else t(x,g);g=g.sibling}g=Jd(w,x.mode,_),g.return=x,x=g}return i(x);case Ur:return E=w._init,b(x,g,E(w._payload),_)}if(ua(w))return v(x,g,w,_);if(Xi(w))return y(x,g,w,_);Ql(x,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,g!==null&&g.tag===6?(n(x,g.sibling),g=s(g,w),g.return=x,x=g):(n(x,g),g=Qd(w,x.mode,_),g.return=x,x=g),i(x)):n(x,g)}return b}var Di=$0(!0),L0=$0(!1),Kc=Ts(null),qc=null,ni=null,Kp=null;function qp(){Kp=ni=qc=null}function Gp(e){var t=Kc.current;$e(Kc),e._currentValue=t}function oh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ui(e,t){qc=e,Kp=ni=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&($t=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(Kp!==e)if(e={context:e,memoizedValue:t,next:null},ni===null){if(qc===null)throw Error(W(308));ni=e,qc.dependencies={lanes:0,firstContext:e}}else ni=ni.next=e;return t}var Ks=null;function Yp(e){Ks===null?Ks=[e]:Ks.push(e)}function F0(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Yp(t)):(n.next=s.next,s.next=n),t.interleaved=n,_r(e,r)}function _r(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Br=!1;function Qp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function W0(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ls(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Se&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,_r(e,n)}return s=r.interleaved,s===null?(t.next=t,Yp(r)):(t.next=s.next,s.next=t),r.interleaved=t,_r(e,n)}function bc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dp(e,n)}}function sy(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Gc(e,t,n,r){var s=e.updateQueue;Br=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,u=l.next;l.next=null,i===null?o=u:i.next=u,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=u=l=null,a=o;do{var p=a.lane,f=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(p=t,f=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(f,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(f,h,p):v,p==null)break e;h=qe({},h,p);break e;case 2:Br=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else f={eventTime:f,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,l=h):d=d.next=f,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);go|=i,e.lanes=i,e.memoizedState=h}}function oy(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var yl={},er=Ts(yl),Wa=Ts(yl),Ua=Ts(yl);function qs(e){if(e===yl)throw Error(W(174));return e}function Jp(e,t){switch(Ae(Ua,t),Ae(Wa,e),Ae(er,yl),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Ff(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Ff(t,e)}$e(er),Ae(er,t)}function Ii(){$e(er),$e(Wa),$e(Ua)}function U0(e){qs(Ua.current);var t=qs(er.current),n=Ff(t,e.type);t!==n&&(Ae(Wa,e),Ae(er,n))}function Xp(e){Wa.current===e&&($e(er),$e(Wa))}var ze=Ts(0);function Yc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Vd=[];function Zp(){for(var e=0;e<Vd.length;e++)Vd[e]._workInProgressVersionPrimary=null;Vd.length=0}var _c=jr.ReactCurrentDispatcher,Hd=jr.ReactCurrentBatchConfig,mo=0,He=null,lt=null,dt=null,Qc=!1,ba=!1,Ba=0,PC=0;function _t(){throw Error(W(321))}function em(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!In(e[n],t[n]))return!1;return!0}function tm(e,t,n,r,s,o){if(mo=o,He=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,_c.current=e===null||e.memoizedState===null?DC:IC,e=n(r,s),ba){o=0;do{if(ba=!1,Ba=0,25<=o)throw Error(W(301));o+=1,dt=lt=null,t.updateQueue=null,_c.current=$C,e=n(r,s)}while(ba)}if(_c.current=Jc,t=lt!==null&&lt.next!==null,mo=0,dt=lt=He=null,Qc=!1,t)throw Error(W(300));return e}function nm(){var e=Ba!==0;return Ba=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return dt===null?He.memoizedState=dt=e:dt=dt.next=e,dt}function pn(){if(lt===null){var e=He.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=dt===null?He.memoizedState:dt.next;if(t!==null)dt=t,lt=e;else{if(e===null)throw Error(W(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},dt===null?He.memoizedState=dt=e:dt=dt.next=e}return dt}function za(e,t){return typeof t=="function"?t(e):t}function Kd(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=lt,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,u=o;do{var d=u.lane;if((mo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,He.lanes|=d,go|=d}u=u.next}while(u!==null&&u!==o);l===null?i=r:l.next=a,In(r,t.memoizedState)||($t=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,He.lanes|=o,go|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function qd(e){var t=pn(),n=t.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);In(o,t.memoizedState)||($t=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function B0(){}function z0(e,t){var n=He,r=pn(),s=t(),o=!In(r.memoizedState,s);if(o&&(r.memoizedState=s,$t=!0),r=r.queue,rm(K0.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||dt!==null&&dt.memoizedState.tag&1){if(n.flags|=2048,Va(9,H0.bind(null,n,r,s,t),void 0,null),ft===null)throw Error(W(349));mo&30||V0(n,t,s)}return s}function V0(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function H0(e,t,n,r){t.value=n,t.getSnapshot=r,q0(t)&&G0(e)}function K0(e,t,n){return n(function(){q0(t)&&G0(e)})}function q0(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!In(e,n)}catch{return!0}}function G0(e){var t=_r(e,1);t!==null&&An(t,e,1,-1)}function iy(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:za,lastRenderedState:e},t.queue=e,e=e.dispatch=MC.bind(null,He,e),[t.memoizedState,e]}function Va(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=He.updateQueue,t===null?(t={lastEffect:null,stores:null},He.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Y0(){return pn().memoizedState}function Sc(e,t,n,r){var s=zn();He.flags|=e,s.memoizedState=Va(1|t,n,void 0,r===void 0?null:r)}function ju(e,t,n,r){var s=pn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var i=lt.memoizedState;if(o=i.destroy,r!==null&&em(r,i.deps)){s.memoizedState=Va(t,n,o,r);return}}He.flags|=e,s.memoizedState=Va(1|t,n,o,r)}function ay(e,t){return Sc(8390656,8,e,t)}function rm(e,t){return ju(2048,8,e,t)}function Q0(e,t){return ju(4,2,e,t)}function J0(e,t){return ju(4,4,e,t)}function X0(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Z0(e,t,n){return n=n!=null?n.concat([e]):null,ju(4,4,X0.bind(null,t,e),n)}function sm(){}function ex(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&em(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function tx(e,t){var n=pn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&em(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function nx(e,t,n){return mo&21?(In(n,t)||(n=a0(),He.lanes|=n,go|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,$t=!0),e.memoizedState=n)}function OC(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=Hd.transition;Hd.transition={};try{e(!1),t()}finally{Ne=n,Hd.transition=r}}function rx(){return pn().memoizedState}function AC(e,t,n){var r=us(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},sx(e))ox(t,n);else if(n=F0(e,t,n,r),n!==null){var s=Nt();An(n,e,r,s),ix(n,t,r)}}function MC(e,t,n){var r=us(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(sx(e))ox(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,In(a,i)){var l=t.interleaved;l===null?(s.next=s,Yp(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=F0(e,t,s,r),n!==null&&(s=Nt(),An(n,e,r,s),ix(n,t,r))}}function sx(e){var t=e.alternate;return e===He||t!==null&&t===He}function ox(e,t){ba=Qc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function ix(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Dp(e,n)}}var Jc={readContext:hn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},DC={readContext:hn,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:ay,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sc(4194308,4,X0.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sc(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=AC.bind(null,He,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:iy,useDebugValue:sm,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=iy(!1),t=e[0];return e=OC.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=He,s=zn();if(Fe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=t(),ft===null)throw Error(W(349));mo&30||V0(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,ay(K0.bind(null,r,o,e),[e]),r.flags|=2048,Va(9,H0.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zn(),t=ft.identifierPrefix;if(Fe){var n=gr,r=mr;n=(r&~(1<<32-On(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ba++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=PC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},IC={readContext:hn,useCallback:ex,useContext:hn,useEffect:rm,useImperativeHandle:Z0,useInsertionEffect:Q0,useLayoutEffect:J0,useMemo:tx,useReducer:Kd,useRef:Y0,useState:function(){return Kd(za)},useDebugValue:sm,useDeferredValue:function(e){var t=pn();return nx(t,lt.memoizedState,e)},useTransition:function(){var e=Kd(za)[0],t=pn().memoizedState;return[e,t]},useMutableSource:B0,useSyncExternalStore:z0,useId:rx,unstable_isNewReconciler:!1},$C={readContext:hn,useCallback:ex,useContext:hn,useEffect:rm,useImperativeHandle:Z0,useInsertionEffect:Q0,useLayoutEffect:J0,useMemo:tx,useReducer:qd,useRef:Y0,useState:function(){return qd(za)},useDebugValue:sm,useDeferredValue:function(e){var t=pn();return lt===null?t.memoizedState=e:nx(t,lt.memoizedState,e)},useTransition:function(){var e=qd(za)[0],t=pn().memoizedState;return[e,t]},useMutableSource:B0,useSyncExternalStore:z0,useId:rx,unstable_isNewReconciler:!1};function kn(e,t){if(e&&e.defaultProps){t=qe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function ih(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:qe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Nu={isMounted:function(e){return(e=e._reactInternals)?To(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),s=us(e),o=yr(r,s);o.payload=t,n!=null&&(o.callback=n),t=ls(e,o,s),t!==null&&(An(t,e,s,r),bc(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),s=us(e),o=yr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=ls(e,o,s),t!==null&&(An(t,e,s,r),bc(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=us(e),s=yr(n,r);s.tag=2,t!=null&&(s.callback=t),t=ls(e,s,r),t!==null&&(An(t,e,r,n),bc(t,e,r))}};function ly(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(s,o):!0}function ax(e,t,n){var r=!1,s=_s,o=t.contextType;return typeof o=="object"&&o!==null?o=hn(o):(s=Ft(t)?ho:Ct.current,r=t.contextTypes,o=(r=r!=null)?Ai(e,s):_s),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Nu,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function cy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Nu.enqueueReplaceState(t,t.state,null)}function ah(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qp(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=hn(o):(o=Ft(t)?ho:Ct.current,s.context=Ai(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(ih(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Nu.enqueueReplaceState(s,s.state,null),Gc(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function $i(e,t){try{var n="",r=t;do n+=dk(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function Gd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function lh(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var LC=typeof WeakMap=="function"?WeakMap:Map;function lx(e,t,n){n=yr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Zc||(Zc=!0,vh=r),lh(e,t)},n}function cx(e,t,n){n=yr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){lh(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){lh(e,t),typeof r!="function"&&(cs===null?cs=new Set([this]):cs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function uy(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new LC;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=XC.bind(null,e,t,n),t.then(e,e))}function dy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function fy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=yr(-1,1),t.tag=2,ls(n,t,1))),n.lanes|=1),e)}var FC=jr.ReactCurrentOwner,$t=!1;function jt(e,t,n,r){t.child=e===null?L0(t,null,n,r):Di(t,e.child,n,r)}function hy(e,t,n,r,s){n=n.render;var o=t.ref;return ui(t,s),r=tm(e,t,n,r,o,s),n=nm(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sr(e,t,s)):(Fe&&n&&zp(t),t.flags|=1,jt(e,t,r,s),t.child)}function py(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!fm(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,ux(e,t,o,r,s)):(e=Tc(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(i,r)&&e.ref===t.ref)return Sr(e,t,s)}return t.flags|=1,e=ds(o,r),e.ref=t.ref,e.return=t,t.child=e}function ux(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(Ia(o,r)&&e.ref===t.ref)if($t=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&($t=!0);else return t.lanes=e.lanes,Sr(e,t,s)}return ch(e,t,n,r,s)}function dx(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ae(si,Vt),Vt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ae(si,Vt),Vt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Ae(si,Vt),Vt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ae(si,Vt),Vt|=r;return jt(e,t,s,n),t.child}function fx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ch(e,t,n,r,s){var o=Ft(n)?ho:Ct.current;return o=Ai(t,o),ui(t,s),n=tm(e,t,n,r,o,s),r=nm(),e!==null&&!$t?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Sr(e,t,s)):(Fe&&r&&zp(t),t.flags|=1,jt(e,t,n,s),t.child)}function my(e,t,n,r,s){if(Ft(n)){var o=!0;zc(t)}else o=!1;if(ui(t,s),t.stateNode===null)Ec(e,t),ax(t,n,r),ah(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,u=n.contextType;typeof u=="object"&&u!==null?u=hn(u):(u=Ft(n)?ho:Ct.current,u=Ai(t,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==u)&&cy(t,i,r,u),Br=!1;var p=t.memoizedState;i.state=p,Gc(t,r,i,s),l=t.memoizedState,a!==r||p!==l||Lt.current||Br?(typeof d=="function"&&(ih(t,n,d,r),l=t.memoizedState),(a=Br||ly(t,n,a,r,p,l,u))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=u,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,W0(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:kn(t.type,a),i.props=u,h=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=hn(l):(l=Ft(n)?ho:Ct.current,l=Ai(t,l));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&cy(t,i,r,l),Br=!1,p=t.memoizedState,i.state=p,Gc(t,r,i,s);var v=t.memoizedState;a!==h||p!==v||Lt.current||Br?(typeof f=="function"&&(ih(t,n,f,r),v=t.memoizedState),(u=Br||ly(t,n,u,r,p,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=u):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return uh(e,t,n,r,o,s)}function uh(e,t,n,r,s,o){fx(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&ey(t,n,!1),Sr(e,t,o);r=t.stateNode,FC.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=Di(t,e.child,null,o),t.child=Di(t,null,a,o)):jt(e,t,a,o),t.memoizedState=r.state,s&&ey(t,n,!0),t.child}function hx(e){var t=e.stateNode;t.pendingContext?Zg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Zg(e,t.context,!1),Jp(e,t.containerInfo)}function gy(e,t,n,r,s){return Mi(),Hp(s),t.flags|=256,jt(e,t,n,r),t.child}var dh={dehydrated:null,treeContext:null,retryLane:0};function fh(e){return{baseLanes:e,cachePool:null,transitions:null}}function px(e,t,n){var r=t.pendingProps,s=ze.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),Ae(ze,s&1),e===null)return sh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Ou(i,r,0,null),e=ao(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=fh(n),t.memoizedState=dh,e):om(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return WC(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=ds(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=ds(a,o):(o=ao(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?fh(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=dh,r}return o=e.child,e=o.sibling,r=ds(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function om(e,t){return t=Ou({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Jl(e,t,n,r){return r!==null&&Hp(r),Di(t,e.child,null,n),e=om(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function WC(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=Gd(Error(W(422))),Jl(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Ou({mode:"visible",children:r.children},s,0,null),o=ao(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&Di(t,e.child,null,i),t.child.memoizedState=fh(i),t.memoizedState=dh,o);if(!(t.mode&1))return Jl(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(W(419)),r=Gd(o,r,void 0),Jl(e,t,i,r)}if(a=(i&e.childLanes)!==0,$t||a){if(r=ft,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,_r(e,s),An(r,e,s,-1))}return dm(),r=Gd(Error(W(421))),Jl(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=ZC.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Qt=as(s.nextSibling),Jt=t,Fe=!0,Pn=null,e!==null&&(ln[cn++]=mr,ln[cn++]=gr,ln[cn++]=po,mr=e.id,gr=e.overflow,po=t),t=om(t,r.children),t.flags|=4096,t)}function yy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),oh(e.return,t,n)}function Yd(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function mx(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(jt(e,t,r.children,n),r=ze.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yy(e,n,t);else if(e.tag===19)yy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ae(ze,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&Yc(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Yd(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Yc(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Yd(t,!0,n,null,o);break;case"together":Yd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ec(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Sr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),go|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(W(153));if(t.child!==null){for(e=t.child,n=ds(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ds(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function UC(e,t,n){switch(t.tag){case 3:hx(t),Mi();break;case 5:U0(t);break;case 1:Ft(t.type)&&zc(t);break;case 4:Jp(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Ae(Kc,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Ae(ze,ze.current&1),t.flags|=128,null):n&t.child.childLanes?px(e,t,n):(Ae(ze,ze.current&1),e=Sr(e,t,n),e!==null?e.sibling:null);Ae(ze,ze.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return mx(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ae(ze,ze.current),r)break;return null;case 22:case 23:return t.lanes=0,dx(e,t,n)}return Sr(e,t,n)}var gx,hh,yx,vx;gx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};hh=function(){};yx=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,qs(er.current);var o=null;switch(n){case"input":s=Df(e,s),r=Df(e,r),o=[];break;case"select":s=qe({},s,{value:void 0}),r=qe({},r,{value:void 0}),o=[];break;case"textarea":s=Lf(e,s),r=Lf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Uc)}Wf(n,r);var i;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var a=s[u];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Na.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Na.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&De("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}};vx=function(e,t,n,r){n!==r&&(t.flags|=4)};function sa(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function St(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function BC(e,t,n){var r=t.pendingProps;switch(Vp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(t),null;case 1:return Ft(t.type)&&Bc(),St(t),null;case 3:return r=t.stateNode,Ii(),$e(Lt),$e(Ct),Zp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Yl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pn!==null&&(bh(Pn),Pn=null))),hh(e,t),St(t),null;case 5:Xp(t);var s=qs(Ua.current);if(n=t.type,e!==null&&t.stateNode!=null)yx(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(W(166));return St(t),null}if(e=qs(er.current),Yl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Gn]=t,r[Fa]=o,e=(t.mode&1)!==0,n){case"dialog":De("cancel",r),De("close",r);break;case"iframe":case"object":case"embed":De("load",r);break;case"video":case"audio":for(s=0;s<fa.length;s++)De(fa[s],r);break;case"source":De("error",r);break;case"img":case"image":case"link":De("error",r),De("load",r);break;case"details":De("toggle",r);break;case"input":Cg(r,o),De("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},De("invalid",r);break;case"textarea":jg(r,o),De("invalid",r)}Wf(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Gl(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Gl(r.textContent,a,e),s=["children",""+a]):Na.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&De("scroll",r)}switch(n){case"input":Wl(r),Tg(r,o,!0);break;case"textarea":Wl(r),Ng(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Uc)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Kw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[Gn]=t,e[Fa]=r,gx(e,t,!1,!1),t.stateNode=e;e:{switch(i=Uf(n,r),n){case"dialog":De("cancel",e),De("close",e),s=r;break;case"iframe":case"object":case"embed":De("load",e),s=r;break;case"video":case"audio":for(s=0;s<fa.length;s++)De(fa[s],e);s=r;break;case"source":De("error",e),s=r;break;case"img":case"image":case"link":De("error",e),De("load",e),s=r;break;case"details":De("toggle",e),s=r;break;case"input":Cg(e,r),s=Df(e,r),De("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=qe({},r,{value:void 0}),De("invalid",e);break;case"textarea":jg(e,r),s=Lf(e,r),De("invalid",e);break;default:s=r}Wf(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Yw(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&qw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ra(e,l):typeof l=="number"&&Ra(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Na.hasOwnProperty(o)?l!=null&&o==="onScroll"&&De("scroll",e):l!=null&&Np(e,o,l,i))}switch(n){case"input":Wl(e),Tg(e,r,!1);break;case"textarea":Wl(e),Ng(e);break;case"option":r.value!=null&&e.setAttribute("value",""+bs(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?ii(e,!!r.multiple,o,!1):r.defaultValue!=null&&ii(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Uc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return St(t),null;case 6:if(e&&t.stateNode!=null)vx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(W(166));if(n=qs(Ua.current),qs(er.current),Yl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gn]=t,(o=r.nodeValue!==n)&&(e=Jt,e!==null))switch(e.tag){case 3:Gl(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Gl(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=t,t.stateNode=r}return St(t),null;case 13:if($e(ze),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Qt!==null&&t.mode&1&&!(t.flags&128))I0(),Mi(),t.flags|=98560,o=!1;else if(o=Yl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(W(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(W(317));o[Gn]=t}else Mi(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;St(t),o=!1}else Pn!==null&&(bh(Pn),Pn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ze.current&1?ct===0&&(ct=3):dm())),t.updateQueue!==null&&(t.flags|=4),St(t),null);case 4:return Ii(),hh(e,t),e===null&&$a(t.stateNode.containerInfo),St(t),null;case 10:return Gp(t.type._context),St(t),null;case 17:return Ft(t.type)&&Bc(),St(t),null;case 19:if($e(ze),o=t.memoizedState,o===null)return St(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)sa(o,!1);else{if(ct!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Yc(e),i!==null){for(t.flags|=128,sa(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ae(ze,ze.current&1|2),t.child}e=e.sibling}o.tail!==null&&Ze()>Li&&(t.flags|=128,r=!0,sa(o,!1),t.lanes=4194304)}else{if(!r)if(e=Yc(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),sa(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Fe)return St(t),null}else 2*Ze()-o.renderingStartTime>Li&&n!==1073741824&&(t.flags|=128,r=!0,sa(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Ze(),t.sibling=null,n=ze.current,Ae(ze,r?n&1|2:n&1),t):(St(t),null);case 22:case 23:return um(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Vt&1073741824&&(St(t),t.subtreeFlags&6&&(t.flags|=8192)):St(t),null;case 24:return null;case 25:return null}throw Error(W(156,t.tag))}function zC(e,t){switch(Vp(t),t.tag){case 1:return Ft(t.type)&&Bc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ii(),$e(Lt),$e(Ct),Zp(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Xp(t),null;case 13:if($e(ze),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(W(340));Mi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return $e(ze),null;case 4:return Ii(),null;case 10:return Gp(t.type._context),null;case 22:case 23:return um(),null;case 24:return null;default:return null}}var Xl=!1,kt=!1,VC=typeof WeakSet=="function"?WeakSet:Set,J=null;function ri(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Je(e,t,r)}else n.current=null}function ph(e,t,n){try{n()}catch(r){Je(e,t,r)}}var vy=!1;function HC(e,t){if(Jf=Lc,e=S0(),Bp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(f=h.firstChild)!==null;)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===s&&(a=i),p===o&&++d===r&&(l=i),(f=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xf={focusedElem:e,selectionRange:n},Lc=!1,J=t;J!==null;)if(t=J,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,J=e;else for(;J!==null;){t=J;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?y:kn(t.type,y),b);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(_){Je(t,t.return,_)}if(e=t.sibling,e!==null){e.return=t.return,J=e;break}J=t.return}return v=vy,vy=!1,v}function _a(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&ph(t,n,o)}s=s.next}while(s!==r)}}function Ru(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function mh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function wx(e){var t=e.alternate;t!==null&&(e.alternate=null,wx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gn],delete t[Fa],delete t[th],delete t[TC],delete t[jC])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function xx(e){return e.tag===5||e.tag===3||e.tag===4}function wy(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||xx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function gh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Uc));else if(r!==4&&(e=e.child,e!==null))for(gh(e,t,n),e=e.sibling;e!==null;)gh(e,t,n),e=e.sibling}function yh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(yh(e,t,n),e=e.sibling;e!==null;)yh(e,t,n),e=e.sibling}var mt=null,Nn=!1;function Dr(e,t,n){for(n=n.child;n!==null;)bx(e,t,n),n=n.sibling}function bx(e,t,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(_u,n)}catch{}switch(n.tag){case 5:kt||ri(n,t);case 6:var r=mt,s=Nn;mt=null,Dr(e,t,n),mt=r,Nn=s,mt!==null&&(Nn?(e=mt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):mt.removeChild(n.stateNode));break;case 18:mt!==null&&(Nn?(e=mt,n=n.stateNode,e.nodeType===8?Bd(e.parentNode,n):e.nodeType===1&&Bd(e,n),Ma(e)):Bd(mt,n.stateNode));break;case 4:r=mt,s=Nn,mt=n.stateNode.containerInfo,Nn=!0,Dr(e,t,n),mt=r,Nn=s;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&ph(n,t,i),s=s.next}while(s!==r)}Dr(e,t,n);break;case 1:if(!kt&&(ri(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Je(n,t,a)}Dr(e,t,n);break;case 21:Dr(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,Dr(e,t,n),kt=r):Dr(e,t,n);break;default:Dr(e,t,n)}}function xy(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new VC),t.forEach(function(r){var s=eT.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function bn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:mt=a.stateNode,Nn=!1;break e;case 3:mt=a.stateNode.containerInfo,Nn=!0;break e;case 4:mt=a.stateNode.containerInfo,Nn=!0;break e}a=a.return}if(mt===null)throw Error(W(160));bx(o,i,s),mt=null,Nn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(u){Je(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_x(t,e),t=t.sibling}function _x(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bn(t,e),Bn(e),r&4){try{_a(3,e,e.return),Ru(3,e)}catch(y){Je(e,e.return,y)}try{_a(5,e,e.return)}catch(y){Je(e,e.return,y)}}break;case 1:bn(t,e),Bn(e),r&512&&n!==null&&ri(n,n.return);break;case 5:if(bn(t,e),Bn(e),r&512&&n!==null&&ri(n,n.return),e.flags&32){var s=e.stateNode;try{Ra(s,"")}catch(y){Je(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Vw(s,o),Uf(a,i);var u=Uf(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?Yw(s,h):d==="dangerouslySetInnerHTML"?qw(s,h):d==="children"?Ra(s,h):Np(s,d,h,u)}switch(a){case"input":If(s,o);break;case"textarea":Hw(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var f=o.value;f!=null?ii(s,!!o.multiple,f,!1):p!==!!o.multiple&&(o.defaultValue!=null?ii(s,!!o.multiple,o.defaultValue,!0):ii(s,!!o.multiple,o.multiple?[]:"",!1))}s[Fa]=o}catch(y){Je(e,e.return,y)}}break;case 6:if(bn(t,e),Bn(e),r&4){if(e.stateNode===null)throw Error(W(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Je(e,e.return,y)}}break;case 3:if(bn(t,e),Bn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ma(t.containerInfo)}catch(y){Je(e,e.return,y)}break;case 4:bn(t,e),Bn(e);break;case 13:bn(t,e),Bn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(lm=Ze())),r&4&&xy(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(u=kt)||d,bn(t,e),kt=u):bn(t,e),Bn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(J=e,d=e.child;d!==null;){for(h=J=d;J!==null;){switch(p=J,f=p.child,p.tag){case 0:case 11:case 14:case 15:_a(4,p,p.return);break;case 1:ri(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Je(r,n,y)}}break;case 5:ri(p,p.return);break;case 22:if(p.memoizedState!==null){_y(h);continue}}f!==null?(f.return=p,J=f):_y(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Gw("display",i))}catch(y){Je(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){Je(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:bn(t,e),Bn(e),r&4&&xy(e);break;case 21:break;default:bn(t,e),Bn(e)}}function Bn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(xx(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ra(s,""),r.flags&=-33);var o=wy(e);yh(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=wy(e);gh(e,a,i);break;default:throw Error(W(161))}}catch(l){Je(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function KC(e,t,n){J=e,Sx(e)}function Sx(e,t,n){for(var r=(e.mode&1)!==0;J!==null;){var s=J,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Xl;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||kt;a=Xl;var u=kt;if(Xl=i,(kt=l)&&!u)for(J=s;J!==null;)i=J,l=i.child,i.tag===22&&i.memoizedState!==null?Sy(s):l!==null?(l.return=i,J=l):Sy(s);for(;o!==null;)J=o,Sx(o),o=o.sibling;J=s,Xl=a,kt=u}by(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,J=o):by(e)}}function by(e){for(;J!==null;){var t=J;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||Ru(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:kn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&oy(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}oy(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Ma(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}kt||t.flags&512&&mh(t)}catch(p){Je(t,t.return,p)}}if(t===e){J=null;break}if(n=t.sibling,n!==null){n.return=t.return,J=n;break}J=t.return}}function _y(e){for(;J!==null;){var t=J;if(t===e){J=null;break}var n=t.sibling;if(n!==null){n.return=t.return,J=n;break}J=t.return}}function Sy(e){for(;J!==null;){var t=J;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Ru(4,t)}catch(l){Je(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Je(t,s,l)}}var o=t.return;try{mh(t)}catch(l){Je(t,o,l)}break;case 5:var i=t.return;try{mh(t)}catch(l){Je(t,i,l)}}}catch(l){Je(t,t.return,l)}if(t===e){J=null;break}var a=t.sibling;if(a!==null){a.return=t.return,J=a;break}J=t.return}}var qC=Math.ceil,Xc=jr.ReactCurrentDispatcher,im=jr.ReactCurrentOwner,fn=jr.ReactCurrentBatchConfig,Se=0,ft=null,nt=null,vt=0,Vt=0,si=Ts(0),ct=0,Ha=null,go=0,Pu=0,am=0,Sa=null,It=null,lm=0,Li=1/0,ur=null,Zc=!1,vh=null,cs=null,Zl=!1,ns=null,eu=0,Ea=0,wh=null,kc=-1,Cc=0;function Nt(){return Se&6?Ze():kc!==-1?kc:kc=Ze()}function us(e){return e.mode&1?Se&2&&vt!==0?vt&-vt:RC.transition!==null?(Cc===0&&(Cc=a0()),Cc):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:p0(e.type)),e):1}function An(e,t,n,r){if(50<Ea)throw Ea=0,wh=null,Error(W(185));pl(e,n,r),(!(Se&2)||e!==ft)&&(e===ft&&(!(Se&2)&&(Pu|=n),ct===4&&Hr(e,vt)),Wt(e,r),n===1&&Se===0&&!(t.mode&1)&&(Li=Ze()+500,Tu&&js()))}function Wt(e,t){var n=e.callbackNode;Rk(e,t);var r=$c(e,e===ft?vt:0);if(r===0)n!==null&&Og(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Og(n),t===1)e.tag===0?NC(Ey.bind(null,e)):A0(Ey.bind(null,e)),kC(function(){!(Se&6)&&js()}),n=null;else{switch(l0(r)){case 1:n=Mp;break;case 4:n=o0;break;case 16:n=Ic;break;case 536870912:n=i0;break;default:n=Ic}n=Px(n,Ex.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Ex(e,t){if(kc=-1,Cc=0,Se&6)throw Error(W(327));var n=e.callbackNode;if(di()&&e.callbackNode!==n)return null;var r=$c(e,e===ft?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=tu(e,r);else{t=r;var s=Se;Se|=2;var o=Cx();(ft!==e||vt!==t)&&(ur=null,Li=Ze()+500,io(e,t));do try{QC();break}catch(a){kx(e,a)}while(!0);qp(),Xc.current=o,Se=s,nt!==null?t=0:(ft=null,vt=0,t=ct)}if(t!==0){if(t===2&&(s=Kf(e),s!==0&&(r=s,t=xh(e,s))),t===1)throw n=Ha,io(e,0),Hr(e,r),Wt(e,Ze()),n;if(t===6)Hr(e,r);else{if(s=e.current.alternate,!(r&30)&&!GC(s)&&(t=tu(e,r),t===2&&(o=Kf(e),o!==0&&(r=o,t=xh(e,o))),t===1))throw n=Ha,io(e,0),Hr(e,r),Wt(e,Ze()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(W(345));case 2:Fs(e,It,ur);break;case 3:if(Hr(e,r),(r&130023424)===r&&(t=lm+500-Ze(),10<t)){if($c(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=eh(Fs.bind(null,e,It,ur),t);break}Fs(e,It,ur);break;case 4:if(Hr(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-On(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=Ze()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*qC(r/1960))-r,10<r){e.timeoutHandle=eh(Fs.bind(null,e,It,ur),r);break}Fs(e,It,ur);break;case 5:Fs(e,It,ur);break;default:throw Error(W(329))}}}return Wt(e,Ze()),e.callbackNode===n?Ex.bind(null,e):null}function xh(e,t){var n=Sa;return e.current.memoizedState.isDehydrated&&(io(e,t).flags|=256),e=tu(e,t),e!==2&&(t=It,It=n,t!==null&&bh(t)),e}function bh(e){It===null?It=e:It.push.apply(It,e)}function GC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!In(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Hr(e,t){for(t&=~am,t&=~Pu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-On(t),r=1<<n;e[n]=-1,t&=~r}}function Ey(e){if(Se&6)throw Error(W(327));di();var t=$c(e,0);if(!(t&1))return Wt(e,Ze()),null;var n=tu(e,t);if(e.tag!==0&&n===2){var r=Kf(e);r!==0&&(t=r,n=xh(e,r))}if(n===1)throw n=Ha,io(e,0),Hr(e,t),Wt(e,Ze()),n;if(n===6)throw Error(W(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Fs(e,It,ur),Wt(e,Ze()),null}function cm(e,t){var n=Se;Se|=1;try{return e(t)}finally{Se=n,Se===0&&(Li=Ze()+500,Tu&&js())}}function yo(e){ns!==null&&ns.tag===0&&!(Se&6)&&di();var t=Se;Se|=1;var n=fn.transition,r=Ne;try{if(fn.transition=null,Ne=1,e)return e()}finally{Ne=r,fn.transition=n,Se=t,!(Se&6)&&js()}}function um(){Vt=si.current,$e(si)}function io(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,EC(n)),nt!==null)for(n=nt.return;n!==null;){var r=n;switch(Vp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Bc();break;case 3:Ii(),$e(Lt),$e(Ct),Zp();break;case 5:Xp(r);break;case 4:Ii();break;case 13:$e(ze);break;case 19:$e(ze);break;case 10:Gp(r.type._context);break;case 22:case 23:um()}n=n.return}if(ft=e,nt=e=ds(e.current,null),vt=Vt=t,ct=0,Ha=null,am=Pu=go=0,It=Sa=null,Ks!==null){for(t=0;t<Ks.length;t++)if(n=Ks[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}Ks=null}return e}function kx(e,t){do{var n=nt;try{if(qp(),_c.current=Jc,Qc){for(var r=He.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qc=!1}if(mo=0,dt=lt=He=null,ba=!1,Ba=0,im.current=null,n===null||n.return===null){ct=1,Ha=t,nt=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=vt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=dy(i);if(f!==null){f.flags&=-257,fy(f,i,a,o,t),f.mode&1&&uy(o,u,t),t=f,l=u;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){uy(o,u,t),dm();break e}l=Error(W(426))}}else if(Fe&&a.mode&1){var b=dy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),fy(b,i,a,o,t),Hp($i(l,a));break e}}o=l=$i(l,a),ct!==4&&(ct=2),Sa===null?Sa=[o]:Sa.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var x=lx(o,l,t);sy(o,x);break e;case 1:a=l;var g=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof g.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(cs===null||!cs.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var _=cx(o,a,t);sy(o,_);break e}}o=o.return}while(o!==null)}jx(n)}catch(S){t=S,nt===n&&n!==null&&(nt=n=n.return);continue}break}while(!0)}function Cx(){var e=Xc.current;return Xc.current=Jc,e===null?Jc:e}function dm(){(ct===0||ct===3||ct===2)&&(ct=4),ft===null||!(go&268435455)&&!(Pu&268435455)||Hr(ft,vt)}function tu(e,t){var n=Se;Se|=2;var r=Cx();(ft!==e||vt!==t)&&(ur=null,io(e,t));do try{YC();break}catch(s){kx(e,s)}while(!0);if(qp(),Se=n,Xc.current=r,nt!==null)throw Error(W(261));return ft=null,vt=0,ct}function YC(){for(;nt!==null;)Tx(nt)}function QC(){for(;nt!==null&&!bk();)Tx(nt)}function Tx(e){var t=Rx(e.alternate,e,Vt);e.memoizedProps=e.pendingProps,t===null?jx(e):nt=t,im.current=null}function jx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=zC(n,t),n!==null){n.flags&=32767,nt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ct=6,nt=null;return}}else if(n=BC(n,t,Vt),n!==null){nt=n;return}if(t=t.sibling,t!==null){nt=t;return}nt=t=e}while(t!==null);ct===0&&(ct=5)}function Fs(e,t,n){var r=Ne,s=fn.transition;try{fn.transition=null,Ne=1,JC(e,t,n,r)}finally{fn.transition=s,Ne=r}return null}function JC(e,t,n,r){do di();while(ns!==null);if(Se&6)throw Error(W(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(W(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(Pk(e,o),e===ft&&(nt=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zl||(Zl=!0,Px(Ic,function(){return di(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=fn.transition,fn.transition=null;var i=Ne;Ne=1;var a=Se;Se|=4,im.current=null,HC(e,n),_x(n,e),yC(Xf),Lc=!!Jf,Xf=Jf=null,e.current=n,KC(n),_k(),Se=a,Ne=i,fn.transition=o}else e.current=n;if(Zl&&(Zl=!1,ns=e,eu=s),o=e.pendingLanes,o===0&&(cs=null),kk(n.stateNode),Wt(e,Ze()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Zc)throw Zc=!1,e=vh,vh=null,e;return eu&1&&e.tag!==0&&di(),o=e.pendingLanes,o&1?e===wh?Ea++:(Ea=0,wh=e):Ea=0,js(),null}function di(){if(ns!==null){var e=l0(eu),t=fn.transition,n=Ne;try{if(fn.transition=null,Ne=16>e?16:e,ns===null)var r=!1;else{if(e=ns,ns=null,eu=0,Se&6)throw Error(W(331));var s=Se;for(Se|=4,J=e.current;J!==null;){var o=J,i=o.child;if(J.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(J=u;J!==null;){var d=J;switch(d.tag){case 0:case 11:case 15:_a(8,d,o)}var h=d.child;if(h!==null)h.return=d,J=h;else for(;J!==null;){d=J;var p=d.sibling,f=d.return;if(wx(d),d===u){J=null;break}if(p!==null){p.return=f,J=p;break}J=f}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}J=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,J=i;else e:for(;J!==null;){if(o=J,o.flags&2048)switch(o.tag){case 0:case 11:case 15:_a(9,o,o.return)}var x=o.sibling;if(x!==null){x.return=o.return,J=x;break e}J=o.return}}var g=e.current;for(J=g;J!==null;){i=J;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,J=w;else e:for(i=g;J!==null;){if(a=J,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ru(9,a)}}catch(S){Je(a,a.return,S)}if(a===i){J=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,J=_;break e}J=a.return}}if(Se=s,js(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(_u,e)}catch{}r=!0}return r}finally{Ne=n,fn.transition=t}}return!1}function ky(e,t,n){t=$i(n,t),t=lx(e,t,1),e=ls(e,t,1),t=Nt(),e!==null&&(pl(e,1,t),Wt(e,t))}function Je(e,t,n){if(e.tag===3)ky(e,e,n);else for(;t!==null;){if(t.tag===3){ky(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(cs===null||!cs.has(r))){e=$i(n,e),e=cx(t,e,1),t=ls(t,e,1),e=Nt(),t!==null&&(pl(t,1,e),Wt(t,e));break}}t=t.return}}function XC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(vt&n)===n&&(ct===4||ct===3&&(vt&130023424)===vt&&500>Ze()-lm?io(e,0):am|=n),Wt(e,t)}function Nx(e,t){t===0&&(e.mode&1?(t=zl,zl<<=1,!(zl&130023424)&&(zl=4194304)):t=1);var n=Nt();e=_r(e,t),e!==null&&(pl(e,t,n),Wt(e,n))}function ZC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Nx(e,n)}function eT(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(t),Nx(e,n)}var Rx;Rx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Lt.current)$t=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return $t=!1,UC(e,t,n);$t=!!(e.flags&131072)}else $t=!1,Fe&&t.flags&1048576&&M0(t,Hc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ec(e,t),e=t.pendingProps;var s=Ai(t,Ct.current);ui(t,n),s=tm(null,t,r,e,s,n);var o=nm();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ft(r)?(o=!0,zc(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qp(t),s.updater=Nu,t.stateNode=s,s._reactInternals=t,ah(t,r,e,n),t=uh(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&zp(t),jt(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ec(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=nT(r),e=kn(r,e),s){case 0:t=ch(null,t,r,e,n);break e;case 1:t=my(null,t,r,e,n);break e;case 11:t=hy(null,t,r,e,n);break e;case 14:t=py(null,t,r,kn(r.type,e),n);break e}throw Error(W(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kn(r,s),ch(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kn(r,s),my(e,t,r,s,n);case 3:e:{if(hx(t),e===null)throw Error(W(387));r=t.pendingProps,o=t.memoizedState,s=o.element,W0(e,t),Gc(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=$i(Error(W(423)),t),t=gy(e,t,r,n,s);break e}else if(r!==s){s=$i(Error(W(424)),t),t=gy(e,t,r,n,s);break e}else for(Qt=as(t.stateNode.containerInfo.firstChild),Jt=t,Fe=!0,Pn=null,n=L0(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Mi(),r===s){t=Sr(e,t,n);break e}jt(e,t,r,n)}t=t.child}return t;case 5:return U0(t),e===null&&sh(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,Zf(r,s)?i=null:o!==null&&Zf(r,o)&&(t.flags|=32),fx(e,t),jt(e,t,i,n),t.child;case 6:return e===null&&sh(t),null;case 13:return px(e,t,n);case 4:return Jp(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Di(t,null,r,n):jt(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kn(r,s),hy(e,t,r,s,n);case 7:return jt(e,t,t.pendingProps,n),t.child;case 8:return jt(e,t,t.pendingProps.children,n),t.child;case 12:return jt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,Ae(Kc,r._currentValue),r._currentValue=i,o!==null)if(In(o.value,i)){if(o.children===s.children&&!Lt.current){t=Sr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=yr(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),oh(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(W(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),oh(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}jt(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,ui(t,n),s=hn(s),r=r(s),t.flags|=1,jt(e,t,r,n),t.child;case 14:return r=t.type,s=kn(r,t.pendingProps),s=kn(r.type,s),py(e,t,r,s,n);case 15:return ux(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:kn(r,s),Ec(e,t),t.tag=1,Ft(r)?(e=!0,zc(t)):e=!1,ui(t,n),ax(t,r,s),ah(t,r,s,n),uh(null,t,r,!0,e,n);case 19:return mx(e,t,n);case 22:return dx(e,t,n)}throw Error(W(156,t.tag))};function Px(e,t){return s0(e,t)}function tT(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function dn(e,t,n,r){return new tT(e,t,n,r)}function fm(e){return e=e.prototype,!(!e||!e.isReactComponent)}function nT(e){if(typeof e=="function")return fm(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pp)return 11;if(e===Op)return 14}return 2}function ds(e,t){var n=e.alternate;return n===null?(n=dn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tc(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")fm(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Go:return ao(n.children,s,o,t);case Rp:i=8,s|=8;break;case Pf:return e=dn(12,n,t,s|2),e.elementType=Pf,e.lanes=o,e;case Of:return e=dn(13,n,t,s),e.elementType=Of,e.lanes=o,e;case Af:return e=dn(19,n,t,s),e.elementType=Af,e.lanes=o,e;case Uw:return Ou(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Fw:i=10;break e;case Ww:i=9;break e;case Pp:i=11;break e;case Op:i=14;break e;case Ur:i=16,r=null;break e}throw Error(W(130,e==null?e:typeof e,""))}return t=dn(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function ao(e,t,n,r){return e=dn(7,e,r,t),e.lanes=n,e}function Ou(e,t,n,r){return e=dn(22,e,r,t),e.elementType=Uw,e.lanes=n,e.stateNode={isHidden:!1},e}function Qd(e,t,n){return e=dn(6,e,null,t),e.lanes=n,e}function Jd(e,t,n){return t=dn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function rT(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Pd(0),this.expirationTimes=Pd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Pd(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function hm(e,t,n,r,s,o,i,a,l){return e=new rT(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=dn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qp(o),e}function sT(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qo,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Ox(e){if(!e)return _s;e=e._reactInternals;e:{if(To(e)!==e||e.tag!==1)throw Error(W(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ft(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(W(171))}if(e.tag===1){var n=e.type;if(Ft(n))return O0(e,n,t)}return t}function Ax(e,t,n,r,s,o,i,a,l){return e=hm(n,r,!0,e,s,o,i,a,l),e.context=Ox(null),n=e.current,r=Nt(),s=us(n),o=yr(r,s),o.callback=t??null,ls(n,o,s),e.current.lanes=s,pl(e,s,r),Wt(e,r),e}function Au(e,t,n,r){var s=t.current,o=Nt(),i=us(s);return n=Ox(n),t.context===null?t.context=n:t.pendingContext=n,t=yr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ls(s,t,i),e!==null&&(An(e,s,i,o),bc(e,s,i)),i}function nu(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Cy(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function pm(e,t){Cy(e,t),(e=e.alternate)&&Cy(e,t)}function oT(){return null}var Mx=typeof reportError=="function"?reportError:function(e){console.error(e)};function mm(e){this._internalRoot=e}Mu.prototype.render=mm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(W(409));Au(e,t,null,null)};Mu.prototype.unmount=mm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;yo(function(){Au(null,e,null,null)}),t[br]=null}};function Mu(e){this._internalRoot=e}Mu.prototype.unstable_scheduleHydration=function(e){if(e){var t=d0();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Vr.length&&t!==0&&t<Vr[n].priority;n++);Vr.splice(n,0,e),n===0&&h0(e)}};function gm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Du(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Ty(){}function iT(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var u=nu(i);o.call(u)}}var i=Ax(t,r,e,0,null,!1,!1,"",Ty);return e._reactRootContainer=i,e[br]=i.current,$a(e.nodeType===8?e.parentNode:e),yo(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var u=nu(l);a.call(u)}}var l=hm(e,0,!1,null,null,!1,!1,"",Ty);return e._reactRootContainer=l,e[br]=l.current,$a(e.nodeType===8?e.parentNode:e),yo(function(){Au(t,l,n,r)}),l}function Iu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=nu(i);a.call(l)}}Au(t,i,e,s)}else i=iT(n,t,e,s,r);return nu(i)}c0=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=da(t.pendingLanes);n!==0&&(Dp(t,n|1),Wt(t,Ze()),!(Se&6)&&(Li=Ze()+500,js()))}break;case 13:yo(function(){var r=_r(e,1);if(r!==null){var s=Nt();An(r,e,1,s)}}),pm(e,1)}};Ip=function(e){if(e.tag===13){var t=_r(e,134217728);if(t!==null){var n=Nt();An(t,e,134217728,n)}pm(e,134217728)}};u0=function(e){if(e.tag===13){var t=us(e),n=_r(e,t);if(n!==null){var r=Nt();An(n,e,t,r)}pm(e,t)}};d0=function(){return Ne};f0=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};zf=function(e,t,n){switch(t){case"input":if(If(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Cu(r);if(!s)throw Error(W(90));zw(r),If(r,s)}}}break;case"textarea":Hw(e,n);break;case"select":t=n.value,t!=null&&ii(e,!!n.multiple,t,!1)}};Xw=cm;Zw=yo;var aT={usingClientEntryPoint:!1,Events:[gl,Xo,Cu,Qw,Jw,cm]},oa={findFiberByHostInstance:Hs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lT={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:jr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=n0(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||oT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ec.isDisabled&&ec.supportsFiber)try{_u=ec.inject(lT),Zn=ec}catch{}}tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aT;tn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gm(t))throw Error(W(200));return sT(e,t,null,n)};tn.createRoot=function(e,t){if(!gm(e))throw Error(W(299));var n=!1,r="",s=Mx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=hm(e,1,!1,null,null,n,!1,r,s),e[br]=t.current,$a(e.nodeType===8?e.parentNode:e),new mm(t)};tn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(W(188)):(e=Object.keys(e).join(","),Error(W(268,e)));return e=n0(t),e=e===null?null:e.stateNode,e};tn.flushSync=function(e){return yo(e)};tn.hydrate=function(e,t,n){if(!Du(t))throw Error(W(200));return Iu(null,e,t,!0,n)};tn.hydrateRoot=function(e,t,n){if(!gm(e))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=Mx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=Ax(t,null,e,1,n??null,s,!1,o,i),e[br]=t.current,$a(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Mu(t)};tn.render=function(e,t,n){if(!Du(t))throw Error(W(200));return Iu(null,e,t,!1,n)};tn.unmountComponentAtNode=function(e){if(!Du(e))throw Error(W(40));return e._reactRootContainer?(yo(function(){Iu(null,null,e,!1,function(){e._reactRootContainer=null,e[br]=null})}),!0):!1};tn.unstable_batchedUpdates=cm;tn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Du(n))throw Error(W(200));if(e==null||e._reactInternals===void 0)throw Error(W(38));return Iu(e,t,n,!1,r)};tn.version="18.3.1-next-f1338f8080-20240426";function Dx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dx)}catch(e){console.error(e)}}Dx(),Dw.exports=tn;var jo=Dw.exports;const Ix=Sw(jo);var $x,jy=jo;$x=jy.createRoot,jy.hydrateRoot;const cT=1,uT=1e6;let Xd=0;function dT(){return Xd=(Xd+1)%Number.MAX_SAFE_INTEGER,Xd.toString()}const Zd=new Map,Ny=e=>{if(Zd.has(e))return;const t=setTimeout(()=>{Zd.delete(e),ka({type:"REMOVE_TOAST",toastId:e})},uT);Zd.set(e,t)},fT=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,cT)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?Ny(n):e.toasts.forEach(r=>{Ny(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},jc=[];let Nc={toasts:[]};function ka(e){Nc=fT(Nc,e),jc.forEach(t=>{t(Nc)})}function hT({...e}){const t=dT(),n=s=>ka({type:"UPDATE_TOAST",toast:{...s,id:t}}),r=()=>ka({type:"DISMISS_TOAST",toastId:t});return ka({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:s=>{s||r()}}}),{id:t,dismiss:r,update:n}}function rn(){const[e,t]=m.useState(Nc);return m.useEffect(()=>(jc.push(t),()=>{const n=jc.indexOf(t);n>-1&&jc.splice(n,1)}),[e]),{...e,toast:hT,dismiss:n=>ka({type:"DISMISS_TOAST",toastId:n})}}function te(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}function Ry(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Vi(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Ry(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Ry(e[s],null)}}}}function Ce(...e){return m.useCallback(Vi(...e),e)}function pT(e,t){const n=m.createContext(t),r=o=>{const{children:i,...a}=o,l=m.useMemo(()=>a,Object.values(a));return c.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=m.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Fn(e,t=[]){let n=[];function r(o,i){const a=m.createContext(i),l=n.length;n=[...n,i];const u=h=>{var x;const{scope:p,children:f,...v}=h,y=((x=p==null?void 0:p[e])==null?void 0:x[l])||a,b=m.useMemo(()=>v,Object.values(v));return c.jsx(y.Provider,{value:b,children:f})};u.displayName=o+"Provider";function d(h,p){var y;const f=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,v=m.useContext(f);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[u,d]}const s=()=>{const o=n.map(i=>m.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return m.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,mT(s,...t)]}function mT(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:u})=>{const h=l(o)[`__scope${u}`];return{...a,...h}},{});return m.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}function Py(e){const t=gT(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,a=m.Children.toArray(o),l=a.find(vT);if(l){const u=l.props.children,d=a.map(h=>h===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function gT(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=xT(s),a=wT(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Vi(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var yT=Symbol("radix.slottable");function vT(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===yT}function wT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function xT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ym(e){const t=e+"CollectionProvider",[n,r]=Fn(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:x}=y,g=V.useRef(null),w=V.useRef(new Map).current;return c.jsx(s,{scope:b,itemMap:w,collectionRef:g,children:x})};i.displayName=t;const a=e+"CollectionSlot",l=Py(a),u=V.forwardRef((y,b)=>{const{scope:x,children:g}=y,w=o(a,x),_=Ce(b,w.collectionRef);return c.jsx(l,{ref:_,children:g})});u.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=Py(d),f=V.forwardRef((y,b)=>{const{scope:x,children:g,...w}=y,_=V.useRef(null),S=Ce(b,_),E=o(d,x);return V.useEffect(()=>(E.itemMap.set(_,{ref:_,...w}),()=>void E.itemMap.delete(_))),c.jsx(p,{[h]:"",ref:S,children:g})});f.displayName=d;function v(y){const b=o(e+"CollectionConsumer",y);return V.useCallback(()=>{const g=b.collectionRef.current;if(!g)return[];const w=Array.from(g.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((E,k)=>w.indexOf(E.ref.current)-w.indexOf(k.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:u,ItemSlot:f},v,r]}function bT(e){const t=_T(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,a=m.Children.toArray(o),l=a.find(ET);if(l){const u=l.props.children,d=a.map(h=>h===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function _T(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=CT(s),a=kT(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Vi(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ST=Symbol("radix.slottable");function ET(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ST}function kT(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function CT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var TT=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],le=TT.reduce((e,t)=>{const n=bT(`Primitive.${t}`),r=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Lx(e,t){e&&jo.flushSync(()=>e.dispatchEvent(t))}function mn(e){const t=m.useRef(e);return m.useEffect(()=>{t.current=e}),m.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function jT(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e);m.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var NT="DismissableLayer",_h="dismissableLayer.update",RT="dismissableLayer.pointerDownOutside",PT="dismissableLayer.focusOutside",Oy,Fx=m.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),vl=m.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,u=m.useContext(Fx),[d,h]=m.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,f]=m.useState({}),v=Ce(t,k=>h(k)),y=Array.from(u.layers),[b]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),x=y.indexOf(b),g=d?y.indexOf(d):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,_=g>=x,S=AT(k=>{const C=k.target,O=[...u.branches].some(N=>N.contains(C));!_||O||(s==null||s(k),i==null||i(k),k.defaultPrevented||a==null||a())},p),E=MT(k=>{const C=k.target;[...u.branches].some(N=>N.contains(C))||(o==null||o(k),i==null||i(k),k.defaultPrevented||a==null||a())},p);return jT(k=>{g===u.layers.size-1&&(r==null||r(k),!k.defaultPrevented&&a&&(k.preventDefault(),a()))},p),m.useEffect(()=>{if(d)return n&&(u.layersWithOutsidePointerEventsDisabled.size===0&&(Oy=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(d)),u.layers.add(d),Ay(),()=>{n&&u.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Oy)}},[d,p,n,u]),m.useEffect(()=>()=>{d&&(u.layers.delete(d),u.layersWithOutsidePointerEventsDisabled.delete(d),Ay())},[d,u]),m.useEffect(()=>{const k=()=>f({});return document.addEventListener(_h,k),()=>document.removeEventListener(_h,k)},[]),c.jsx(le.div,{...l,ref:v,style:{pointerEvents:w?_?"auto":"none":void 0,...e.style},onFocusCapture:te(e.onFocusCapture,E.onFocusCapture),onBlurCapture:te(e.onBlurCapture,E.onBlurCapture),onPointerDownCapture:te(e.onPointerDownCapture,S.onPointerDownCapture)})});vl.displayName=NT;var OT="DismissableLayerBranch",Wx=m.forwardRef((e,t)=>{const n=m.useContext(Fx),r=m.useRef(null),s=Ce(t,r);return m.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),c.jsx(le.div,{...e,ref:s})});Wx.displayName=OT;function AT(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e),r=m.useRef(!1),s=m.useRef(()=>{});return m.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){Ux(RT,n,u,{discrete:!0})};const u={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function MT(e,t=globalThis==null?void 0:globalThis.document){const n=mn(e),r=m.useRef(!1);return m.useEffect(()=>{const s=o=>{o.target&&!r.current&&Ux(PT,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ay(){const e=new CustomEvent(_h);document.dispatchEvent(e)}function Ux(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Lx(s,o):s.dispatchEvent(o)}var DT=vl,IT=Wx,xt=globalThis!=null&&globalThis.document?m.useLayoutEffect:()=>{},$T="Portal",$u=m.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=m.useState(!1);xt(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?Ix.createPortal(c.jsx(le.div,{...r,ref:t}),i):null});$u.displayName=$T;function LT(e,t){return m.useReducer((n,r)=>t[n][r]??n,e)}var Ns=e=>{const{present:t,children:n}=e,r=FT(t),s=typeof n=="function"?n({present:r.isPresent}):m.Children.only(n),o=Ce(r.ref,WT(s));return typeof n=="function"||r.isPresent?m.cloneElement(s,{ref:o}):null};Ns.displayName="Presence";function FT(e){const[t,n]=m.useState(),r=m.useRef(null),s=m.useRef(e),o=m.useRef("none"),i=e?"mounted":"unmounted",[a,l]=LT(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return m.useEffect(()=>{const u=tc(r.current);o.current=a==="mounted"?u:"none"},[a]),xt(()=>{const u=r.current,d=s.current;if(d!==e){const p=o.current,f=tc(u);e?l("MOUNT"):f==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(d&&p!==f?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),xt(()=>{if(t){let u;const d=t.ownerDocument.defaultView??window,h=f=>{const y=tc(r.current).includes(CSS.escape(f.animationName));if(f.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",u=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=f=>{f.target===t&&(o.current=tc(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(u),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:m.useCallback(u=>{r.current=u?getComputedStyle(u):null,n(u)},[])}}function tc(e){return(e==null?void 0:e.animationName)||"none"}function WT(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var UT=bu[" useInsertionEffect ".trim().toString()]||xt;function Er({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=BT({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=m.useRef(e!==void 0);m.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const u=m.useCallback(d=>{var h;if(a){const p=zT(d)?d(e):d;p!==e&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,e,o,i]);return[l,u]}function BT({defaultProp:e,onChange:t}){const[n,r]=m.useState(e),s=m.useRef(n),o=m.useRef(t);return UT(()=>{o.current=t},[t]),m.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function zT(e){return typeof e=="function"}var Bx=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),VT="VisuallyHidden",Lu=m.forwardRef((e,t)=>c.jsx(le.span,{...e,ref:t,style:{...Bx,...e.style}}));Lu.displayName=VT;var HT=Lu,vm="ToastProvider",[wm,KT,qT]=ym("Toast"),[zx]=Fn("Toast",[qT]),[GT,Fu]=zx(vm),Vx=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:o=50,children:i}=e,[a,l]=m.useState(null),[u,d]=m.useState(0),h=m.useRef(!1),p=m.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${vm}\`. Expected non-empty \`string\`.`),c.jsx(wm.Provider,{scope:t,children:c.jsx(GT,{scope:t,label:n,duration:r,swipeDirection:s,swipeThreshold:o,toastCount:u,viewport:a,onViewportChange:l,onToastAdd:m.useCallback(()=>d(f=>f+1),[]),onToastRemove:m.useCallback(()=>d(f=>f-1),[]),isFocusedToastEscapeKeyDownRef:h,isClosePausedRef:p,children:i})})};Vx.displayName=vm;var Hx="ToastViewport",YT=["F8"],Sh="toast.viewportPause",Eh="toast.viewportResume",Kx=m.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=YT,label:s="Notifications ({hotkey})",...o}=e,i=Fu(Hx,n),a=KT(n),l=m.useRef(null),u=m.useRef(null),d=m.useRef(null),h=m.useRef(null),p=Ce(t,h,i.onViewportChange),f=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),v=i.toastCount>0;m.useEffect(()=>{const b=x=>{var w;r.length!==0&&r.every(_=>x[_]||x.code===_)&&((w=h.current)==null||w.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),m.useEffect(()=>{const b=l.current,x=h.current;if(v&&b&&x){const g=()=>{if(!i.isClosePausedRef.current){const E=new CustomEvent(Sh);x.dispatchEvent(E),i.isClosePausedRef.current=!0}},w=()=>{if(i.isClosePausedRef.current){const E=new CustomEvent(Eh);x.dispatchEvent(E),i.isClosePausedRef.current=!1}},_=E=>{!b.contains(E.relatedTarget)&&w()},S=()=>{b.contains(document.activeElement)||w()};return b.addEventListener("focusin",g),b.addEventListener("focusout",_),b.addEventListener("pointermove",g),b.addEventListener("pointerleave",S),window.addEventListener("blur",g),window.addEventListener("focus",w),()=>{b.removeEventListener("focusin",g),b.removeEventListener("focusout",_),b.removeEventListener("pointermove",g),b.removeEventListener("pointerleave",S),window.removeEventListener("blur",g),window.removeEventListener("focus",w)}}},[v,i.isClosePausedRef]);const y=m.useCallback(({tabbingDirection:b})=>{const g=a().map(w=>{const _=w.ref.current,S=[_,...lj(_)];return b==="forwards"?S:S.reverse()});return(b==="forwards"?g.reverse():g).flat()},[a]);return m.useEffect(()=>{const b=h.current;if(b){const x=g=>{var S,E,k;const w=g.altKey||g.ctrlKey||g.metaKey;if(g.key==="Tab"&&!w){const C=document.activeElement,O=g.shiftKey;if(g.target===b&&O){(S=u.current)==null||S.focus();return}const I=y({tabbingDirection:O?"backwards":"forwards"}),M=I.findIndex(P=>P===C);ef(I.slice(M+1))?g.preventDefault():O?(E=u.current)==null||E.focus():(k=d.current)==null||k.focus()}};return b.addEventListener("keydown",x),()=>b.removeEventListener("keydown",x)}},[a,y]),c.jsxs(IT,{ref:l,role:"region","aria-label":s.replace("{hotkey}",f),tabIndex:-1,style:{pointerEvents:v?void 0:"none"},children:[v&&c.jsx(kh,{ref:u,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"forwards"});ef(b)}}),c.jsx(wm.Slot,{scope:n,children:c.jsx(le.ol,{tabIndex:-1,...o,ref:p})}),v&&c.jsx(kh,{ref:d,onFocusFromOutsideViewport:()=>{const b=y({tabbingDirection:"backwards"});ef(b)}})]})});Kx.displayName=Hx;var qx="ToastFocusProxy",kh=m.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=e,o=Fu(qx,n);return c.jsx(Lu,{tabIndex:0,...s,ref:t,style:{position:"fixed"},onFocus:i=>{var u;const a=i.relatedTarget;!((u=o.viewport)!=null&&u.contains(a))&&r()}})});kh.displayName=qx;var wl="Toast",QT="toast.swipeStart",JT="toast.swipeMove",XT="toast.swipeCancel",ZT="toast.swipeEnd",Gx=m.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:o,...i}=e,[a,l]=Er({prop:r,defaultProp:s??!0,onChange:o,caller:wl});return c.jsx(Ns,{present:n||a,children:c.jsx(nj,{open:a,...i,ref:t,onClose:()=>l(!1),onPause:mn(e.onPause),onResume:mn(e.onResume),onSwipeStart:te(e.onSwipeStart,u=>{u.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:te(e.onSwipeMove,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","move"),u.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${h}px`)}),onSwipeCancel:te(e.onSwipeCancel,u=>{u.currentTarget.setAttribute("data-swipe","cancel"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:te(e.onSwipeEnd,u=>{const{x:d,y:h}=u.detail.delta;u.currentTarget.setAttribute("data-swipe","end"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),u.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),u.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${d}px`),u.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${h}px`),l(!1)})})})});Gx.displayName=wl;var[ej,tj]=zx(wl,{onClose(){}}),nj=m.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:o,onClose:i,onEscapeKeyDown:a,onPause:l,onResume:u,onSwipeStart:d,onSwipeMove:h,onSwipeCancel:p,onSwipeEnd:f,...v}=e,y=Fu(wl,n),[b,x]=m.useState(null),g=Ce(t,P=>x(P)),w=m.useRef(null),_=m.useRef(null),S=s||y.duration,E=m.useRef(0),k=m.useRef(S),C=m.useRef(0),{onToastAdd:O,onToastRemove:N}=y,D=mn(()=>{var U;(b==null?void 0:b.contains(document.activeElement))&&((U=y.viewport)==null||U.focus()),i()}),I=m.useCallback(P=>{!P||P===1/0||(window.clearTimeout(C.current),E.current=new Date().getTime(),C.current=window.setTimeout(D,P))},[D]);m.useEffect(()=>{const P=y.viewport;if(P){const U=()=>{I(k.current),u==null||u()},$=()=>{const L=new Date().getTime()-E.current;k.current=k.current-L,window.clearTimeout(C.current),l==null||l()};return P.addEventListener(Sh,$),P.addEventListener(Eh,U),()=>{P.removeEventListener(Sh,$),P.removeEventListener(Eh,U)}}},[y.viewport,S,l,u,I]),m.useEffect(()=>{o&&!y.isClosePausedRef.current&&I(S)},[o,S,y.isClosePausedRef,I]),m.useEffect(()=>(O(),()=>N()),[O,N]);const M=m.useMemo(()=>b?tb(b):null,[b]);return y.viewport?c.jsxs(c.Fragment,{children:[M&&c.jsx(rj,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite",children:M}),c.jsx(ej,{scope:n,onClose:D,children:jo.createPortal(c.jsx(wm.ItemSlot,{scope:n,children:c.jsx(DT,{asChild:!0,onEscapeKeyDown:te(a,()=>{y.isFocusedToastEscapeKeyDownRef.current||D(),y.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(le.li,{tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":y.swipeDirection,...v,ref:g,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:te(e.onKeyDown,P=>{P.key==="Escape"&&(a==null||a(P.nativeEvent),P.nativeEvent.defaultPrevented||(y.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:te(e.onPointerDown,P=>{P.button===0&&(w.current={x:P.clientX,y:P.clientY})}),onPointerMove:te(e.onPointerMove,P=>{if(!w.current)return;const U=P.clientX-w.current.x,$=P.clientY-w.current.y,L=!!_.current,R=["left","right"].includes(y.swipeDirection),A=["left","up"].includes(y.swipeDirection)?Math.min:Math.max,B=R?A(0,U):0,Q=R?0:A(0,$),K=P.pointerType==="touch"?10:2,Z={x:B,y:Q},X={originalEvent:P,delta:Z};L?(_.current=Z,nc(JT,h,X,{discrete:!1})):My(Z,y.swipeDirection,K)?(_.current=Z,nc(QT,d,X,{discrete:!1}),P.target.setPointerCapture(P.pointerId)):(Math.abs(U)>K||Math.abs($)>K)&&(w.current=null)}),onPointerUp:te(e.onPointerUp,P=>{const U=_.current,$=P.target;if($.hasPointerCapture(P.pointerId)&&$.releasePointerCapture(P.pointerId),_.current=null,w.current=null,U){const L=P.currentTarget,R={originalEvent:P,delta:U};My(U,y.swipeDirection,y.swipeThreshold)?nc(ZT,f,R,{discrete:!0}):nc(XT,p,R,{discrete:!0}),L.addEventListener("click",A=>A.preventDefault(),{once:!0})}})})})}),y.viewport)})]}):null}),rj=e=>{const{__scopeToast:t,children:n,...r}=e,s=Fu(wl,t),[o,i]=m.useState(!1),[a,l]=m.useState(!1);return ij(()=>i(!0)),m.useEffect(()=>{const u=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(u)},[]),a?null:c.jsx($u,{asChild:!0,children:c.jsx(Lu,{...r,children:o&&c.jsxs(c.Fragment,{children:[s.label," ",n]})})})},sj="ToastTitle",Yx=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(le.div,{...r,ref:t})});Yx.displayName=sj;var oj="ToastDescription",Qx=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(le.div,{...r,ref:t})});Qx.displayName=oj;var Jx="ToastAction",Xx=m.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(eb,{altText:n,asChild:!0,children:c.jsx(xm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${Jx}\`. Expected non-empty \`string\`.`),null)});Xx.displayName=Jx;var Zx="ToastClose",xm=m.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,s=tj(Zx,n);return c.jsx(eb,{asChild:!0,children:c.jsx(le.button,{type:"button",...r,ref:t,onClick:te(e.onClick,s.onClose)})})});xm.displayName=Zx;var eb=m.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...s}=e;return c.jsx(le.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:t})});function tb(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),aj(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!s)if(o){const i=r.dataset.radixToastAnnounceAlt;i&&t.push(i)}else t.push(...tb(r))}}),t}function nc(e,t,n,{discrete:r}){const s=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?Lx(s,o):s.dispatchEvent(o)}var My=(e,t,n=0)=>{const r=Math.abs(e.x),s=Math.abs(e.y),o=r>s;return t==="left"||t==="right"?o&&r>n:!o&&s>n};function ij(e=()=>{}){const t=mn(e);xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function aj(e){return e.nodeType===e.ELEMENT_NODE}function lj(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ef(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var cj=Vx,nb=Kx,rb=Gx,sb=Yx,ob=Qx,ib=Xx,ab=xm;function lb(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=lb(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function cb(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=lb(e))&&(r&&(r+=" "),r+=t);return r}const Dy=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,Iy=cb,xl=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return Iy(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(u=>{const d=n==null?void 0:n[u],h=o==null?void 0:o[u];if(d===null)return null;const p=Dy(d)||Dy(h);return s[u][p]}),a=n&&Object.entries(n).reduce((u,d)=>{let[h,p]=d;return p===void 0||(u[h]=p),u},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((u,d)=>{let{class:h,className:p,...f}=d;return Object.entries(f).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...u,h,p]:u},[]);return Iy(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uj=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ub=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var dj={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fj=m.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>m.createElement("svg",{ref:l,...dj,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:ub("lucide",s),...a},[...i.map(([u,d])=>m.createElement(u,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(e,t)=>{const n=m.forwardRef(({className:r,...s},o)=>m.createElement(fj,{ref:o,iconNode:t,className:ub(`lucide-${uj(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hj=he("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const db=he("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pj=he("CalendarRange",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M17 14h-6",key:"bkmgh3"}],["path",{d:"M13 18H7",key:"bb0bb7"}],["path",{d:"M7 14h.01",key:"1qa3f1"}],["path",{d:"M17 18h.01",key:"1bdyru"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mj=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qa=he("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=he("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ru=he("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=he("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gj=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yj=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vj=he("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gs=he("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=he("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wj=he("FileSpreadsheet",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xj=he("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bj=he("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fb=he("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hb=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pb=he("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sj=he("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mb=he("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=he("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kj=he("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=he("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=he("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gb=he("ToggleLeft",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"8",cy:"12",r:"2",key:"1nvbw3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yb=he("ToggleRight",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"6",ry:"6",key:"f2vt7d"}],["circle",{cx:"16",cy:"12",r:"2",key:"4ma0v8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bl=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jj=he("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nj=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rj=he("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pj=he("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oj=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=he("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),bm="-",Dj=e=>{const t=$j(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:i=>{const a=i.split(bm);return a[0]===""&&a.length!==1&&a.shift(),vb(a,t)||Ij(i)},getConflictingClassGroupIds:(i,a)=>{const l=n[i]||[];return a&&r[i]?[...l,...r[i]]:l}}},vb=(e,t)=>{var i;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),s=r?vb(e.slice(1),r):void 0;if(s)return s;if(t.validators.length===0)return;const o=e.join(bm);return(i=t.validators.find(({validator:a})=>a(o)))==null?void 0:i.classGroupId},Ly=/^\[(.+)\]$/,Ij=e=>{if(Ly.test(e)){const t=Ly.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},$j=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Fj(Object.entries(e.classGroups),n).forEach(([o,i])=>{jh(i,r,o,t)}),r},jh=(e,t,n,r)=>{e.forEach(s=>{if(typeof s=="string"){const o=s===""?t:Fy(t,s);o.classGroupId=n;return}if(typeof s=="function"){if(Lj(s)){jh(s(r),t,n,r);return}t.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([o,i])=>{jh(i,Fy(t,o),n,r)})})},Fy=(e,t)=>{let n=e;return t.split(bm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Lj=e=>e.isThemeGetter,Fj=(e,t)=>t?e.map(([n,r])=>{const s=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([i,a])=>[t+i,a])):o);return[n,s]}):e,Wj=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const s=(o,i)=>{n.set(o,i),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let i=n.get(o);if(i!==void 0)return i;if((i=r.get(o))!==void 0)return s(o,i),i},set(o,i){n.has(o)?n.set(o,i):s(o,i)}}},wb="!",Uj=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,s=t[0],o=t.length,i=a=>{const l=[];let u=0,d=0,h;for(let b=0;b<a.length;b++){let x=a[b];if(u===0){if(x===s&&(r||a.slice(b,b+o)===t)){l.push(a.slice(d,b)),d=b+o;continue}if(x==="/"){h=b;continue}}x==="["?u++:x==="]"&&u--}const p=l.length===0?a:a.substring(d),f=p.startsWith(wb),v=f?p.substring(1):p,y=h&&h>d?h-d:void 0;return{modifiers:l,hasImportantModifier:f,baseClassName:v,maybePostfixModifierPosition:y}};return n?a=>n({className:a,parseClassName:i}):i},Bj=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},zj=e=>({cache:Wj(e.cacheSize),parseClassName:Uj(e),...Dj(e)}),Vj=/\s+/,Hj=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=t,o=[],i=e.trim().split(Vj);let a="";for(let l=i.length-1;l>=0;l-=1){const u=i[l],{modifiers:d,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:f}=n(u);let v=!!f,y=r(v?p.substring(0,f):p);if(!y){if(!v){a=u+(a.length>0?" "+a:a);continue}if(y=r(p),!y){a=u+(a.length>0?" "+a:a);continue}v=!1}const b=Bj(d).join(":"),x=h?b+wb:b,g=x+y;if(o.includes(g))continue;o.push(g);const w=s(y,v);for(let _=0;_<w.length;++_){const S=w[_];o.push(x+S)}a=u+(a.length>0?" "+a:a)}return a};function Kj(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=xb(t))&&(r&&(r+=" "),r+=n);return r}const xb=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=xb(e[r]))&&(n&&(n+=" "),n+=t);return n};function qj(e,...t){let n,r,s,o=i;function i(l){const u=t.reduce((d,h)=>h(d),e());return n=zj(u),r=n.cache.get,s=n.cache.set,o=a,a(l)}function a(l){const u=r(l);if(u)return u;const d=Hj(l,n);return s(l,d),d}return function(){return o(Kj.apply(null,arguments))}}const Me=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},bb=/^\[(?:([a-z-]+):)?(.+)\]$/i,Gj=/^\d+\/\d+$/,Yj=new Set(["px","full","screen"]),Qj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Jj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Xj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,Zj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,eN=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,lr=e=>fi(e)||Yj.has(e)||Gj.test(e),Ir=e=>Hi(e,"length",lN),fi=e=>!!e&&!Number.isNaN(Number(e)),tf=e=>Hi(e,"number",fi),ia=e=>!!e&&Number.isInteger(Number(e)),tN=e=>e.endsWith("%")&&fi(e.slice(0,-1)),fe=e=>bb.test(e),$r=e=>Qj.test(e),nN=new Set(["length","size","percentage"]),rN=e=>Hi(e,nN,_b),sN=e=>Hi(e,"position",_b),oN=new Set(["image","url"]),iN=e=>Hi(e,oN,uN),aN=e=>Hi(e,"",cN),aa=()=>!0,Hi=(e,t,n)=>{const r=bb.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},lN=e=>Jj.test(e)&&!Xj.test(e),_b=()=>!1,cN=e=>Zj.test(e),uN=e=>eN.test(e),dN=()=>{const e=Me("colors"),t=Me("spacing"),n=Me("blur"),r=Me("brightness"),s=Me("borderColor"),o=Me("borderRadius"),i=Me("borderSpacing"),a=Me("borderWidth"),l=Me("contrast"),u=Me("grayscale"),d=Me("hueRotate"),h=Me("invert"),p=Me("gap"),f=Me("gradientColorStops"),v=Me("gradientColorStopPositions"),y=Me("inset"),b=Me("margin"),x=Me("opacity"),g=Me("padding"),w=Me("saturate"),_=Me("scale"),S=Me("sepia"),E=Me("skew"),k=Me("space"),C=Me("translate"),O=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",fe,t],I=()=>[fe,t],M=()=>["",lr,Ir],P=()=>["auto",fi,fe],U=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],$=()=>["solid","dashed","dotted","double","none"],L=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],R=()=>["start","end","center","between","around","evenly","stretch"],A=()=>["","0",fe],B=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Q=()=>[fi,fe];return{cacheSize:500,separator:":",theme:{colors:[aa],spacing:[lr,Ir],blur:["none","",$r,fe],brightness:Q(),borderColor:[e],borderRadius:["none","","full",$r,fe],borderSpacing:I(),borderWidth:M(),contrast:Q(),grayscale:A(),hueRotate:Q(),invert:A(),gap:I(),gradientColorStops:[e],gradientColorStopPositions:[tN,Ir],inset:D(),margin:D(),opacity:Q(),padding:I(),saturate:Q(),scale:Q(),sepia:A(),skew:Q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",fe]}],container:["container"],columns:[{columns:[$r]}],"break-after":[{"break-after":B()}],"break-before":[{"break-before":B()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...U(),fe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:O()}],"overscroll-x":[{"overscroll-x":O()}],"overscroll-y":[{"overscroll-y":O()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[y]}],"inset-x":[{"inset-x":[y]}],"inset-y":[{"inset-y":[y]}],start:[{start:[y]}],end:[{end:[y]}],top:[{top:[y]}],right:[{right:[y]}],bottom:[{bottom:[y]}],left:[{left:[y]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ia,fe]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",fe]}],grow:[{grow:A()}],shrink:[{shrink:A()}],order:[{order:["first","last","none",ia,fe]}],"grid-cols":[{"grid-cols":[aa]}],"col-start-end":[{col:["auto",{span:["full",ia,fe]},fe]}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":[aa]}],"row-start-end":[{row:["auto",{span:[ia,fe]},fe]}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",fe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...R()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...R(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...R(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[g]}],px:[{px:[g]}],py:[{py:[g]}],ps:[{ps:[g]}],pe:[{pe:[g]}],pt:[{pt:[g]}],pr:[{pr:[g]}],pb:[{pb:[g]}],pl:[{pl:[g]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[k]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[k]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",fe,t]}],"min-w":[{"min-w":[fe,t,"min","max","fit"]}],"max-w":[{"max-w":[fe,t,"none","full","min","max","fit","prose",{screen:[$r]},$r]}],h:[{h:[fe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[fe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[fe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",$r,Ir]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",tf]}],"font-family":[{font:[aa]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",fe]}],"line-clamp":[{"line-clamp":["none",fi,tf]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",lr,fe]}],"list-image":[{"list-image":["none",fe]}],"list-style-type":[{list:["none","disc","decimal",fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[x]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[x]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...$(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",lr,Ir]}],"underline-offset":[{"underline-offset":["auto",lr,fe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[x]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...U(),sN]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",rN]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},iN]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[f]}],"gradient-via":[{via:[f]}],"gradient-to":[{to:[f]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[x]}],"border-style":[{border:[...$(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[x]}],"divide-style":[{divide:$()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...$()]}],"outline-offset":[{"outline-offset":[lr,fe]}],"outline-w":[{outline:[lr,Ir]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:M()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[x]}],"ring-offset-w":[{"ring-offset":[lr,Ir]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",$r,aN]}],"shadow-color":[{shadow:[aa]}],opacity:[{opacity:[x]}],"mix-blend":[{"mix-blend":[...L(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":L()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",$r,fe]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[d]}],invert:[{invert:[h]}],saturate:[{saturate:[w]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[d]}],"backdrop-invert":[{"backdrop-invert":[h]}],"backdrop-opacity":[{"backdrop-opacity":[x]}],"backdrop-saturate":[{"backdrop-saturate":[w]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[i]}],"border-spacing-x":[{"border-spacing-x":[i]}],"border-spacing-y":[{"border-spacing-y":[i]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",fe]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",fe]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[_]}],"scale-x":[{"scale-x":[_]}],"scale-y":[{"scale-y":[_]}],rotate:[{rotate:[ia,fe]}],"translate-x":[{"translate-x":[C]}],"translate-y":[{"translate-y":[C]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",fe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",fe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",fe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[lr,Ir,tf]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},fN=qj(dN);function Ke(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function sr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function Bs(e,t){const n=Ke(e);return isNaN(t)?sr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Nh(e,t){const n=Ke(e);if(isNaN(t))return sr(e,NaN);if(!t)return n;const r=n.getDate(),s=sr(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const o=s.getDate();return r>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function hN(e){const t=Ke(e).getDay();return t===0||t===6}const Sb=6048e5,pN=864e5,Eb=6e4,kb=36e5;let mN={};function Uu(){return mN}function wo(e,t){var a,l,u,d;const n=Uu(),r=(t==null?void 0:t.weekStartsOn)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=Ke(e),o=s.getDay(),i=(o<r?7:0)+o-r;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function su(e){return wo(e,{weekStartsOn:1})}function Cb(e){const t=Ke(e),n=t.getFullYear(),r=sr(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=su(r),o=sr(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const i=su(o);return t.getTime()>=s.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function ou(e){const t=Ke(e);return t.setHours(0,0,0,0),t}function Wy(e){const t=Ke(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Rh(e,t){const n=ou(e),r=ou(t),s=+n-Wy(n),o=+r-Wy(r);return Math.round((s-o)/pN)}function gN(e){const t=Cb(e),n=sr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),su(n)}function _l(e,t){const n=ou(e),r=ou(t);return+n==+r}function yN(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function vN(e){if(!yN(e)&&typeof e!="number")return!1;const t=Ke(e);return!isNaN(Number(t))}function wN(e){const t=Ke(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Tb(e,t){const n=Ke(e.start),r=Ke(e.end);let s=+n>+r;const o=s?+n:+r,i=s?r:n;i.setHours(0,0,0,0);let a=1;const l=[];for(;+i<=o;)l.push(Ke(i)),i.setDate(i.getDate()+a),i.setHours(0,0,0,0);return s?l.reverse():l}function jb(e){const t=Ke(e);return t.setDate(1),t.setHours(0,0,0,0),t}function xN(e){const t=Ke(e),n=sr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function bN(e,t){const n=t==null?void 0:t.weekStartsOn,r=Ke(e),s=r.getDay(),o=(s<n?-7:0)+6-(s-n);return r.setDate(r.getDate()+o),r.setHours(23,59,59,999),r}const _N={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},SN=(e,t,n)=>{let r;const s=_N[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function hi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const EN={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kN={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},CN={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},TN={date:hi({formats:EN,defaultWidth:"full"}),time:hi({formats:kN,defaultWidth:"full"}),dateTime:hi({formats:CN,defaultWidth:"full"})},jN={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},NN=(e,t,n,r)=>jN[e];function Yn(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,a=n!=null&&n.width?String(n.width):i;s=e.formattingValues[a]||e.formattingValues[i]}else{const i=e.defaultWidth,a=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[a]||e.values[i]}const o=e.argumentCallback?e.argumentCallback(t):t;return s[o]}}const RN={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},PN={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ON={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},AN={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},MN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},DN={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},IN=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},$N={ordinalNumber:IN,era:Yn({values:RN,defaultWidth:"wide"}),quarter:Yn({values:PN,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yn({values:ON,defaultWidth:"wide"}),day:Yn({values:AN,defaultWidth:"wide"}),dayPeriod:Yn({values:MN,defaultWidth:"wide",formattingValues:DN,defaultFormattingWidth:"wide"})};function Qn(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],o=t.match(s);if(!o)return null;const i=o[0],a=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(a)?FN(a,h=>h.test(i)):LN(a,h=>h.test(i));let u;u=e.valueCallback?e.valueCallback(l):l,u=n.valueCallback?n.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function LN(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function FN(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Nb(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],o=t.match(e.parsePattern);if(!o)return null;let i=e.valueCallback?e.valueCallback(o[0]):o[0];i=n.valueCallback?n.valueCallback(i):i;const a=t.slice(s.length);return{value:i,rest:a}}}const WN=/^(\d+)(th|st|nd|rd)?/i,UN=/\d+/i,BN={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zN={any:[/^b/i,/^(a|c)/i]},VN={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},HN={any:[/1/i,/2/i,/3/i,/4/i]},KN={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},qN={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},GN={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},YN={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},QN={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},JN={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},XN={ordinalNumber:Nb({matchPattern:WN,parsePattern:UN,valueCallback:e=>parseInt(e,10)}),era:Qn({matchPatterns:BN,defaultMatchWidth:"wide",parsePatterns:zN,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:VN,defaultMatchWidth:"wide",parsePatterns:HN,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qn({matchPatterns:KN,defaultMatchWidth:"wide",parsePatterns:qN,defaultParseWidth:"any"}),day:Qn({matchPatterns:GN,defaultMatchWidth:"wide",parsePatterns:YN,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:QN,defaultMatchWidth:"any",parsePatterns:JN,defaultParseWidth:"any"})},ZN={code:"en-US",formatDistance:SN,formatLong:TN,formatRelative:NN,localize:$N,match:XN,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eR(e){const t=Ke(e);return Rh(t,xN(t))+1}function tR(e){const t=Ke(e),n=+su(t)-+gN(t);return Math.round(n/Sb)+1}function Rb(e,t){var d,h,p,f;const n=Ke(e),r=n.getFullYear(),s=Uu(),o=(t==null?void 0:t.firstWeekContainsDate)??((h=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??s.firstWeekContainsDate??((f=(p=s.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,i=sr(e,0);i.setFullYear(r+1,0,o),i.setHours(0,0,0,0);const a=wo(i,t),l=sr(e,0);l.setFullYear(r,0,o),l.setHours(0,0,0,0);const u=wo(l,t);return n.getTime()>=a.getTime()?r+1:n.getTime()>=u.getTime()?r:r-1}function nR(e,t){var a,l,u,d;const n=Uu(),r=(t==null?void 0:t.firstWeekContainsDate)??((l=(a=t==null?void 0:t.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((d=(u=n.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=Rb(e,t),o=sr(e,0);return o.setFullYear(s,0,r),o.setHours(0,0,0,0),wo(o,t)}function rR(e,t){const n=Ke(e),r=+wo(n,t)-+nR(n,t);return Math.round(r/Sb)+1}function je(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const Lr={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return je(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):je(n+1,2)},d(e,t){return je(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return je(e.getHours()%12||12,t.length)},H(e,t){return je(e.getHours(),t.length)},m(e,t){return je(e.getMinutes(),t.length)},s(e,t){return je(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return je(s,t.length)}},Mo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Uy={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return Lr.y(e,t)},Y:function(e,t,n,r){const s=Rb(e,r),o=s>0?s:1-s;if(t==="YY"){const i=o%100;return je(i,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):je(o,t.length)},R:function(e,t){const n=Cb(e);return je(n,t.length)},u:function(e,t){const n=e.getFullYear();return je(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return je(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return je(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return Lr.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return je(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=rR(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):je(s,t.length)},I:function(e,t,n){const r=tR(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):je(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Lr.d(e,t)},D:function(e,t,n){const r=eR(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):je(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return je(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),o=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return je(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return je(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=Mo.noon:r===0?s=Mo.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=Mo.evening:r>=12?s=Mo.afternoon:r>=4?s=Mo.morning:s=Mo.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Lr.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Lr.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):je(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):je(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Lr.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Lr.s(e,t)},S:function(e,t){return Lr.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return zy(r);case"XXXX":case"XX":return Ws(r);case"XXXXX":case"XXX":default:return Ws(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return zy(r);case"xxxx":case"xx":return Ws(r);case"xxxxx":case"xxx":default:return Ws(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+By(r,":");case"OOOO":default:return"GMT"+Ws(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+By(r,":");case"zzzz":default:return"GMT"+Ws(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return je(r,t.length)},T:function(e,t,n){const r=e.getTime();return je(r,t.length)}};function By(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),o=r%60;return o===0?n+String(s):n+String(s)+t+je(o,2)}function zy(e,t){return e%60===0?(e>0?"-":"+")+je(Math.abs(e)/60,2):Ws(e,t)}function Ws(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=je(Math.trunc(r/60),2),o=je(r%60,2);return n+s+t+o}const Vy=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Pb=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},sR=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Vy(e,t);let o;switch(r){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Vy(r,t)).replace("{{time}}",Pb(s,t))},oR={p:Pb,P:sR},iR=/^D+$/,aR=/^Y+$/,lR=["D","DD","YY","YYYY"];function cR(e){return iR.test(e)}function uR(e){return aR.test(e)}function dR(e,t,n){const r=fR(e,t,n);if(console.warn(r),lR.includes(e))throw new RangeError(r)}function fR(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const hR=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,pR=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,mR=/^'([^]*?)'?$/,gR=/''/g,yR=/[a-zA-Z]/;function xe(e,t,n){var d,h,p,f,v,y,b,x;const r=Uu(),s=(n==null?void 0:n.locale)??r.locale??ZN,o=(n==null?void 0:n.firstWeekContainsDate)??((h=(d=n==null?void 0:n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(p=r.locale)==null?void 0:p.options)==null?void 0:f.firstWeekContainsDate)??1,i=(n==null?void 0:n.weekStartsOn)??((y=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:y.weekStartsOn)??r.weekStartsOn??((x=(b=r.locale)==null?void 0:b.options)==null?void 0:x.weekStartsOn)??0,a=Ke(e);if(!vN(a))throw new RangeError("Invalid time value");let l=t.match(pR).map(g=>{const w=g[0];if(w==="p"||w==="P"){const _=oR[w];return _(g,s.formatLong)}return g}).join("").match(hR).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const w=g[0];if(w==="'")return{isToken:!1,value:vR(g)};if(Uy[w])return{isToken:!0,value:g};if(w.match(yR))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const u={firstWeekContainsDate:o,weekStartsOn:i,locale:s};return l.map(g=>{if(!g.isToken)return g.value;const w=g.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&uR(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&cR(w))&&dR(w,t,String(e));const _=Uy[w[0]];return _(a,w,s.localize,u)}).join("")}function vR(e){const t=e.match(mR);return t?t[1].replace(gR,"'"):e}function Bu(e){return Ke(e).getDay()}function Ob(e,t){const n=Ke(e),r=Ke(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function _m(e,t){return Bs(e,-t)}function _e(e,t){const r=_R(e);let s;if(r.date){const l=SR(r.date,2);s=ER(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const o=s.getTime();let i=0,a;if(r.time&&(i=kR(r.time),isNaN(i)))return new Date(NaN);if(r.timezone){if(a=CR(r.timezone),isNaN(a))return new Date(NaN)}else{const l=new Date(o+i),u=new Date(0);return u.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),u.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),u}return new Date(o+i+a)}const rc={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},wR=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,xR=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,bR=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _R(e){const t={},n=e.split(rc.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],rc.timeZoneDelimiter.test(t.date)&&(t.date=e.split(rc.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=rc.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function SR(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,o=r[2]?parseInt(r[2]):null;return{year:o===null?s:o*100,restDateString:e.slice((r[1]||r[2]).length)}}function ER(e,t){if(t===null)return new Date(NaN);const n=e.match(wR);if(!n)return new Date(NaN);const r=!!n[4],s=la(n[1]),o=la(n[2])-1,i=la(n[3]),a=la(n[4]),l=la(n[5])-1;if(r)return PR(t,a,l)?TR(t,a,l):new Date(NaN);{const u=new Date(0);return!NR(t,o,i)||!RR(t,s)?new Date(NaN):(u.setUTCFullYear(t,o,Math.max(s,i)),u)}}function la(e){return e?parseInt(e):1}function kR(e){const t=e.match(xR);if(!t)return NaN;const n=nf(t[1]),r=nf(t[2]),s=nf(t[3]);return OR(n,r,s)?n*kb+r*Eb+s*1e3:NaN}function nf(e){return e&&parseFloat(e.replace(",","."))||0}function CR(e){if(e==="Z")return 0;const t=e.match(bR);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return AR(r,s)?n*(r*kb+s*Eb):NaN}function TR(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,o=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+o),r}const jR=[31,null,31,30,31,30,31,31,30,31,30,31];function Ab(e){return e%400===0||e%4===0&&e%100!==0}function NR(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(jR[t]||(Ab(e)?29:28))}function RR(e,t){return t>=1&&t<=(Ab(e)?366:365)}function PR(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function OR(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function AR(e,t){return t>=0&&t<=59}function Mb(e,t){return Nh(e,-1)}const MR={lessThanXSeconds:{one:" 1 ",other:" {{count}} "},xSeconds:{one:"1 ",other:"{{count}} "},halfAMinute:"",lessThanXMinutes:{one:" 1 ",other:" {{count}} "},xMinutes:{one:"1 ",other:"{{count}} "},xHours:{one:"1 ",other:"{{count}} "},aboutXHours:{one:" 1 ",other:" {{count}} "},xDays:{one:"1 ",other:"{{count}} "},aboutXWeeks:{one:" 1 ",other:" {{count}} "},xWeeks:{one:"1 ",other:"{{count}} "},aboutXMonths:{one:" 1 ",other:" {{count}} "},xMonths:{one:"1 ",other:"{{count}} "},aboutXYears:{one:" 1 ",other:" {{count}} "},xYears:{one:"1 ",other:"{{count}} "},overXYears:{one:" 1 ",other:" {{count}} "},almostXYears:{one:" 1 ",other:" {{count}} "}},DR=(e,t,n)=>{let r;const s=MR[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",String(t)),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?r+"":r+"":r},IR={full:"y''M''d'' EEEE",long:"y''M''d''",medium:"yyyy-MM-dd",short:"yy-MM-dd"},$R={full:"zzzz a h:mm:ss",long:"z a h:mm:ss",medium:"a h:mm:ss",short:"a h:mm"},LR={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},FR={date:hi({formats:IR,defaultWidth:"full"}),time:hi({formats:$R,defaultWidth:"full"}),dateTime:hi({formats:LR,defaultWidth:"full"})},WR={lastWeek:"''eeee p",yesterday:"'' p",today:"'' p",tomorrow:"'' p",nextWeek:"''eeee p",other:"P"},UR=(e,t,n,r)=>WR[e],BR={narrow:["",""],abbreviated:["",""],wide:["",""]},zR={narrow:["1","2","3","4"],abbreviated:["","","",""],wide:["","","",""]},VR={narrow:["","","","","","","","","","","",""],abbreviated:["1","2","3","4","5","6","7","8","9","10","11","12"],wide:["","","","","","","","","","","",""]},HR={narrow:["","","","","","",""],short:["","","","","","",""],abbreviated:["","","","","","",""],wide:["","","","","","",""]},KR={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},qR={narrow:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},abbreviated:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""},wide:{am:"",pm:"",midnight:"",noon:"",morning:"",afternoon:"",evening:"",night:""}},GR=(e,t)=>{const n=Number(e);switch(t==null?void 0:t.unit){case"date":return n+"";case"hour":return n+"";case"minute":return n+"";case"second":return n+"";default:return" "+n}},YR={ordinalNumber:GR,era:Yn({values:BR,defaultWidth:"wide"}),quarter:Yn({values:zR,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Yn({values:VR,defaultWidth:"wide"}),day:Yn({values:HR,defaultWidth:"wide"}),dayPeriod:Yn({values:KR,defaultWidth:"wide",formattingValues:qR,defaultFormattingWidth:"wide"})},QR=/^(\s*)?\d+(|||)?/i,JR=/\d+/i,XR={narrow:/^()/i,abbreviated:/^()/i,wide:/^(|)/i},ZR={any:[/^()/i,/^()/i]},eP={narrow:/^[1234]/i,abbreviated:/^[]/i,wide:/^[]/i},tP={any:[/(1|)/i,/(2|)/i,/(3|)/i,/(4|)/i]},nP={narrow:/^(|||||||||[])/i,abbreviated:/^(|||||||||[]|\d|1[12])/i,wide:/^(|||||||||[])/i},rP={narrow:[/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^(?!(|))/i,/^/i,/^/i],any:[/^|1/i,/^|2/i,/^|3/i,/^|4/i,/^|5/i,/^|6/i,/^|7/i,/^|8/i,/^|9/i,/^(?!(|))|10/i,/^|11/i,/^|12/i]},sP={narrow:/^[]/i,short:/^[]/i,abbreviated:/^[]/i,wide:/^[]/i},oP={any:[//i,//i,//i,//i,//i,//i,//i]},iP={any:/^(?|?||[]|?||?|)/i},aP={any:{am:/^?/i,pm:/^?/i,midnight:/^/i,noon:/^[]/i,morning:/^/i,afternoon:/^/i,evening:/^?/i,night:/^/i}},lP={ordinalNumber:Nb({matchPattern:QR,parsePattern:JR,valueCallback:e=>parseInt(e,10)}),era:Qn({matchPatterns:XR,defaultMatchWidth:"wide",parsePatterns:ZR,defaultParseWidth:"any"}),quarter:Qn({matchPatterns:eP,defaultMatchWidth:"wide",parsePatterns:tP,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Qn({matchPatterns:nP,defaultMatchWidth:"wide",parsePatterns:rP,defaultParseWidth:"any"}),day:Qn({matchPatterns:sP,defaultMatchWidth:"wide",parsePatterns:oP,defaultParseWidth:"any"}),dayPeriod:Qn({matchPatterns:iP,defaultMatchWidth:"any",parsePatterns:aP,defaultParseWidth:"any"})},qn={code:"zh-TW",formatDistance:DR,formatLong:FR,formatRelative:UR,localize:YR,match:lP,options:{weekStartsOn:1,firstWeekContainsDate:4}},Db={storage_prefix:"app/shun1010/"},cP=[{slot_code:"WD_AM",day_type:"weekday",start_time:"09:30",end_time:"15:30",sort_order:1,label:""},{slot_code:"WD_PM",day_type:"weekday",start_time:"15:30",end_time:"21:30",sort_order:2,label:""},{slot_code:"WE_AM",day_type:"weekend",start_time:"09:30",end_time:"13:30",sort_order:3,label:""},{slot_code:"WE_MD",day_type:"weekend",start_time:"13:30",end_time:"17:30",sort_order:4,label:""},{slot_code:"WE_PM",day_type:"weekend",start_time:"17:30",end_time:"21:30",sort_order:5,label:""}],uP={slot_weights:{WE_PM:1.4,WE_MD:1.2,WE_AM:1.1,WD_PM:1.1,WD_AM:1},carry_months:2,carry_strength:1,max_shifts_per_day:1,no_close_to_open:!0,enable_auto_swap:!0,max_retries:30,allow_soften_close_to_open:!1,allow_two_shifts_per_day:!1},rt={WD_AM:{label:"",short:"AM",time:"09:30-15:30",color:"slot-am"},WD_PM:{label:"",short:"PM",time:"15:30-21:30",color:"slot-pm"},WE_AM:{label:"",short:"AM",time:"09:30-13:30",color:"slot-am"},WE_MD:{label:"",short:"MD",time:"13:30-17:30",color:"slot-md"},WE_PM:{label:"",short:"PM",time:"17:30-21:30",color:"slot-pm"}},dP=["WE_PM","WE_MD","WE_AM","WD_PM","WD_AM"],zu=["","","","","","",""],lo=["","","","","","",""],fP=[{id:"objects-table",title:"",url:"#",icon:"FileSpreadsheet",description:""},{id:"huyi-login",title:"",url:"#",icon:"LogIn",description:""},{id:"objects-form",title:"",url:"#",icon:"ClipboardList",description:""},{id:"land-form",title:"",url:"#",icon:"Map",description:""}],hP=[{id:"01",name:""},{id:"03",name:""},{id:"05",name:""},{id:"06",name:""},{id:"07",name:""},{id:"08",name:""},{id:"09",name:""},{id:"10",name:""},{id:"11",name:""},{id:"12",name:""},{id:"13",name:""},{id:"15",name:""},{id:"16",name:""},{id:"17",name:""},{id:"18",name:""},{id:"19",name:""},{id:"20",name:""},{id:"21",name:""},{id:"23",name:""},{id:"25",name:""},{id:"26",name:""},{id:"90",name:"",exclude_roster:!0},{id:"91",name:"",exclude_roster:!0},{id:"92",name:"",exclude_roster:!0},{id:"93",name:"",exclude_roster:!0},{id:"94",name:"",exclude_roster:!0}],Bt=Db.storage_prefix,ie={MEMBERS:Bt+"duty_members",ROSTER_SLOTS:Bt+"duty_roster_slots",RULES:Bt+"duty_rules",DUTY_BALANCE:Bt+"duty_balance",FAIRNESS_SETTINGS:Bt+"duty_fairness_settings",KEYS:Bt+"duty_keys",LENDINGS:Bt+"duty_lendings",LENDING_ITEMS:Bt+"duty_lending_items",APP_VERSIONS:Bt+"duty_app_versions",EXTERNAL_LINKS:Bt+"duty_external_links",TEMP_DUTY:Bt+"temp_duty_override",KEY_ITEM_HISTORY:Bt+"key_item_history",SAME_DAY_PAIRS:Bt+"duty_same_day_pairs"},pP=[["19","25"],["12","13"],["09","10"]],mP=[{member_id:"01",weekday:0},{member_id:"01",weekday:1},{member_id:"01",weekday:2},{member_id:"01",weekday:3},{member_id:"01",weekday:5},{member_id:"01",weekday:6},{member_id:"06",weekday:5},{member_id:"07",weekday:5},{member_id:"08",weekday:2},{member_id:"09",weekday:1},{member_id:"09",weekday:4},{member_id:"10",weekday:1},{member_id:"10",weekday:4},{member_id:"12",weekday:1},{member_id:"12",weekday:4},{member_id:"12",weekday:5},{member_id:"13",weekday:1},{member_id:"13",weekday:4},{member_id:"13",weekday:5},{member_id:"18",weekday:2},{member_id:"19",weekday:1},{member_id:"19",weekday:4},{member_id:"23",weekday:5},{member_id:"25",weekday:1},{member_id:"25",weekday:4}],Ib=[{start_date:"2026-02-13",end_date:"2026-02-21",label:""}],gP=["","21","","","","","","","","","","","",""];function F(...e){return fN(cb(e))}function kr(e=""){const t=Date.now().toString(36),n=Math.random().toString(36).substring(2,8);return e?`${e}_${t}${n}`:`${t}${n}`}function yP(e,t="yyyy-MM-dd"){const n=typeof e=="string"?_e(e):e;return xe(n,t,{locale:qn})}function un(e){const t=typeof e=="string"?_e(e):e;return xe(t,"yyyy-MM")}function vP(e){const t=typeof e=="string"?_e(e):e;return xe(t,"M/d (EEE)",{locale:qn})}function Ki(e){const t=typeof e=="string"?_e(e):e;return hN(t)}function wP(e){return Ki(e)?"weekend":"weekday"}function xP(e){return Ib.some(t=>e>=t.start_date&&e<=t.end_date)}function Ss(e){const t=Ib.find(n=>e>=n.start_date&&e<=n.end_date);return t?t.label:null}function bP(e){const t=typeof e=="string"?e:xe(e,"yyyy-MM-dd");if(xP(t))return[];const n=wP(e);return cP.filter(r=>r.day_type===n).sort((r,s)=>r.sort_order-s.sort_order)}function en(e){return bP(e).map(t=>t.slot_code)}function Vu(e){const t=jb(_e(`${e}-01`)),n=wN(t);return Tb({start:t,end:n}).map(r=>xe(r,"yyyy-MM-dd"))}function _P(e){return xe(_m(_e(e),1),"yyyy-MM-dd")}function SP(e){return e==="WD_PM"||e==="WE_PM"}function EP(e){return e==="WD_AM"||e==="WE_AM"}function $b(e){const t=Vu(e),n={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};return t.forEach(r=>{en(r).forEach(o=>{n[o]++})}),n}function kP(e,t){if(!e)return t;try{return JSON.parse(e)}catch{return t}}const CP=cj,Lb=m.forwardRef(({className:e,...t},n)=>c.jsx(nb,{ref:n,className:F("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));Lb.displayName=nb.displayName;const TP=xl("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),Fb=m.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(rb,{ref:r,className:F(TP({variant:t}),e),...n}));Fb.displayName=rb.displayName;const jP=m.forwardRef(({className:e,...t},n)=>c.jsx(ib,{ref:n,className:F("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",e),...t}));jP.displayName=ib.displayName;const Wb=m.forwardRef(({className:e,...t},n)=>c.jsx(ab,{ref:n,className:F("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Wu,{className:"h-4 w-4"})}));Wb.displayName=ab.displayName;const Ub=m.forwardRef(({className:e,...t},n)=>c.jsx(sb,{ref:n,className:F("text-sm font-semibold",e),...t}));Ub.displayName=sb.displayName;const Bb=m.forwardRef(({className:e,...t},n)=>c.jsx(ob,{ref:n,className:F("text-sm opacity-90",e),...t}));Bb.displayName=ob.displayName;function NP(){const{toasts:e}=rn();return c.jsxs(CP,{children:[e.map(function({id:t,title:n,description:r,action:s,...o}){return c.jsxs(Fb,{...o,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(Ub,{children:n}),r&&c.jsx(Bb,{children:r})]}),s,c.jsx(Wb,{})]},t)}),c.jsx(Lb,{})]})}var Hy=["light","dark"],RP="(prefers-color-scheme: dark)",PP=m.createContext(void 0),OP={setTheme:e=>{},themes:[]},AP=()=>{var e;return(e=m.useContext(PP))!=null?e:OP};m.memo(({forcedTheme:e,storageKey:t,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:o,value:i,attrs:a,nonce:l})=>{let u=o==="system",d=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(v=>`'${v}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,h=s?Hy.includes(o)&&o?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${o}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(v,y=!1,b=!0)=>{let x=i?i[v]:v,g=y?v+"|| ''":`'${x}'`,w="";return s&&b&&!y&&Hy.includes(v)&&(w+=`d.style.colorScheme = '${v}';`),n==="class"?y||x?w+=`c.add(${g})`:w+="null":x&&(w+=`d[s](n,${g})`),w},f=e?`!function(){${d}${p(e)}}()`:r?`!function(){try{${d}var e=localStorage.getItem('${t}');if('system'===e||(!e&&${u})){var t='${RP}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}${u?"":"else{"+p(o,!1,!1)+"}"}${h}}catch(e){}}()`:`!function(){try{${d}var e=localStorage.getItem('${t}');if(e){${i?`var x=${JSON.stringify(i)};`:""}${p(i?"x[e]":"e",!0)}}else{${p(o,!1,!1)};}${h}}catch(t){}}();`;return m.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:f}})});var MP=e=>{switch(e){case"success":return $P;case"info":return FP;case"warning":return LP;case"error":return WP;default:return null}},DP=Array(12).fill(0),IP=({visible:e,className:t})=>V.createElement("div",{className:["sonner-loading-wrapper",t].filter(Boolean).join(" "),"data-visible":e},V.createElement("div",{className:"sonner-spinner"},DP.map((n,r)=>V.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),$P=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),LP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),FP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),WP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},V.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),UP=V.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},V.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),V.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),BP=()=>{let[e,t]=V.useState(document.hidden);return V.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},Ph=1,zP=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...r}=e,s=typeof(e==null?void 0:e.id)=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:Ph++,o=this.toasts.find(a=>a.id===s),i=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),o?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...e,id:s,title:n}),{...a,...e,id:s,dismissible:i,title:n}):a):this.addToast({title:n,...r,dismissible:i,id:s}),s},this.dismiss=e=>(this.dismissedToasts.add(e),e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let r=e instanceof Promise?e:e(),s=n!==void 0,o,i=r.then(async l=>{if(o=["resolve",l],V.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(HP(l)&&!l.ok){s=!1;let u=typeof t.error=="function"?await t.error(`HTTP error! status: ${l.status}`):t.error,d=typeof t.description=="function"?await t.description(`HTTP error! status: ${l.status}`):t.description;this.create({id:n,type:"error",message:u,description:d})}else if(t.success!==void 0){s=!1;let u=typeof t.success=="function"?await t.success(l):t.success,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"success",message:u,description:d})}}).catch(async l=>{if(o=["reject",l],t.error!==void 0){s=!1;let u=typeof t.error=="function"?await t.error(l):t.error,d=typeof t.description=="function"?await t.description(l):t.description;this.create({id:n,type:"error",message:u,description:d})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=t.finally)==null||l.call(t)}),a=()=>new Promise((l,u)=>i.then(()=>o[0]==="reject"?u(o[1]):l(o[1])).catch(u));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(e,t)=>{let n=(t==null?void 0:t.id)||Ph++;return this.create({jsx:e(n),id:n,...t}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},Mt=new zP,VP=(e,t)=>{let n=(t==null?void 0:t.id)||Ph++;return Mt.addToast({title:e,...t,id:n}),n},HP=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",KP=VP,qP=()=>Mt.toasts,GP=()=>Mt.getActiveToasts();Object.assign(KP,{success:Mt.success,info:Mt.info,warning:Mt.warning,error:Mt.error,custom:Mt.custom,message:Mt.message,promise:Mt.promise,dismiss:Mt.dismiss,loading:Mt.loading},{getHistory:qP,getToasts:GP});function YP(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",t==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}YP(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function sc(e){return e.label!==void 0}var QP=3,JP="32px",XP="16px",Ky=4e3,ZP=356,eO=14,tO=20,nO=200;function _n(...e){return e.filter(Boolean).join(" ")}function rO(e){let[t,n]=e.split("-"),r=[];return t&&r.push(t),n&&r.push(n),r}var sO=e=>{var t,n,r,s,o,i,a,l,u,d,h;let{invert:p,toast:f,unstyled:v,interacting:y,setHeights:b,visibleToasts:x,heights:g,index:w,toasts:_,expanded:S,removeToast:E,defaultRichColors:k,closeButton:C,style:O,cancelButtonStyle:N,actionButtonStyle:D,className:I="",descriptionClassName:M="",duration:P,position:U,gap:$,loadingIcon:L,expandByDefault:R,classNames:A,icons:B,closeButtonAriaLabel:Q="Close toast",pauseWhenPageIsHidden:K}=e,[Z,X]=V.useState(null),[ye,ke]=V.useState(null),[H,pe]=V.useState(!1),[me,de]=V.useState(!1),[ae,ue]=V.useState(!1),[Pe,q]=V.useState(!1),[be,Ge]=V.useState(!1),[Xe,st]=V.useState(0),[ot,Un]=V.useState(0),sn=V.useRef(f.duration||P||Ky),Ro=V.useRef(null),yn=V.useRef(null),As=w===0,j=w+1<=x,z=f.type,re=f.dismissible!==!1,We=f.className||"",it=f.descriptionClassName||"",Ue=V.useMemo(()=>g.findIndex(ce=>ce.toastId===f.id)||0,[g,f.id]),_d=V.useMemo(()=>{var ce;return(ce=f.closeButton)!=null?ce:C},[f.closeButton,C]),mg=V.useMemo(()=>f.duration||P||Ky,[f.duration,P]),Sd=V.useRef(0),Po=V.useRef(0),gg=V.useRef(0),Oo=V.useRef(null),[AE,ME]=U.split("-"),yg=V.useMemo(()=>g.reduce((ce,Re,Le)=>Le>=Ue?ce:ce+Re.height,0),[g,Ue]),vg=BP(),DE=f.invert||p,Ed=z==="loading";Po.current=V.useMemo(()=>Ue*$+yg,[Ue,yg]),V.useEffect(()=>{sn.current=mg},[mg]),V.useEffect(()=>{pe(!0)},[]),V.useEffect(()=>{let ce=yn.current;if(ce){let Re=ce.getBoundingClientRect().height;return Un(Re),b(Le=>[{toastId:f.id,height:Re,position:f.position},...Le]),()=>b(Le=>Le.filter(vn=>vn.toastId!==f.id))}},[b,f.id]),V.useLayoutEffect(()=>{if(!H)return;let ce=yn.current,Re=ce.style.height;ce.style.height="auto";let Le=ce.getBoundingClientRect().height;ce.style.height=Re,Un(Le),b(vn=>vn.find(wn=>wn.toastId===f.id)?vn.map(wn=>wn.toastId===f.id?{...wn,height:Le}:wn):[{toastId:f.id,height:Le,position:f.position},...vn])},[H,f.title,f.description,b,f.id]);let Or=V.useCallback(()=>{de(!0),st(Po.current),b(ce=>ce.filter(Re=>Re.toastId!==f.id)),setTimeout(()=>{E(f)},nO)},[f,E,b,Po]);V.useEffect(()=>{if(f.promise&&z==="loading"||f.duration===1/0||f.type==="loading")return;let ce;return S||y||K&&vg?(()=>{if(gg.current<Sd.current){let Re=new Date().getTime()-Sd.current;sn.current=sn.current-Re}gg.current=new Date().getTime()})():sn.current!==1/0&&(Sd.current=new Date().getTime(),ce=setTimeout(()=>{var Re;(Re=f.onAutoClose)==null||Re.call(f,f),Or()},sn.current)),()=>clearTimeout(ce)},[S,y,f,z,K,vg,Or]),V.useEffect(()=>{f.delete&&Or()},[Or,f.delete]);function IE(){var ce,Re,Le;return B!=null&&B.loading?V.createElement("div",{className:_n(A==null?void 0:A.loader,(ce=f==null?void 0:f.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":z==="loading"},B.loading):L?V.createElement("div",{className:_n(A==null?void 0:A.loader,(Re=f==null?void 0:f.classNames)==null?void 0:Re.loader,"sonner-loader"),"data-visible":z==="loading"},L):V.createElement(IP,{className:_n(A==null?void 0:A.loader,(Le=f==null?void 0:f.classNames)==null?void 0:Le.loader),visible:z==="loading"})}return V.createElement("li",{tabIndex:0,ref:yn,className:_n(I,We,A==null?void 0:A.toast,(t=f==null?void 0:f.classNames)==null?void 0:t.toast,A==null?void 0:A.default,A==null?void 0:A[z],(n=f==null?void 0:f.classNames)==null?void 0:n[z]),"data-sonner-toast":"","data-rich-colors":(r=f.richColors)!=null?r:k,"data-styled":!(f.jsx||f.unstyled||v),"data-mounted":H,"data-promise":!!f.promise,"data-swiped":be,"data-removed":me,"data-visible":j,"data-y-position":AE,"data-x-position":ME,"data-index":w,"data-front":As,"data-swiping":ae,"data-dismissible":re,"data-type":z,"data-invert":DE,"data-swipe-out":Pe,"data-swipe-direction":ye,"data-expanded":!!(S||R&&H),style:{"--index":w,"--toasts-before":w,"--z-index":_.length-w,"--offset":`${me?Xe:Po.current}px`,"--initial-height":R?"auto":`${ot}px`,...O,...f.style},onDragEnd:()=>{ue(!1),X(null),Oo.current=null},onPointerDown:ce=>{Ed||!re||(Ro.current=new Date,st(Po.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(ue(!0),Oo.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Re,Le,vn;if(Pe||!re)return;Oo.current=null;let wn=Number(((ce=yn.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ar=Number(((Re=yn.current)==null?void 0:Re.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ms=new Date().getTime()-((Le=Ro.current)==null?void 0:Le.getTime()),xn=Z==="x"?wn:Ar,Mr=Math.abs(xn)/Ms;if(Math.abs(xn)>=tO||Mr>.11){st(Po.current),(vn=f.onDismiss)==null||vn.call(f,f),ke(Z==="x"?wn>0?"right":"left":Ar>0?"down":"up"),Or(),q(!0),Ge(!1);return}ue(!1),X(null)},onPointerMove:ce=>{var Re,Le,vn,wn;if(!Oo.current||!re||((Re=window.getSelection())==null?void 0:Re.toString().length)>0)return;let Ar=ce.clientY-Oo.current.y,Ms=ce.clientX-Oo.current.x,xn=(Le=e.swipeDirections)!=null?Le:rO(U);!Z&&(Math.abs(Ms)>1||Math.abs(Ar)>1)&&X(Math.abs(Ms)>Math.abs(Ar)?"x":"y");let Mr={x:0,y:0};Z==="y"?(xn.includes("top")||xn.includes("bottom"))&&(xn.includes("top")&&Ar<0||xn.includes("bottom")&&Ar>0)&&(Mr.y=Ar):Z==="x"&&(xn.includes("left")||xn.includes("right"))&&(xn.includes("left")&&Ms<0||xn.includes("right")&&Ms>0)&&(Mr.x=Ms),(Math.abs(Mr.x)>0||Math.abs(Mr.y)>0)&&Ge(!0),(vn=yn.current)==null||vn.style.setProperty("--swipe-amount-x",`${Mr.x}px`),(wn=yn.current)==null||wn.style.setProperty("--swipe-amount-y",`${Mr.y}px`)}},_d&&!f.jsx?V.createElement("button",{"aria-label":Q,"data-disabled":Ed,"data-close-button":!0,onClick:Ed||!re?()=>{}:()=>{var ce;Or(),(ce=f.onDismiss)==null||ce.call(f,f)},className:_n(A==null?void 0:A.closeButton,(s=f==null?void 0:f.classNames)==null?void 0:s.closeButton)},(o=B==null?void 0:B.close)!=null?o:UP):null,f.jsx||m.isValidElement(f.title)?f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title:V.createElement(V.Fragment,null,z||f.icon||f.promise?V.createElement("div",{"data-icon":"",className:_n(A==null?void 0:A.icon,(i=f==null?void 0:f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||IE():null,f.type!=="loading"?f.icon||(B==null?void 0:B[z])||MP(z):null):null,V.createElement("div",{"data-content":"",className:_n(A==null?void 0:A.content,(a=f==null?void 0:f.classNames)==null?void 0:a.content)},V.createElement("div",{"data-title":"",className:_n(A==null?void 0:A.title,(l=f==null?void 0:f.classNames)==null?void 0:l.title)},typeof f.title=="function"?f.title():f.title),f.description?V.createElement("div",{"data-description":"",className:_n(M,it,A==null?void 0:A.description,(u=f==null?void 0:f.classNames)==null?void 0:u.description)},typeof f.description=="function"?f.description():f.description):null),m.isValidElement(f.cancel)?f.cancel:f.cancel&&sc(f.cancel)?V.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||N,onClick:ce=>{var Re,Le;sc(f.cancel)&&re&&((Le=(Re=f.cancel).onClick)==null||Le.call(Re,ce),Or())},className:_n(A==null?void 0:A.cancelButton,(d=f==null?void 0:f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,m.isValidElement(f.action)?f.action:f.action&&sc(f.action)?V.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||D,onClick:ce=>{var Re,Le;sc(f.action)&&((Le=(Re=f.action).onClick)==null||Le.call(Re,ce),!ce.defaultPrevented&&Or())},className:_n(A==null?void 0:A.actionButton,(h=f==null?void 0:f.classNames)==null?void 0:h.actionButton)},f.action.label):null))};function qy(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}function oO(e,t){let n={};return[e,t].forEach((r,s)=>{let o=s===1,i=o?"--mobile-offset":"--offset",a=o?XP:JP;function l(u){["top","right","bottom","left"].forEach(d=>{n[`${i}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(u=>{r[u]===void 0?n[`${i}-${u}`]=a:n[`${i}-${u}`]=typeof r[u]=="number"?`${r[u]}px`:r[u]}):l(a)}),n}var iO=m.forwardRef(function(e,t){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:o,closeButton:i,className:a,offset:l,mobileOffset:u,theme:d="light",richColors:h,duration:p,style:f,visibleToasts:v=QP,toastOptions:y,dir:b=qy(),gap:x=eO,loadingIcon:g,icons:w,containerAriaLabel:_="Notifications",pauseWhenPageIsHidden:S}=e,[E,k]=V.useState([]),C=V.useMemo(()=>Array.from(new Set([r].concat(E.filter(K=>K.position).map(K=>K.position)))),[E,r]),[O,N]=V.useState([]),[D,I]=V.useState(!1),[M,P]=V.useState(!1),[U,$]=V.useState(d!=="system"?d:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),L=V.useRef(null),R=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),A=V.useRef(null),B=V.useRef(!1),Q=V.useCallback(K=>{k(Z=>{var X;return(X=Z.find(ye=>ye.id===K.id))!=null&&X.delete||Mt.dismiss(K.id),Z.filter(({id:ye})=>ye!==K.id)})},[]);return V.useEffect(()=>Mt.subscribe(K=>{if(K.dismiss){k(Z=>Z.map(X=>X.id===K.id?{...X,delete:!0}:X));return}setTimeout(()=>{Ix.flushSync(()=>{k(Z=>{let X=Z.findIndex(ye=>ye.id===K.id);return X!==-1?[...Z.slice(0,X),{...Z[X],...K},...Z.slice(X+1)]:[K,...Z]})})})}),[]),V.useEffect(()=>{if(d!=="system"){$(d);return}if(d==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?$("dark"):$("light")),typeof window>"u")return;let K=window.matchMedia("(prefers-color-scheme: dark)");try{K.addEventListener("change",({matches:Z})=>{$(Z?"dark":"light")})}catch{K.addListener(({matches:X})=>{try{$(X?"dark":"light")}catch(ye){console.error(ye)}})}},[d]),V.useEffect(()=>{E.length<=1&&I(!1)},[E]),V.useEffect(()=>{let K=Z=>{var X,ye;s.every(ke=>Z[ke]||Z.code===ke)&&(I(!0),(X=L.current)==null||X.focus()),Z.code==="Escape"&&(document.activeElement===L.current||(ye=L.current)!=null&&ye.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",K),()=>document.removeEventListener("keydown",K)},[s]),V.useEffect(()=>{if(L.current)return()=>{A.current&&(A.current.focus({preventScroll:!0}),A.current=null,B.current=!1)}},[L.current]),V.createElement("section",{ref:t,"aria-label":`${_} ${R}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},C.map((K,Z)=>{var X;let[ye,ke]=K.split("-");return E.length?V.createElement("ol",{key:K,dir:b==="auto"?qy():b,tabIndex:-1,ref:L,className:a,"data-sonner-toaster":!0,"data-theme":U,"data-y-position":ye,"data-lifted":D&&E.length>1&&!o,"data-x-position":ke,style:{"--front-toast-height":`${((X=O[0])==null?void 0:X.height)||0}px`,"--width":`${ZP}px`,"--gap":`${x}px`,...f,...oO(l,u)},onBlur:H=>{B.current&&!H.currentTarget.contains(H.relatedTarget)&&(B.current=!1,A.current&&(A.current.focus({preventScroll:!0}),A.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||B.current||(B.current=!0,A.current=H.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{M||I(!1)},onDragEnd:()=>I(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||P(!0)},onPointerUp:()=>P(!1)},E.filter(H=>!H.position&&Z===0||H.position===K).map((H,pe)=>{var me,de;return V.createElement(sO,{key:H.id,icons:w,index:pe,toast:H,defaultRichColors:h,duration:(me=y==null?void 0:y.duration)!=null?me:p,className:y==null?void 0:y.className,descriptionClassName:y==null?void 0:y.descriptionClassName,invert:n,visibleToasts:v,closeButton:(de=y==null?void 0:y.closeButton)!=null?de:i,interacting:M,position:K,style:y==null?void 0:y.style,unstyled:y==null?void 0:y.unstyled,classNames:y==null?void 0:y.classNames,cancelButtonStyle:y==null?void 0:y.cancelButtonStyle,actionButtonStyle:y==null?void 0:y.actionButtonStyle,removeToast:Q,toasts:E.filter(ae=>ae.position==H.position),heights:O.filter(ae=>ae.position==H.position),setHeights:N,expandByDefault:o,gap:x,loadingIcon:g,expanded:D,pauseWhenPageIsHidden:S,swipeDirections:e.swipeDirections})})):null}))});const aO=({...e})=>{const{theme:t="system"}=AP();return c.jsx(iO,{theme:t,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...e})};var lO=bu[" useId ".trim().toString()]||(()=>{}),cO=0;function vr(e){const[t,n]=m.useState(lO());return xt(()=>{n(r=>r??String(cO++))},[e]),t?`radix-${t}`:""}const uO=["top","right","bottom","left"],Es=Math.min,Ht=Math.max,iu=Math.round,oc=Math.floor,tr=e=>({x:e,y:e}),dO={left:"right",right:"left",bottom:"top",top:"bottom"},fO={start:"end",end:"start"};function Oh(e,t,n){return Ht(e,Es(t,n))}function Cr(e,t){return typeof e=="function"?e(t):e}function Tr(e){return e.split("-")[0]}function qi(e){return e.split("-")[1]}function Sm(e){return e==="x"?"y":"x"}function Em(e){return e==="y"?"height":"width"}const hO=new Set(["top","bottom"]);function Xn(e){return hO.has(Tr(e))?"y":"x"}function km(e){return Sm(Xn(e))}function pO(e,t,n){n===void 0&&(n=!1);const r=qi(e),s=km(e),o=Em(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=au(i)),[i,au(i)]}function mO(e){const t=au(e);return[Ah(e),t,Ah(t)]}function Ah(e){return e.replace(/start|end/g,t=>fO[t])}const Gy=["left","right"],Yy=["right","left"],gO=["top","bottom"],yO=["bottom","top"];function vO(e,t,n){switch(e){case"top":case"bottom":return n?t?Yy:Gy:t?Gy:Yy;case"left":case"right":return t?gO:yO;default:return[]}}function wO(e,t,n,r){const s=qi(e);let o=vO(Tr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Ah)))),o}function au(e){return e.replace(/left|right|bottom|top/g,t=>dO[t])}function xO(e){return{top:0,right:0,bottom:0,left:0,...e}}function zb(e){return typeof e!="number"?xO(e):{top:e,right:e,bottom:e,left:e}}function lu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Qy(e,t,n){let{reference:r,floating:s}=e;const o=Xn(t),i=km(t),a=Em(i),l=Tr(t),u=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let f;switch(l){case"top":f={x:d,y:r.y-s.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:h};break;case"left":f={x:r.x-s.width,y:h};break;default:f={x:r.x,y:r.y}}switch(qi(t)){case"start":f[i]-=p*(n&&u?-1:1);break;case"end":f[i]+=p*(n&&u?-1:1);break}return f}const bO=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let u=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Qy(u,r,l),p=r,f={},v=0;for(let y=0;y<a.length;y++){const{name:b,fn:x}=a[y],{x:g,y:w,data:_,reset:S}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:f,rects:u,platform:i,elements:{reference:e,floating:t}});d=g??d,h=w??h,f={...f,[b]:{...f[b],..._}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(u=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=Qy(u,p,l)),y=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:f}};async function Ga(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:f=0}=Cr(t,e),v=zb(f),b=a[p?h==="floating"?"reference":"floating":h],x=lu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:l})),g=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),_=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},S=lu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:w,strategy:l}):g);return{top:(x.top-S.top+v.top)/_.y,bottom:(S.bottom-x.bottom+v.bottom)/_.y,left:(x.left-S.left+v.left)/_.x,right:(S.right-x.right+v.right)/_.x}}const _O=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:u,padding:d=0}=Cr(e,t)||{};if(u==null)return{};const h=zb(d),p={x:n,y:r},f=km(s),v=Em(f),y=await i.getDimensions(u),b=f==="y",x=b?"top":"left",g=b?"bottom":"right",w=b?"clientHeight":"clientWidth",_=o.reference[v]+o.reference[f]-p[f]-o.floating[v],S=p[f]-o.reference[f],E=await(i.getOffsetParent==null?void 0:i.getOffsetParent(u));let k=E?E[w]:0;(!k||!await(i.isElement==null?void 0:i.isElement(E)))&&(k=a.floating[w]||o.floating[v]);const C=_/2-S/2,O=k/2-y[v]/2-1,N=Es(h[x],O),D=Es(h[g],O),I=N,M=k-y[v]-D,P=k/2-y[v]/2+C,U=Oh(I,P,M),$=!l.arrow&&qi(s)!=null&&P!==U&&o.reference[v]/2-(P<I?N:D)-y[v]/2<0,L=$?P<I?P-I:P-M:0;return{[f]:p[f]+L,data:{[f]:U,centerOffset:P-U-L,...$&&{alignmentOffset:L}},reset:$}}}),SO=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:u}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=Cr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const x=Tr(s),g=Xn(a),w=Tr(a)===a,_=await(l.isRTL==null?void 0:l.isRTL(u.floating)),S=p||(w||!y?[au(a)]:mO(a)),E=v!=="none";!p&&E&&S.push(...wO(a,y,v,_));const k=[a,...S],C=await Ga(t,b),O=[];let N=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&O.push(C[x]),h){const P=pO(s,i,_);O.push(C[P[0]],C[P[1]])}if(N=[...N,{placement:s,overflows:O}],!O.every(P=>P<=0)){var D,I;const P=(((D=o.flip)==null?void 0:D.index)||0)+1,U=k[P];if(U&&(!(h==="alignment"?g!==Xn(U):!1)||N.every(R=>Xn(R.placement)===g?R.overflows[0]>0:!0)))return{data:{index:P,overflows:N},reset:{placement:U}};let $=(I=N.filter(L=>L.overflows[0]<=0).sort((L,R)=>L.overflows[1]-R.overflows[1])[0])==null?void 0:I.placement;if(!$)switch(f){case"bestFit":{var M;const L=(M=N.filter(R=>{if(E){const A=Xn(R.placement);return A===g||A==="y"}return!0}).map(R=>[R.placement,R.overflows.filter(A=>A>0).reduce((A,B)=>A+B,0)]).sort((R,A)=>R[1]-A[1])[0])==null?void 0:M[0];L&&($=L);break}case"initialPlacement":$=a;break}if(s!==$)return{reset:{placement:$}}}return{}}}};function Jy(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Xy(e){return uO.some(t=>e[t]>=0)}const EO=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...s}=Cr(e,t);switch(r){case"referenceHidden":{const o=await Ga(t,{...s,elementContext:"reference"}),i=Jy(o,n.reference);return{data:{referenceHiddenOffsets:i,referenceHidden:Xy(i)}}}case"escaped":{const o=await Ga(t,{...s,altBoundary:!0}),i=Jy(o,n.floating);return{data:{escapedOffsets:i,escaped:Xy(i)}}}default:return{}}}}},Vb=new Set(["left","top"]);async function kO(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=Tr(n),a=qi(n),l=Xn(n)==="y",u=Vb.has(i)?-1:1,d=o&&l?-1:1,h=Cr(t,e);let{mainAxis:p,crossAxis:f,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(f=a==="end"?v*-1:v),l?{x:f*d,y:p*u}:{x:p*u,y:f*d}}const CO=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await kO(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},TO=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s}=t,{mainAxis:o=!0,crossAxis:i=!1,limiter:a={fn:b=>{let{x,y:g}=b;return{x,y:g}}},...l}=Cr(e,t),u={x:n,y:r},d=await Ga(t,l),h=Xn(Tr(s)),p=Sm(h);let f=u[p],v=u[h];if(o){const b=p==="y"?"top":"left",x=p==="y"?"bottom":"right",g=f+d[b],w=f-d[x];f=Oh(g,f,w)}if(i){const b=h==="y"?"top":"left",x=h==="y"?"bottom":"right",g=v+d[b],w=v-d[x];v=Oh(g,v,w)}const y=a.fn({...t,[p]:f,[h]:v});return{...y,data:{x:y.x-n,y:y.y-r,enabled:{[p]:o,[h]:i}}}}}},jO=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:u=!0}=Cr(e,t),d={x:n,y:r},h=Xn(s),p=Sm(h);let f=d[p],v=d[h];const y=Cr(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=p==="y"?"height":"width",_=o.reference[p]-o.floating[w]+b.mainAxis,S=o.reference[p]+o.reference[w]-b.mainAxis;f<_?f=_:f>S&&(f=S)}if(u){var x,g;const w=p==="y"?"width":"height",_=Vb.has(Tr(s)),S=o.reference[h]-o.floating[w]+(_&&((x=i.offset)==null?void 0:x[h])||0)+(_?0:b.crossAxis),E=o.reference[h]+o.reference[w]+(_?0:((g=i.offset)==null?void 0:g[h])||0)-(_?b.crossAxis:0);v<S?v=S:v>E&&(v=E)}return{[p]:f,[h]:v}}}},NO=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...u}=Cr(e,t),d=await Ga(t,u),h=Tr(s),p=qi(s),f=Xn(s)==="y",{width:v,height:y}=o.floating;let b,x;h==="top"||h==="bottom"?(b=h,x=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(x=h,b=p==="end"?"top":"bottom");const g=y-d.top-d.bottom,w=v-d.left-d.right,_=Es(y-d[b],g),S=Es(v-d[x],w),E=!t.middlewareData.shift;let k=_,C=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(C=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(k=g),E&&!p){const N=Ht(d.left,0),D=Ht(d.right,0),I=Ht(d.top,0),M=Ht(d.bottom,0);f?C=v-2*(N!==0||D!==0?N+D:Ht(d.left,d.right)):k=y-2*(I!==0||M!==0?I+M:Ht(d.top,d.bottom))}await l({...t,availableWidth:C,availableHeight:k});const O=await i.getDimensions(a.floating);return v!==O.width||y!==O.height?{reset:{rects:!0}}:{}}}};function Hu(){return typeof window<"u"}function Gi(e){return Hb(e)?(e.nodeName||"").toLowerCase():"#document"}function Xt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ir(e){var t;return(t=(Hb(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Hb(e){return Hu()?e instanceof Node||e instanceof Xt(e).Node:!1}function $n(e){return Hu()?e instanceof Element||e instanceof Xt(e).Element:!1}function or(e){return Hu()?e instanceof HTMLElement||e instanceof Xt(e).HTMLElement:!1}function Zy(e){return!Hu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Xt(e).ShadowRoot}const RO=new Set(["inline","contents"]);function Sl(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Ln(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!RO.has(s)}const PO=new Set(["table","td","th"]);function OO(e){return PO.has(Gi(e))}const AO=[":popover-open",":modal"];function Ku(e){return AO.some(t=>{try{return e.matches(t)}catch{return!1}})}const MO=["transform","translate","scale","rotate","perspective"],DO=["transform","translate","scale","rotate","perspective","filter"],IO=["paint","layout","strict","content"];function Cm(e){const t=Tm(),n=$n(e)?Ln(e):e;return MO.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||DO.some(r=>(n.willChange||"").includes(r))||IO.some(r=>(n.contain||"").includes(r))}function $O(e){let t=ks(e);for(;or(t)&&!Fi(t);){if(Cm(t))return t;if(Ku(t))return null;t=ks(t)}return null}function Tm(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LO=new Set(["html","body","#document"]);function Fi(e){return LO.has(Gi(e))}function Ln(e){return Xt(e).getComputedStyle(e)}function qu(e){return $n(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ks(e){if(Gi(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Zy(e)&&e.host||ir(e);return Zy(t)?t.host:t}function Kb(e){const t=ks(e);return Fi(t)?e.ownerDocument?e.ownerDocument.body:e.body:or(t)&&Sl(t)?t:Kb(t)}function Ya(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Kb(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Xt(s);if(o){const a=Mh(i);return t.concat(i,i.visualViewport||[],Sl(s)?s:[],a&&n?Ya(a):[])}return t.concat(s,Ya(s,[],n))}function Mh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function qb(e){const t=Ln(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=or(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=iu(n)!==o||iu(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function jm(e){return $n(e)?e:e.contextElement}function pi(e){const t=jm(e);if(!or(t))return tr(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=qb(t);let i=(o?iu(n.width):n.width)/r,a=(o?iu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const FO=tr(0);function Gb(e){const t=Xt(e);return!Tm()||!t.visualViewport?FO:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function WO(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Xt(e)?!1:t}function xo(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=jm(e);let i=tr(1);t&&(r?$n(r)&&(i=pi(r)):i=pi(e));const a=WO(o,n,r)?Gb(o):tr(0);let l=(s.left+a.x)/i.x,u=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=Xt(o),f=r&&$n(r)?Xt(r):r;let v=p,y=Mh(v);for(;y&&r&&f!==v;){const b=pi(y),x=y.getBoundingClientRect(),g=Ln(y),w=x.left+(y.clientLeft+parseFloat(g.paddingLeft))*b.x,_=x.top+(y.clientTop+parseFloat(g.paddingTop))*b.y;l*=b.x,u*=b.y,d*=b.x,h*=b.y,l+=w,u+=_,v=Xt(y),y=Mh(v)}}return lu({width:d,height:h,x:l,y:u})}function Gu(e,t){const n=qu(e).scrollLeft;return t?t.left+n:xo(ir(e)).left+n}function Yb(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-Gu(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function UO(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=ir(r),a=t?Ku(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=tr(1);const d=tr(0),h=or(r);if((h||!h&&!o)&&((Gi(r)!=="body"||Sl(i))&&(l=qu(r)),or(r))){const f=xo(r);u=pi(r),d.x=f.x+r.clientLeft,d.y=f.y+r.clientTop}const p=i&&!h&&!o?Yb(i,l):tr(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+d.x+p.x,y:n.y*u.y-l.scrollTop*u.y+d.y+p.y}}function BO(e){return Array.from(e.getClientRects())}function zO(e){const t=ir(e),n=qu(e),r=e.ownerDocument.body,s=Ht(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Ht(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+Gu(e);const a=-n.scrollTop;return Ln(r).direction==="rtl"&&(i+=Ht(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const ev=25;function VO(e,t){const n=Xt(e),r=ir(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=Tm();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const u=Gu(r);if(u<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),f=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-f);v<=ev&&(o-=v)}else u<=ev&&(o+=u);return{width:o,height:i,x:a,y:l}}const HO=new Set(["absolute","fixed"]);function KO(e,t){const n=xo(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=or(e)?pi(e):tr(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,u=r*o.y;return{width:i,height:a,x:l,y:u}}function tv(e,t,n){let r;if(t==="viewport")r=VO(e,n);else if(t==="document")r=zO(ir(e));else if($n(t))r=KO(t,n);else{const s=Gb(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return lu(r)}function Qb(e,t){const n=ks(e);return n===t||!$n(n)||Fi(n)?!1:Ln(n).position==="fixed"||Qb(n,t)}function qO(e,t){const n=t.get(e);if(n)return n;let r=Ya(e,[],!1).filter(a=>$n(a)&&Gi(a)!=="body"),s=null;const o=Ln(e).position==="fixed";let i=o?ks(e):e;for(;$n(i)&&!Fi(i);){const a=Ln(i),l=Cm(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&HO.has(s.position)||Sl(i)&&!l&&Qb(e,i))?r=r.filter(d=>d!==i):s=a,i=ks(i)}return t.set(e,r),r}function GO(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?Ku(t)?[]:qO(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((u,d)=>{const h=tv(t,d,s);return u.top=Ht(h.top,u.top),u.right=Es(h.right,u.right),u.bottom=Es(h.bottom,u.bottom),u.left=Ht(h.left,u.left),u},tv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function YO(e){const{width:t,height:n}=qb(e);return{width:t,height:n}}function QO(e,t,n){const r=or(t),s=ir(t),o=n==="fixed",i=xo(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=tr(0);function u(){l.x=Gu(s)}if(r||!r&&!o)if((Gi(t)!=="body"||Sl(s))&&(a=qu(t)),r){const f=xo(t,!0,o,t);l.x=f.x+t.clientLeft,l.y=f.y+t.clientTop}else s&&u();o&&!r&&s&&u();const d=s&&!r&&!o?Yb(s,a):tr(0),h=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function rf(e){return Ln(e).position==="static"}function nv(e,t){if(!or(e)||Ln(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ir(e)===n&&(n=n.ownerDocument.body),n}function Jb(e,t){const n=Xt(e);if(Ku(e))return n;if(!or(e)){let s=ks(e);for(;s&&!Fi(s);){if($n(s)&&!rf(s))return s;s=ks(s)}return n}let r=nv(e,t);for(;r&&OO(r)&&rf(r);)r=nv(r,t);return r&&Fi(r)&&rf(r)&&!Cm(r)?n:r||$O(e)||n}const JO=async function(e){const t=this.getOffsetParent||Jb,n=this.getDimensions,r=await n(e.floating);return{reference:QO(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XO(e){return Ln(e).direction==="rtl"}const ZO={convertOffsetParentRelativeRectToViewportRelativeRect:UO,getDocumentElement:ir,getClippingRect:GO,getOffsetParent:Jb,getElementRects:JO,getClientRects:BO,getDimensions:YO,getScale:pi,isElement:$n,isRTL:XO};function Xb(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function eA(e,t){let n=null,r;const s=ir(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const u=e.getBoundingClientRect(),{left:d,top:h,width:p,height:f}=u;if(a||t(),!p||!f)return;const v=oc(h),y=oc(s.clientWidth-(d+p)),b=oc(s.clientHeight-(h+f)),x=oc(d),w={rootMargin:-v+"px "+-y+"px "+-b+"px "+-x+"px",threshold:Ht(0,Es(1,l))||1};let _=!0;function S(E){const k=E[0].intersectionRatio;if(k!==l){if(!_)return i();k?i(!1,k):r=setTimeout(()=>{i(!1,1e-7)},1e3)}k===1&&!Xb(u,e.getBoundingClientRect())&&i(),_=!1}try{n=new IntersectionObserver(S,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(S,w)}n.observe(e)}return i(!0),o}function tA(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=jm(e),d=s||o?[...u?Ya(u):[],...Ya(t)]:[];d.forEach(x=>{s&&x.addEventListener("scroll",n,{passive:!0}),o&&x.addEventListener("resize",n)});const h=u&&a?eA(u,n):null;let p=-1,f=null;i&&(f=new ResizeObserver(x=>{let[g]=x;g&&g.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=f)==null||w.observe(t)})),n()}),u&&!l&&f.observe(u),f.observe(t));let v,y=l?xo(e):null;l&&b();function b(){const x=xo(e);y&&!Xb(y,x)&&n(),y=x,v=requestAnimationFrame(b)}return n(),()=>{var x;d.forEach(g=>{s&&g.removeEventListener("scroll",n),o&&g.removeEventListener("resize",n)}),h==null||h(),(x=f)==null||x.disconnect(),f=null,l&&cancelAnimationFrame(v)}}const nA=CO,rA=TO,sA=SO,oA=NO,iA=EO,rv=_O,aA=jO,lA=(e,t,n)=>{const r=new Map,s={platform:ZO,...n},o={...s.platform,_c:r};return bO(e,t,{...s,platform:o})};var cA=typeof document<"u",uA=function(){},Rc=cA?m.useLayoutEffect:uA;function cu(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!cu(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!cu(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function Zb(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function sv(e,t){const n=Zb(e);return Math.round(t*n)/n}function sf(e){const t=m.useRef(e);return Rc(()=>{t.current=e}),t}function dA(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[d,h]=m.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,f]=m.useState(r);cu(p,r)||f(r);const[v,y]=m.useState(null),[b,x]=m.useState(null),g=m.useCallback(R=>{R!==E.current&&(E.current=R,y(R))},[]),w=m.useCallback(R=>{R!==k.current&&(k.current=R,x(R))},[]),_=o||v,S=i||b,E=m.useRef(null),k=m.useRef(null),C=m.useRef(d),O=l!=null,N=sf(l),D=sf(s),I=sf(u),M=m.useCallback(()=>{if(!E.current||!k.current)return;const R={placement:t,strategy:n,middleware:p};D.current&&(R.platform=D.current),lA(E.current,k.current,R).then(A=>{const B={...A,isPositioned:I.current!==!1};P.current&&!cu(C.current,B)&&(C.current=B,jo.flushSync(()=>{h(B)}))})},[p,t,n,D,I]);Rc(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,h(R=>({...R,isPositioned:!1})))},[u]);const P=m.useRef(!1);Rc(()=>(P.current=!0,()=>{P.current=!1}),[]),Rc(()=>{if(_&&(E.current=_),S&&(k.current=S),_&&S){if(N.current)return N.current(_,S,M);M()}},[_,S,M,N,O]);const U=m.useMemo(()=>({reference:E,floating:k,setReference:g,setFloating:w}),[g,w]),$=m.useMemo(()=>({reference:_,floating:S}),[_,S]),L=m.useMemo(()=>{const R={position:n,left:0,top:0};if(!$.floating)return R;const A=sv($.floating,d.x),B=sv($.floating,d.y);return a?{...R,transform:"translate("+A+"px, "+B+"px)",...Zb($.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:A,top:B}},[n,a,$.floating,d.x,d.y]);return m.useMemo(()=>({...d,update:M,refs:U,elements:$,floatingStyles:L}),[d,M,U,$,L])}const fA=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?rv({element:r.current,padding:s}).fn(n):{}:r?rv({element:r,padding:s}).fn(n):{}}}},hA=(e,t)=>({...nA(e),options:[e,t]}),pA=(e,t)=>({...rA(e),options:[e,t]}),mA=(e,t)=>({...aA(e),options:[e,t]}),gA=(e,t)=>({...sA(e),options:[e,t]}),yA=(e,t)=>({...oA(e),options:[e,t]}),vA=(e,t)=>({...iA(e),options:[e,t]}),wA=(e,t)=>({...fA(e),options:[e,t]});var xA="Arrow",e_=m.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return c.jsx(le.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});e_.displayName=xA;var bA=e_;function Nm(e){const[t,n]=m.useState(void 0);return xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,u=Array.isArray(l)?l[0]:l;i=u.inlineSize,a=u.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Rm="Popper",[t_,Yu]=Fn(Rm),[_A,n_]=t_(Rm),r_=e=>{const{__scopePopper:t,children:n}=e,[r,s]=m.useState(null);return c.jsx(_A,{scope:t,anchor:r,onAnchorChange:s,children:n})};r_.displayName=Rm;var s_="PopperAnchor",o_=m.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=n_(s_,n),i=m.useRef(null),a=Ce(t,i),l=m.useRef(null);return m.useEffect(()=>{const u=l.current;l.current=(r==null?void 0:r.current)||i.current,u!==l.current&&o.onAnchorChange(l.current)}),r?null:c.jsx(le.div,{...s,ref:a})});o_.displayName=s_;var Pm="PopperContent",[SA,EA]=t_(Pm),i_=m.forwardRef((e,t)=>{var H,pe,me,de,ae,ue;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:u=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:f="optimized",onPlaced:v,...y}=e,b=n_(Pm,n),[x,g]=m.useState(null),w=Ce(t,Pe=>g(Pe)),[_,S]=m.useState(null),E=Nm(_),k=(E==null?void 0:E.width)??0,C=(E==null?void 0:E.height)??0,O=r+(o!=="center"?"-"+o:""),N=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},D=Array.isArray(u)?u:[u],I=D.length>0,M={padding:N,boundary:D.filter(CA),altBoundary:I},{refs:P,floatingStyles:U,placement:$,isPositioned:L,middlewareData:R}=dA({strategy:"fixed",placement:O,whileElementsMounted:(...Pe)=>tA(...Pe,{animationFrame:f==="always"}),elements:{reference:b.anchor},middleware:[hA({mainAxis:s+C,alignmentAxis:i}),l&&pA({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?mA():void 0,...M}),l&&gA({...M}),yA({...M,apply:({elements:Pe,rects:q,availableWidth:be,availableHeight:Ge})=>{const{width:Xe,height:st}=q.reference,ot=Pe.floating.style;ot.setProperty("--radix-popper-available-width",`${be}px`),ot.setProperty("--radix-popper-available-height",`${Ge}px`),ot.setProperty("--radix-popper-anchor-width",`${Xe}px`),ot.setProperty("--radix-popper-anchor-height",`${st}px`)}}),_&&wA({element:_,padding:a}),TA({arrowWidth:k,arrowHeight:C}),p&&vA({strategy:"referenceHidden",...M})]}),[A,B]=c_($),Q=mn(v);xt(()=>{L&&(Q==null||Q())},[L,Q]);const K=(H=R.arrow)==null?void 0:H.x,Z=(pe=R.arrow)==null?void 0:pe.y,X=((me=R.arrow)==null?void 0:me.centerOffset)!==0,[ye,ke]=m.useState();return xt(()=>{x&&ke(window.getComputedStyle(x).zIndex)},[x]),c.jsx("div",{ref:P.setFloating,"data-radix-popper-content-wrapper":"",style:{...U,transform:L?U.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ye,"--radix-popper-transform-origin":[(de=R.transformOrigin)==null?void 0:de.x,(ae=R.transformOrigin)==null?void 0:ae.y].join(" "),...((ue=R.hide)==null?void 0:ue.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(SA,{scope:n,placedSide:A,onArrowChange:S,arrowX:K,arrowY:Z,shouldHideArrow:X,children:c.jsx(le.div,{"data-side":A,"data-align":B,...y,ref:w,style:{...y.style,animation:L?void 0:"none"}})})})});i_.displayName=Pm;var a_="PopperArrow",kA={top:"bottom",right:"left",bottom:"top",left:"right"},l_=m.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=EA(a_,r),i=kA[o.placedSide];return c.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:c.jsx(bA,{...s,ref:n,style:{...s.style,display:"block"}})})});l_.displayName=a_;function CA(e){return e!==null}var TA=e=>({name:"transformOrigin",options:e,fn(t){var b,x,g;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[u,d]=c_(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((x=s.arrow)==null?void 0:x.x)??0)+a/2,f=(((g=s.arrow)==null?void 0:g.y)??0)+l/2;let v="",y="";return u==="bottom"?(v=i?h:`${p}px`,y=`${-l}px`):u==="top"?(v=i?h:`${p}px`,y=`${r.floating.height+l}px`):u==="right"?(v=`${-l}px`,y=i?h:`${f}px`):u==="left"&&(v=`${r.floating.width+l}px`,y=i?h:`${f}px`),{data:{x:v,y}}}});function c_(e){const[t,n="center"]=e.split("-");return[t,n]}var u_=r_,d_=o_,f_=i_,h_=l_,jA=Symbol("radix.slottable");function NA(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=jA,t}var[Qu]=Fn("Tooltip",[Yu]),Ju=Yu(),p_="TooltipProvider",RA=700,Dh="tooltip.open",[PA,Om]=Qu(p_),m_=e=>{const{__scopeTooltip:t,delayDuration:n=RA,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=m.useRef(!0),a=m.useRef(!1),l=m.useRef(0);return m.useEffect(()=>{const u=l.current;return()=>window.clearTimeout(u)},[]),c.jsx(PA,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:m.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:m.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:m.useCallback(u=>{a.current=u},[]),disableHoverableContent:s,children:o})};m_.displayName=p_;var Qa="Tooltip",[OA,Xu]=Qu(Qa),g_=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Om(Qa,e.__scopeTooltip),u=Ju(t),[d,h]=m.useState(null),p=vr(),f=m.useRef(0),v=i??l.disableHoverableContent,y=a??l.delayDuration,b=m.useRef(!1),[x,g]=Er({prop:r,defaultProp:s??!1,onChange:k=>{k?(l.onOpen(),document.dispatchEvent(new CustomEvent(Dh))):l.onClose(),o==null||o(k)},caller:Qa}),w=m.useMemo(()=>x?b.current?"delayed-open":"instant-open":"closed",[x]),_=m.useCallback(()=>{window.clearTimeout(f.current),f.current=0,b.current=!1,g(!0)},[g]),S=m.useCallback(()=>{window.clearTimeout(f.current),f.current=0,g(!1)},[g]),E=m.useCallback(()=>{window.clearTimeout(f.current),f.current=window.setTimeout(()=>{b.current=!0,g(!0),f.current=0},y)},[y,g]);return m.useEffect(()=>()=>{f.current&&(window.clearTimeout(f.current),f.current=0)},[]),c.jsx(u_,{...u,children:c.jsx(OA,{scope:t,contentId:p,open:x,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:m.useCallback(()=>{l.isOpenDelayedRef.current?E():_()},[l.isOpenDelayedRef,E,_]),onTriggerLeave:m.useCallback(()=>{v?S():(window.clearTimeout(f.current),f.current=0)},[S,v]),onOpen:_,onClose:S,disableHoverableContent:v,children:n})})};g_.displayName=Qa;var Ih="TooltipTrigger",y_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Xu(Ih,n),o=Om(Ih,n),i=Ju(n),a=m.useRef(null),l=Ce(t,a,s.onTriggerChange),u=m.useRef(!1),d=m.useRef(!1),h=m.useCallback(()=>u.current=!1,[]);return m.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),c.jsx(d_,{asChild:!0,...i,children:c.jsx(le.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:te(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:te(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:te(e.onPointerDown,()=>{s.open&&s.onClose(),u.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:te(e.onFocus,()=>{u.current||s.onOpen()}),onBlur:te(e.onBlur,s.onClose),onClick:te(e.onClick,s.onClose)})})});y_.displayName=Ih;var AA="TooltipPortal",[O5,MA]=Qu(AA,{forceMount:void 0}),Wi="TooltipContent",v_=m.forwardRef((e,t)=>{const n=MA(Wi,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=Xu(Wi,e.__scopeTooltip);return c.jsx(Ns,{present:r||i.open,children:i.disableHoverableContent?c.jsx(w_,{side:s,...o,ref:t}):c.jsx(DA,{side:s,...o,ref:t})})}),DA=m.forwardRef((e,t)=>{const n=Xu(Wi,e.__scopeTooltip),r=Om(Wi,e.__scopeTooltip),s=m.useRef(null),o=Ce(t,s),[i,a]=m.useState(null),{trigger:l,onClose:u}=n,d=s.current,{onPointerInTransitChange:h}=r,p=m.useCallback(()=>{a(null),h(!1)},[h]),f=m.useCallback((v,y)=>{const b=v.currentTarget,x={x:v.clientX,y:v.clientY},g=WA(x,b.getBoundingClientRect()),w=UA(x,g),_=BA(y.getBoundingClientRect()),S=VA([...w,..._]);a(S),h(!0)},[h]);return m.useEffect(()=>()=>p(),[p]),m.useEffect(()=>{if(l&&d){const v=b=>f(b,d),y=b=>f(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,f,p]),m.useEffect(()=>{if(i){const v=y=>{const b=y.target,x={x:y.clientX,y:y.clientY},g=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!zA(x,i);g?p():w&&(p(),u())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,u,p]),c.jsx(w_,{...e,ref:o})}),[IA,$A]=Qu(Qa,{isInside:!1}),LA=NA("TooltipContent"),w_=m.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=Xu(Wi,n),u=Ju(n),{onClose:d}=l;return m.useEffect(()=>(document.addEventListener(Dh,d),()=>document.removeEventListener(Dh,d)),[d]),m.useEffect(()=>{if(l.trigger){const h=p=>{const f=p.target;f!=null&&f.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),c.jsx(vl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:c.jsxs(f_,{"data-state":l.stateAttribute,...u,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(LA,{children:r}),c.jsx(IA,{scope:n,isInside:!0,children:c.jsx(HT,{id:l.contentId,role:"tooltip",children:s||r})})]})})});v_.displayName=Wi;var x_="TooltipArrow",FA=m.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=Ju(n);return $A(x_,n).isInside?null:c.jsx(h_,{...s,...r,ref:t})});FA.displayName=x_;function WA(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function UA(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function BA(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function zA(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],u=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-u)*(r-d)/(p-d)+u&&(s=!s)}return s}function VA(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),HA(t)}function HA(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var KA=m_,qA=g_,GA=y_,b_=v_;const YA=KA,QA=qA,JA=GA,__=m.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(b_,{ref:r,sideOffset:t,className:F("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...n}));__.displayName=b_.displayName;var El=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},XA={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},qr,_p,hw,ZA=(hw=class{constructor(){ne(this,qr,XA);ne(this,_p,!1)}setTimeoutProvider(e){Y(this,qr,e)}setTimeout(e,t){return T(this,qr).setTimeout(e,t)}clearTimeout(e){T(this,qr).clearTimeout(e)}setInterval(e,t){return T(this,qr).setInterval(e,t)}clearInterval(e){T(this,qr).clearInterval(e)}},qr=new WeakMap,_p=new WeakMap,hw),Ys=new ZA;function e2(e){setTimeout(e,0)}var bo=typeof window>"u"||"Deno"in globalThis;function Dt(){}function t2(e,t){return typeof e=="function"?e(t):e}function $h(e){return typeof e=="number"&&e>=0&&e!==1/0}function S_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function fs(e,t){return typeof e=="function"?e(t):e}function an(e,t){return typeof e=="function"?e(t):e}function ov(e,t){const{type:n="all",exact:r,fetchStatus:s,predicate:o,queryKey:i,stale:a}=e;if(i){if(r){if(t.queryHash!==Am(i,t.options))return!1}else if(!Xa(t.queryKey,i))return!1}if(n!=="all"){const l=t.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||s&&s!==t.state.fetchStatus||o&&!o(t))}function iv(e,t){const{exact:n,status:r,predicate:s,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ja(t.options.mutationKey)!==Ja(o))return!1}else if(!Xa(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||s&&!s(t))}function Am(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ja)(e)}function Ja(e){return JSON.stringify(e,(t,n)=>Fh(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xa(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(n=>Xa(e[n],t[n])):!1}var n2=Object.prototype.hasOwnProperty;function E_(e,t,n=0){if(e===t)return e;if(n>500)return t;const r=av(e)&&av(t);if(!r&&!(Fh(e)&&Fh(t)))return t;const o=(r?e:Object.keys(e)).length,i=r?t:Object.keys(t),a=i.length,l=r?new Array(a):{};let u=0;for(let d=0;d<a;d++){const h=r?d:i[d],p=e[h],f=t[h];if(p===f){l[h]=p,(r?d<o:n2.call(e,h))&&u++;continue}if(p===null||f===null||typeof p!="object"||typeof f!="object"){l[h]=f;continue}const v=E_(p,f,n+1);l[h]=v,v===p&&u++}return o===a&&u===o?e:l}function Lh(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function av(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Fh(e){if(!lv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function r2(e){return new Promise(t=>{Ys.setTimeout(t,e)})}function Wh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?E_(e,t):t}function s2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function o2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Mm=Symbol();function k_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Mm?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function C_(e,t){return typeof e=="function"?e(...t):!!e}function i2(e,t,n){let r=!1,s;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(s??(s=t()),r||(r=!0,s.aborted?n():s.addEventListener("abort",n,{once:!0})),s)}),e}var Js,Gr,xi,pw,a2=(pw=class extends El{constructor(){super();ne(this,Js);ne(this,Gr);ne(this,xi);Y(this,xi,t=>{if(!bo&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){T(this,Gr)||this.setEventListener(T(this,xi))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Gr))==null||t.call(this),Y(this,Gr,void 0))}setEventListener(t){var n;Y(this,xi,t),(n=T(this,Gr))==null||n.call(this),Y(this,Gr,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){T(this,Js)!==t&&(Y(this,Js,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof T(this,Js)=="boolean"?T(this,Js):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Js=new WeakMap,Gr=new WeakMap,xi=new WeakMap,pw),Dm=new a2;function Uh(){let e,t;const n=new Promise((s,o)=>{e=s,t=o});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),e(s)},n.reject=s=>{r({status:"rejected",reason:s}),t(s)},n}var l2=e2;function c2(){let e=[],t=0,n=a=>{a()},r=a=>{a()},s=l2;const o=a=>{t?e.push(a):s(()=>{n(a)})},i=()=>{const a=e;e=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;t++;try{l=a()}finally{t--,t||i()}return l},batchCalls:a=>(...l)=>{o(()=>{a(...l)})},schedule:o,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var yt=c2(),bi,Yr,_i,mw,u2=(mw=class extends El{constructor(){super();ne(this,bi,!0);ne(this,Yr);ne(this,_i);Y(this,_i,t=>{if(!bo&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){T(this,Yr)||this.setEventListener(T(this,_i))}onUnsubscribe(){var t;this.hasListeners()||((t=T(this,Yr))==null||t.call(this),Y(this,Yr,void 0))}setEventListener(t){var n;Y(this,_i,t),(n=T(this,Yr))==null||n.call(this),Y(this,Yr,t(this.setOnline.bind(this)))}setOnline(t){T(this,bi)!==t&&(Y(this,bi,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return T(this,bi)}},bi=new WeakMap,Yr=new WeakMap,_i=new WeakMap,mw),uu=new u2;function d2(e){return Math.min(1e3*2**e,3e4)}function T_(e){return(e??"online")==="online"?uu.isOnline():!0}var Bh=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function j_(e){let t=!1,n=0,r;const s=Uh(),o=()=>s.status!=="pending",i=y=>{var b;if(!o()){const x=new Bh(y);p(x),(b=e.onCancel)==null||b.call(e,x)}},a=()=>{t=!0},l=()=>{t=!1},u=()=>Dm.isFocused()&&(e.networkMode==="always"||uu.isOnline())&&e.canRun(),d=()=>T_(e.networkMode)&&e.canRun(),h=y=>{o()||(r==null||r(),s.resolve(y))},p=y=>{o()||(r==null||r(),s.reject(y))},f=()=>new Promise(y=>{var b;r=x=>{(o()||u())&&y(x)},(b=e.onPause)==null||b.call(e)}).then(()=>{var y;r=void 0,o()||(y=e.onContinue)==null||y.call(e)}),v=()=>{if(o())return;let y;const b=n===0?e.initialPromise:void 0;try{y=b??e.fn()}catch(x){y=Promise.reject(x)}Promise.resolve(y).then(h).catch(x=>{var E;if(o())return;const g=e.retry??(bo?0:3),w=e.retryDelay??d2,_=typeof w=="function"?w(n,x):w,S=g===!0||typeof g=="number"&&n<g||typeof g=="function"&&g(n,x);if(t||!S){p(x);return}n++,(E=e.onFail)==null||E.call(e,n,x),r2(_).then(()=>u()?void 0:f()).then(()=>{t?p(x):v()})})};return{promise:s,status:()=>s.status,cancel:i,continue:()=>(r==null||r(),s),cancelRetry:a,continueRetry:l,canStart:d,start:()=>(d()?v():f().then(v),s)}}var Xs,gw,N_=(gw=class{constructor(){ne(this,Xs)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$h(this.gcTime)&&Y(this,Xs,Ys.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(bo?1/0:5*60*1e3))}clearGcTimeout(){T(this,Xs)&&(Ys.clearTimeout(T(this,Xs)),Y(this,Xs,void 0))}},Xs=new WeakMap,gw),Zs,Si,on,eo,ut,ll,to,Tn,cr,yw,f2=(yw=class extends N_{constructor(t){super();ne(this,Tn);ne(this,Zs);ne(this,Si);ne(this,on);ne(this,eo);ne(this,ut);ne(this,ll);ne(this,to);Y(this,to,!1),Y(this,ll,t.defaultOptions),this.setOptions(t.options),this.observers=[],Y(this,eo,t.client),Y(this,on,T(this,eo).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Y(this,Zs,uv(this.options)),this.state=t.state??T(this,Zs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=T(this,ut))==null?void 0:t.promise}setOptions(t){if(this.options={...T(this,ll),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const n=uv(this.options);n.data!==void 0&&(this.setState(cv(n.data,n.dataUpdatedAt)),Y(this,Zs,n))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&T(this,on).remove(this)}setData(t,n){const r=Wh(this.state.data,t,this.options);return ve(this,Tn,cr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ve(this,Tn,cr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,s;const n=(r=T(this,ut))==null?void 0:r.promise;return(s=T(this,ut))==null||s.cancel(t),n?n.then(Dt).catch(Dt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(T(this,Zs))}isActive(){return this.observers.some(t=>an(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Mm||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>fs(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!S_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,ut))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=T(this,ut))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),T(this,on).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(T(this,ut)&&(T(this,to)?T(this,ut).cancel({revert:!0}):T(this,ut).cancelRetry()),this.scheduleGc()),T(this,on).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ve(this,Tn,cr).call(this,{type:"invalidate"})}async fetch(t,n){var l,u,d,h,p,f,v,y,b,x,g,w;if(this.state.fetchStatus!=="idle"&&((l=T(this,ut))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(T(this,ut))return T(this,ut).continueRetry(),T(this,ut).promise}if(t&&this.setOptions(t),!this.options.queryFn){const _=this.observers.find(S=>S.options.queryFn);_&&this.setOptions(_.options)}const r=new AbortController,s=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(Y(this,to,!0),r.signal)})},o=()=>{const _=k_(this.options,n),E=(()=>{const k={client:T(this,eo),queryKey:this.queryKey,meta:this.meta};return s(k),k})();return Y(this,to,!1),this.options.persister?this.options.persister(_,E,this):_(E)},a=(()=>{const _={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:T(this,eo),state:this.state,fetchFn:o};return s(_),_})();(u=this.options.behavior)==null||u.onFetch(a,this),Y(this,Si,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&ve(this,Tn,cr).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),Y(this,ut,j_({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,onCancel:_=>{_ instanceof Bh&&_.revert&&this.setState({...T(this,Si),fetchStatus:"idle"}),r.abort()},onFail:(_,S)=>{ve(this,Tn,cr).call(this,{type:"failed",failureCount:_,error:S})},onPause:()=>{ve(this,Tn,cr).call(this,{type:"pause"})},onContinue:()=>{ve(this,Tn,cr).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const _=await T(this,ut).start();if(_===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(_),(f=(p=T(this,on).config).onSuccess)==null||f.call(p,_,this),(y=(v=T(this,on).config).onSettled)==null||y.call(v,_,this.state.error,this),_}catch(_){if(_ instanceof Bh){if(_.silent)return T(this,ut).promise;if(_.revert){if(this.state.data===void 0)throw _;return this.state.data}}throw ve(this,Tn,cr).call(this,{type:"error",error:_}),(x=(b=T(this,on).config).onError)==null||x.call(b,_,this),(w=(g=T(this,on).config).onSettled)==null||w.call(g,this.state.data,_,this),_}finally{this.scheduleGc()}}},Zs=new WeakMap,Si=new WeakMap,on=new WeakMap,eo=new WeakMap,ut=new WeakMap,ll=new WeakMap,to=new WeakMap,Tn=new WeakSet,cr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...R_(r.data,this.options),fetchMeta:t.meta??null};case"success":const s={...r,...cv(t.data,t.dataUpdatedAt),dataUpdateCount:r.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Y(this,Si,t.manual?s:void 0),s;case"error":const o=t.error;return{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),yt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),T(this,on).notify({query:this,type:"updated",action:t})})},yw);function R_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:T_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function cv(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function uv(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var At,we,cl,Tt,no,Ei,hr,Qr,ul,ki,Ci,ro,so,Jr,Ti,Te,ha,zh,Vh,Hh,Kh,qh,Gh,Yh,P_,vw,h2=(vw=class extends El{constructor(t,n){super();ne(this,Te);ne(this,At);ne(this,we);ne(this,cl);ne(this,Tt);ne(this,no);ne(this,Ei);ne(this,hr);ne(this,Qr);ne(this,ul);ne(this,ki);ne(this,Ci);ne(this,ro);ne(this,so);ne(this,Jr);ne(this,Ti,new Set);this.options=n,Y(this,At,t),Y(this,Qr,null),Y(this,hr,Uh()),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(T(this,we).addObserver(this),dv(T(this,we),this.options)?ve(this,Te,ha).call(this):this.updateResult(),ve(this,Te,Kh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Qh(T(this,we),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Qh(T(this,we),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ve(this,Te,qh).call(this),ve(this,Te,Gh).call(this),T(this,we).removeObserver(this)}setOptions(t){const n=this.options,r=T(this,we);if(this.options=T(this,At).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof an(this.options.enabled,T(this,we))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ve(this,Te,Yh).call(this),T(this,we).setOptions(this.options),n._defaulted&&!Lh(this.options,n)&&T(this,At).getQueryCache().notify({type:"observerOptionsUpdated",query:T(this,we),observer:this});const s=this.hasListeners();s&&fv(T(this,we),r,this.options,n)&&ve(this,Te,ha).call(this),this.updateResult(),s&&(T(this,we)!==r||an(this.options.enabled,T(this,we))!==an(n.enabled,T(this,we))||fs(this.options.staleTime,T(this,we))!==fs(n.staleTime,T(this,we)))&&ve(this,Te,zh).call(this);const o=ve(this,Te,Vh).call(this);s&&(T(this,we)!==r||an(this.options.enabled,T(this,we))!==an(n.enabled,T(this,we))||o!==T(this,Jr))&&ve(this,Te,Hh).call(this,o)}getOptimisticResult(t){const n=T(this,At).getQueryCache().build(T(this,At),t),r=this.createResult(n,t);return m2(this,r)&&(Y(this,Tt,r),Y(this,Ei,this.options),Y(this,no,T(this,we).state)),r}getCurrentResult(){return T(this,Tt)}trackResult(t,n){return new Proxy(t,{get:(r,s)=>(this.trackProp(s),n==null||n(s),s==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&T(this,hr).status==="pending"&&T(this,hr).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(r,s))})}trackProp(t){T(this,Ti).add(t)}getCurrentQuery(){return T(this,we)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=T(this,At).defaultQueryOptions(t),r=T(this,At).getQueryCache().build(T(this,At),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ve(this,Te,ha).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),T(this,Tt)))}createResult(t,n){var O;const r=T(this,we),s=this.options,o=T(this,Tt),i=T(this,no),a=T(this,Ei),u=t!==r?t.state:T(this,cl),{state:d}=t;let h={...d},p=!1,f;if(n._optimisticResults){const N=this.hasListeners(),D=!N&&dv(t,n),I=N&&fv(t,r,n,s);(D||I)&&(h={...h,...R_(d.data,t.options)}),n._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:b}=h;f=h.data;let x=!1;if(n.placeholderData!==void 0&&f===void 0&&b==="pending"){let N;o!=null&&o.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData)?(N=o.data,x=!0):N=typeof n.placeholderData=="function"?n.placeholderData((O=T(this,Ci))==null?void 0:O.state.data,T(this,Ci)):n.placeholderData,N!==void 0&&(b="success",f=Wh(o==null?void 0:o.data,N,n),p=!0)}if(n.select&&f!==void 0&&!x)if(o&&f===(i==null?void 0:i.data)&&n.select===T(this,ul))f=T(this,ki);else try{Y(this,ul,n.select),f=n.select(f),f=Wh(o==null?void 0:o.data,f,n),Y(this,ki,f),Y(this,Qr,null)}catch(N){Y(this,Qr,N)}T(this,Qr)&&(v=T(this,Qr),f=T(this,ki),y=Date.now(),b="error");const g=h.fetchStatus==="fetching",w=b==="pending",_=b==="error",S=w&&g,E=f!==void 0,C={status:b,fetchStatus:h.fetchStatus,isPending:w,isSuccess:b==="success",isError:_,isInitialLoading:S,isLoading:S,data:f,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:g,isRefetching:g&&!w,isLoadingError:_&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:p,isRefetchError:_&&E,isStale:Im(t,n),refetch:this.refetch,promise:T(this,hr),isEnabled:an(n.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const N=C.data!==void 0,D=C.status==="error"&&!N,I=U=>{D?U.reject(C.error):N&&U.resolve(C.data)},M=()=>{const U=Y(this,hr,C.promise=Uh());I(U)},P=T(this,hr);switch(P.status){case"pending":t.queryHash===r.queryHash&&I(P);break;case"fulfilled":(D||C.data!==P.value)&&M();break;case"rejected":(!D||C.error!==P.reason)&&M();break}}return C}updateResult(){const t=T(this,Tt),n=this.createResult(T(this,we),this.options);if(Y(this,no,T(this,we).state),Y(this,Ei,this.options),T(this,no).data!==void 0&&Y(this,Ci,T(this,we)),Lh(n,t))return;Y(this,Tt,n);const r=()=>{if(!t)return!0;const{notifyOnChangeProps:s}=this.options,o=typeof s=="function"?s():s;if(o==="all"||!o&&!T(this,Ti).size)return!0;const i=new Set(o??T(this,Ti));return this.options.throwOnError&&i.add("error"),Object.keys(T(this,Tt)).some(a=>{const l=a;return T(this,Tt)[l]!==t[l]&&i.has(l)})};ve(this,Te,P_).call(this,{listeners:r()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ve(this,Te,Kh).call(this)}},At=new WeakMap,we=new WeakMap,cl=new WeakMap,Tt=new WeakMap,no=new WeakMap,Ei=new WeakMap,hr=new WeakMap,Qr=new WeakMap,ul=new WeakMap,ki=new WeakMap,Ci=new WeakMap,ro=new WeakMap,so=new WeakMap,Jr=new WeakMap,Ti=new WeakMap,Te=new WeakSet,ha=function(t){ve(this,Te,Yh).call(this);let n=T(this,we).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Dt)),n},zh=function(){ve(this,Te,qh).call(this);const t=fs(this.options.staleTime,T(this,we));if(bo||T(this,Tt).isStale||!$h(t))return;const r=S_(T(this,Tt).dataUpdatedAt,t)+1;Y(this,ro,Ys.setTimeout(()=>{T(this,Tt).isStale||this.updateResult()},r))},Vh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(T(this,we)):this.options.refetchInterval)??!1},Hh=function(t){ve(this,Te,Gh).call(this),Y(this,Jr,t),!(bo||an(this.options.enabled,T(this,we))===!1||!$h(T(this,Jr))||T(this,Jr)===0)&&Y(this,so,Ys.setInterval(()=>{(this.options.refetchIntervalInBackground||Dm.isFocused())&&ve(this,Te,ha).call(this)},T(this,Jr)))},Kh=function(){ve(this,Te,zh).call(this),ve(this,Te,Hh).call(this,ve(this,Te,Vh).call(this))},qh=function(){T(this,ro)&&(Ys.clearTimeout(T(this,ro)),Y(this,ro,void 0))},Gh=function(){T(this,so)&&(Ys.clearInterval(T(this,so)),Y(this,so,void 0))},Yh=function(){const t=T(this,At).getQueryCache().build(T(this,At),this.options);if(t===T(this,we))return;const n=T(this,we);Y(this,we,t),Y(this,cl,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},P_=function(t){yt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(T(this,Tt))}),T(this,At).getQueryCache().notify({query:T(this,we),type:"observerResultsUpdated"})})},vw);function p2(e,t){return an(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dv(e,t){return p2(e,t)||e.state.data!==void 0&&Qh(e,t,t.refetchOnMount)}function Qh(e,t,n){if(an(t.enabled,e)!==!1&&fs(t.staleTime,e)!=="static"){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Im(e,t)}return!1}function fv(e,t,n,r){return(e!==t||an(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Im(e,n)}function Im(e,t){return an(t.enabled,e)!==!1&&e.isStaleByTime(fs(t.staleTime,e))}function m2(e,t){return!Lh(e.getCurrentResult(),t)}function hv(e){return{onFetch:(t,n)=>{var d,h,p,f,v;const r=t.options,s=(p=(h=(d=t.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:p.direction,o=((f=t.state.data)==null?void 0:f.pages)||[],i=((v=t.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=w=>{i2(w,()=>t.signal,()=>y=!0)},x=k_(t.options,t.fetchOptions),g=async(w,_,S)=>{if(y)return Promise.reject();if(_==null&&w.pages.length)return Promise.resolve(w);const k=(()=>{const D={client:t.client,queryKey:t.queryKey,pageParam:_,direction:S?"backward":"forward",meta:t.options.meta};return b(D),D})(),C=await x(k),{maxPages:O}=t.options,N=S?o2:s2;return{pages:N(w.pages,C,O),pageParams:N(w.pageParams,_,O)}};if(s&&o.length){const w=s==="backward",_=w?g2:pv,S={pages:o,pageParams:i},E=_(r,S);a=await g(S,E,w)}else{const w=e??o.length;do{const _=l===0?i[0]??r.initialPageParam:pv(r,a);if(l>0&&_==null)break;a=await g(a,_),l++}while(l<w)}return a};t.options.persister?t.fetchFn=()=>{var y,b;return(b=(y=t.options).persister)==null?void 0:b.call(y,u,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=u}}}function pv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function g2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var dl,Vn,Et,oo,Hn,Fr,ww,y2=(ww=class extends N_{constructor(t){super();ne(this,Hn);ne(this,dl);ne(this,Vn);ne(this,Et);ne(this,oo);Y(this,dl,t.client),this.mutationId=t.mutationId,Y(this,Et,t.mutationCache),Y(this,Vn,[]),this.state=t.state||v2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){T(this,Vn).includes(t)||(T(this,Vn).push(t),this.clearGcTimeout(),T(this,Et).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Y(this,Vn,T(this,Vn).filter(n=>n!==t)),this.scheduleGc(),T(this,Et).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){T(this,Vn).length||(this.state.status==="pending"?this.scheduleGc():T(this,Et).remove(this))}continue(){var t;return((t=T(this,oo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,a,l,u,d,h,p,f,v,y,b,x,g,w,_,S,E,k;const n=()=>{ve(this,Hn,Fr).call(this,{type:"continue"})},r={client:T(this,dl),meta:this.options.meta,mutationKey:this.options.mutationKey};Y(this,oo,j_({fn:()=>this.options.mutationFn?this.options.mutationFn(t,r):Promise.reject(new Error("No mutationFn found")),onFail:(C,O)=>{ve(this,Hn,Fr).call(this,{type:"failed",failureCount:C,error:O})},onPause:()=>{ve(this,Hn,Fr).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>T(this,Et).canRun(this)}));const s=this.state.status==="pending",o=!T(this,oo).canStart();try{if(s)n();else{ve(this,Hn,Fr).call(this,{type:"pending",variables:t,isPaused:o}),T(this,Et).config.onMutate&&await T(this,Et).config.onMutate(t,this,r);const O=await((a=(i=this.options).onMutate)==null?void 0:a.call(i,t,r));O!==this.state.context&&ve(this,Hn,Fr).call(this,{type:"pending",context:O,variables:t,isPaused:o})}const C=await T(this,oo).start();return await((u=(l=T(this,Et).config).onSuccess)==null?void 0:u.call(l,C,t,this.state.context,this,r)),await((h=(d=this.options).onSuccess)==null?void 0:h.call(d,C,t,this.state.context,r)),await((f=(p=T(this,Et).config).onSettled)==null?void 0:f.call(p,C,null,this.state.variables,this.state.context,this,r)),await((y=(v=this.options).onSettled)==null?void 0:y.call(v,C,null,t,this.state.context,r)),ve(this,Hn,Fr).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(b=T(this,Et).config).onError)==null?void 0:x.call(b,C,t,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((w=(g=this.options).onError)==null?void 0:w.call(g,C,t,this.state.context,r))}catch(O){Promise.reject(O)}try{await((S=(_=T(this,Et).config).onSettled)==null?void 0:S.call(_,void 0,C,this.state.variables,this.state.context,this,r))}catch(O){Promise.reject(O)}try{await((k=(E=this.options).onSettled)==null?void 0:k.call(E,void 0,C,t,this.state.context,r))}catch(O){Promise.reject(O)}throw ve(this,Hn,Fr).call(this,{type:"error",error:C}),C}finally{T(this,Et).runNext(this)}}},dl=new WeakMap,Vn=new WeakMap,Et=new WeakMap,oo=new WeakMap,Hn=new WeakSet,Fr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),yt.batch(()=>{T(this,Vn).forEach(r=>{r.onMutationUpdate(t)}),T(this,Et).notify({mutation:this,type:"updated",action:t})})},ww);function v2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var pr,jn,fl,xw,w2=(xw=class extends El{constructor(t={}){super();ne(this,pr);ne(this,jn);ne(this,fl);this.config=t,Y(this,pr,new Set),Y(this,jn,new Map),Y(this,fl,0)}build(t,n,r){const s=new y2({client:t,mutationCache:this,mutationId:++$l(this,fl)._,options:t.defaultMutationOptions(n),state:r});return this.add(s),s}add(t){T(this,pr).add(t);const n=ic(t);if(typeof n=="string"){const r=T(this,jn).get(n);r?r.push(t):T(this,jn).set(n,[t])}this.notify({type:"added",mutation:t})}remove(t){if(T(this,pr).delete(t)){const n=ic(t);if(typeof n=="string"){const r=T(this,jn).get(n);if(r)if(r.length>1){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}else r[0]===t&&T(this,jn).delete(n)}}this.notify({type:"removed",mutation:t})}canRun(t){const n=ic(t);if(typeof n=="string"){const r=T(this,jn).get(n),s=r==null?void 0:r.find(o=>o.state.status==="pending");return!s||s===t}else return!0}runNext(t){var r;const n=ic(t);if(typeof n=="string"){const s=(r=T(this,jn).get(n))==null?void 0:r.find(o=>o!==t&&o.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){yt.batch(()=>{T(this,pr).forEach(t=>{this.notify({type:"removed",mutation:t})}),T(this,pr).clear(),T(this,jn).clear()})}getAll(){return Array.from(T(this,pr))}find(t){const n={exact:!0,...t};return this.getAll().find(r=>iv(n,r))}findAll(t={}){return this.getAll().filter(n=>iv(t,n))}notify(t){yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return yt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Dt))))}},pr=new WeakMap,jn=new WeakMap,fl=new WeakMap,xw);function ic(e){var t;return(t=e.options.scope)==null?void 0:t.id}var Kn,bw,x2=(bw=class extends El{constructor(t={}){super();ne(this,Kn);this.config=t,Y(this,Kn,new Map)}build(t,n,r){const s=n.queryKey,o=n.queryHash??Am(s,n);let i=this.get(o);return i||(i=new f2({client:t,queryKey:s,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(s)}),this.add(i)),i}add(t){T(this,Kn).has(t.queryHash)||(T(this,Kn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=T(this,Kn).get(t.queryHash);n&&(t.destroy(),n===t&&T(this,Kn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){yt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return T(this,Kn).get(t)}getAll(){return[...T(this,Kn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ov(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>ov(t,r)):n}notify(t){yt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){yt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){yt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Kn=new WeakMap,bw),Ye,Xr,Zr,ji,Ni,es,Ri,Pi,_w,b2=(_w=class{constructor(e={}){ne(this,Ye);ne(this,Xr);ne(this,Zr);ne(this,ji);ne(this,Ni);ne(this,es);ne(this,Ri);ne(this,Pi);Y(this,Ye,e.queryCache||new x2),Y(this,Xr,e.mutationCache||new w2),Y(this,Zr,e.defaultOptions||{}),Y(this,ji,new Map),Y(this,Ni,new Map),Y(this,es,0)}mount(){$l(this,es)._++,T(this,es)===1&&(Y(this,Ri,Dm.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Ye).onFocus())})),Y(this,Pi,uu.subscribe(async e=>{e&&(await this.resumePausedMutations(),T(this,Ye).onOnline())})))}unmount(){var e,t;$l(this,es)._--,T(this,es)===0&&((e=T(this,Ri))==null||e.call(this),Y(this,Ri,void 0),(t=T(this,Pi))==null||t.call(this),Y(this,Pi,void 0))}isFetching(e){return T(this,Ye).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return T(this,Xr).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,Ye).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=T(this,Ye).build(this,t),r=n.state.data;return r===void 0?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(fs(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return T(this,Ye).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),s=T(this,Ye).get(r.queryHash),o=s==null?void 0:s.state.data,i=t2(t,o);if(i!==void 0)return T(this,Ye).build(this,r).setData(i,{...n,manual:!0})}setQueriesData(e,t,n){return yt.batch(()=>T(this,Ye).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=T(this,Ye).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=T(this,Ye);yt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=T(this,Ye);return yt.batch(()=>(n.findAll(e).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=yt.batch(()=>T(this,Ye).findAll(e).map(s=>s.cancel(n)));return Promise.all(r).then(Dt).catch(Dt)}invalidateQueries(e,t={}){return yt.batch(()=>(T(this,Ye).findAll(e).forEach(n=>{n.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=yt.batch(()=>T(this,Ye).findAll(e).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let o=s.fetch(void 0,n);return n.throwOnError||(o=o.catch(Dt)),s.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(Dt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=T(this,Ye).build(this,t);return n.isStaleByTime(fs(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Dt).catch(Dt)}fetchInfiniteQuery(e){return e.behavior=hv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Dt).catch(Dt)}ensureInfiniteQueryData(e){return e.behavior=hv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return uu.isOnline()?T(this,Xr).resumePausedMutations():Promise.resolve()}getQueryCache(){return T(this,Ye)}getMutationCache(){return T(this,Xr)}getDefaultOptions(){return T(this,Zr)}setDefaultOptions(e){Y(this,Zr,e)}setQueryDefaults(e,t){T(this,ji).set(Ja(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...T(this,ji).values()],n={};return t.forEach(r=>{Xa(e,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(e,t){T(this,Ni).set(Ja(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...T(this,Ni).values()],n={};return t.forEach(r=>{Xa(e,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...T(this,Zr).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Am(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Mm&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...T(this,Zr).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){T(this,Ye).clear(),T(this,Xr).clear()}},Ye=new WeakMap,Xr=new WeakMap,Zr=new WeakMap,ji=new WeakMap,Ni=new WeakMap,es=new WeakMap,Ri=new WeakMap,Pi=new WeakMap,_w),O_=m.createContext(void 0),_2=e=>{const t=m.useContext(O_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},S2=({client:e,children:t})=>(m.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(O_.Provider,{value:e,children:t})),A_=m.createContext(!1),E2=()=>m.useContext(A_);A_.Provider;function k2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var C2=m.createContext(k2()),T2=()=>m.useContext(C2),j2=(e,t,n)=>{const r=n!=null&&n.state.error&&typeof e.throwOnError=="function"?C_(e.throwOnError,[n.state.error,n]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||r)&&(t.isReset()||(e.retryOnMount=!1))},N2=e=>{m.useEffect(()=>{e.clearReset()},[e])},R2=({result:e,errorResetBoundary:t,throwOnError:n,query:r,suspense:s})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(s&&e.data===void 0||C_(n,[e.error,r])),P2=e=>{if(e.suspense){const n=s=>s==="static"?s:Math.max(s??1e3,1e3),r=e.staleTime;e.staleTime=typeof r=="function"?(...s)=>n(r(...s)):n(r),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},O2=(e,t)=>e.isLoading&&e.isFetching&&!t,A2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,mv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function M2(e,t,n){var p,f,v,y;const r=E2(),s=T2(),o=_2(),i=o.defaultQueryOptions(e);(f=(p=o.getDefaultOptions().queries)==null?void 0:p._experimental_beforeQuery)==null||f.call(p,i);const a=o.getQueryCache().get(i.queryHash);i._optimisticResults=r?"isRestoring":"optimistic",P2(i),j2(i,s,a),N2(s);const l=!o.getQueryCache().get(i.queryHash),[u]=m.useState(()=>new t(o,i)),d=u.getOptimisticResult(i),h=!r&&e.subscribed!==!1;if(m.useSyncExternalStore(m.useCallback(b=>{const x=h?u.subscribe(yt.batchCalls(b)):Dt;return u.updateResult(),x},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),m.useEffect(()=>{u.setOptions(i)},[i,u]),A2(i,d))throw mv(i,u,s);if(R2({result:d,errorResetBoundary:s,throwOnError:i.throwOnError,query:a,suspense:i.suspense}))throw d.error;if((y=(v=o.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,i,d),i.experimental_prefetchInRender&&!bo&&O2(d,r)){const b=l?mv(i,u,s):a==null?void 0:a.promise;b==null||b.catch(Dt).finally(()=>{u.updateResult()})}return i.notifyOnChangeProps?d:u.trackResult(d)}function wr(e,t){return M2(e,h2)}/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function du(){return du=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},du.apply(this,arguments)}var rs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(rs||(rs={}));const gv="popstate";function D2(e){e===void 0&&(e={});function t(r,s){let{pathname:o,search:i,hash:a}=r.location;return Jh("",{pathname:o,search:i,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:D_(s)}return $2(t,n,null,e)}function Ut(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function M_(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function I2(){return Math.random().toString(36).substr(2,8)}function yv(e,t){return{usr:e.state,key:e.key,idx:t}}function Jh(e,t,n,r){return n===void 0&&(n=null),du({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Zu(t):t,{state:n,key:t&&t.key||r||I2()})}function D_(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Zu(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function $2(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:o=!1}=r,i=s.history,a=rs.Pop,l=null,u=d();u==null&&(u=0,i.replaceState(du({},i.state,{idx:u}),""));function d(){return(i.state||{idx:null}).idx}function h(){a=rs.Pop;let b=d(),x=b==null?null:b-u;u=b,l&&l({action:a,location:y.location,delta:x})}function p(b,x){a=rs.Push;let g=Jh(y.location,b,x);u=d()+1;let w=yv(g,u),_=y.createHref(g);try{i.pushState(w,"",_)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(_)}o&&l&&l({action:a,location:y.location,delta:1})}function f(b,x){a=rs.Replace;let g=Jh(y.location,b,x);u=d();let w=yv(g,u),_=y.createHref(g);i.replaceState(w,"",_),o&&l&&l({action:a,location:y.location,delta:0})}function v(b){let x=s.location.origin!=="null"?s.location.origin:s.location.href,g=typeof b=="string"?b:D_(b);return g=g.replace(/ $/,"%20"),Ut(x,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,x)}let y={get action(){return a},get location(){return e(s,i)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(gv,h),l=b,()=>{s.removeEventListener(gv,h),l=null}},createHref(b){return t(s,b)},createURL:v,encodeLocation(b){let x=v(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:p,replace:f,go(b){return i.go(b)}};return y}var vv;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(vv||(vv={}));function L2(e,t,n){return n===void 0&&(n="/"),F2(e,t,n)}function F2(e,t,n,r){let s=typeof t=="string"?Zu(t):t,o=L_(s.pathname||"/",n);if(o==null)return null;let i=I_(e);W2(i);let a=null;for(let l=0;a==null&&l<i.length;++l){let u=X2(o);a=Y2(i[l],u)}return a}function I_(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(o,i,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:i,route:o};l.relativePath.startsWith("/")&&(Ut(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=mi([r,l.relativePath]),d=n.concat(l);o.children&&o.children.length>0&&(Ut(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),I_(o.children,t,d,u)),!(o.path==null&&!o.index)&&t.push({path:u,score:q2(u,o.index),routesMeta:d})};return e.forEach((o,i)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))s(o,i);else for(let l of $_(o.path))s(o,i,l)}),t}function $_(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return s?[o,""]:[o];let i=$_(r.join("/")),a=[];return a.push(...i.map(l=>l===""?o:[o,l].join("/"))),s&&a.push(...i),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function W2(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:G2(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const U2=/^:[\w-]+$/,B2=3,z2=2,V2=1,H2=10,K2=-2,wv=e=>e==="*";function q2(e,t){let n=e.split("/"),r=n.length;return n.some(wv)&&(r+=K2),t&&(r+=z2),n.filter(s=>!wv(s)).reduce((s,o)=>s+(U2.test(o)?B2:o===""?V2:H2),r)}function G2(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function Y2(e,t,n){let{routesMeta:r}=e,s={},o="/",i=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,d=o==="/"?t:t.slice(o.length)||"/",h=Q2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),p=l.route;if(!h)return null;Object.assign(s,h.params),i.push({params:s,pathname:mi([o,h.pathname]),pathnameBase:Z2(mi([o,h.pathnameBase])),route:p}),h.pathnameBase!=="/"&&(o=mi([o,h.pathnameBase]))}return i}function Q2(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=J2(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let o=s[0],i=o.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:p,isOptional:f}=d;if(p==="*"){let y=a[h]||"";i=o.slice(0,o.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[h];return f&&!v?u[p]=void 0:u[p]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:i,pattern:e}}function J2(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),M_(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function X2(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return M_(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function L_(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}const mi=e=>e.join("/").replace(/\/\/+/g,"/"),Z2=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/");function eM(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const F_=["post","put","patch","delete"];new Set(F_);const tM=["get",...F_];new Set(tM);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fu(){return fu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fu.apply(this,arguments)}const nM=m.createContext(null),rM=m.createContext(null),W_=m.createContext(null),ed=m.createContext(null),td=m.createContext({outlet:null,matches:[],isDataRoute:!1}),U_=m.createContext(null);function $m(){return m.useContext(ed)!=null}function B_(){return $m()||Ut(!1),m.useContext(ed).location}function sM(e,t){return oM(e,t)}function oM(e,t,n,r){$m()||Ut(!1);let{navigator:s}=m.useContext(W_),{matches:o}=m.useContext(td),i=o[o.length-1],a=i?i.params:{};i&&i.pathname;let l=i?i.pathnameBase:"/";i&&i.route;let u=B_(),d;if(t){var h;let b=typeof t=="string"?Zu(t):t;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Ut(!1),d=b}else d=u;let p=d.pathname||"/",f=p;if(l!=="/"){let b=l.replace(/^\//,"").split("/");f="/"+p.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=L2(e,{pathname:f}),y=uM(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:mi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:mi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),o,n,r);return t&&y?m.createElement(ed.Provider,{value:{location:fu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:rs.Pop}},y):y}function iM(){let e=pM(),t=eM(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return m.createElement(m.Fragment,null,m.createElement("h2",null,"Unexpected Application Error!"),m.createElement("h3",{style:{fontStyle:"italic"}},t),n?m.createElement("pre",{style:s},n):null,null)}const aM=m.createElement(iM,null);class lM extends m.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?m.createElement(td.Provider,{value:this.props.routeContext},m.createElement(U_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function cM(e){let{routeContext:t,match:n,children:r}=e,s=m.useContext(nM);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),m.createElement(td.Provider,{value:t},r)}function uM(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var o;if(!n)return null;if(n.errors)e=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=i.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||Ut(!1),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:p,errors:f}=n,v=h.route.loader&&p[h.route.id]===void 0&&(!f||f[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}return i.reduceRight((d,h,p)=>{let f,v=!1,y=null,b=null;n&&(f=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||aM,l&&(u<0&&p===0?(mM("route-fallback"),v=!0,b=null):u===p&&(v=!0,b=h.route.hydrateFallbackElement||null)));let x=t.concat(i.slice(0,p+1)),g=()=>{let w;return f?w=y:v?w=b:h.route.Component?w=m.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,m.createElement(cM,{match:h,routeContext:{outlet:d,matches:x,isDataRoute:n!=null},children:w})};return n&&(h.route.ErrorBoundary||h.route.errorElement||p===0)?m.createElement(lM,{location:n.location,revalidation:n.revalidation,component:y,error:f,children:g(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):g()},null)}var z_=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(z_||{});function dM(e){let t=m.useContext(rM);return t||Ut(!1),t}function fM(e){let t=m.useContext(td);return t||Ut(!1),t}function hM(e){let t=fM(),n=t.matches[t.matches.length-1];return n.route.id||Ut(!1),n.route.id}function pM(){var e;let t=m.useContext(U_),n=dM(z_.UseRouteError),r=hM();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}const xv={};function mM(e,t,n){xv[e]||(xv[e]=!0)}function gM(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Xh(e){Ut(!1)}function yM(e){let{basename:t="/",children:n=null,location:r,navigationType:s=rs.Pop,navigator:o,static:i=!1,future:a}=e;$m()&&Ut(!1);let l=t.replace(/^\/*/,"/"),u=m.useMemo(()=>({basename:l,navigator:o,static:i,future:fu({v7_relativeSplatPath:!1},a)}),[l,a,o,i]);typeof r=="string"&&(r=Zu(r));let{pathname:d="/",search:h="",hash:p="",state:f=null,key:v="default"}=r,y=m.useMemo(()=>{let b=L_(d,l);return b==null?null:{location:{pathname:b,search:h,hash:p,state:f,key:v},navigationType:s}},[l,d,h,p,f,v,s]);return y==null?null:m.createElement(W_.Provider,{value:u},m.createElement(ed.Provider,{children:n,value:y}))}function vM(e){let{children:t,location:n}=e;return sM(Zh(t),n)}new Promise(()=>{});function Zh(e,t){t===void 0&&(t=[]);let n=[];return m.Children.forEach(e,(r,s)=>{if(!m.isValidElement(r))return;let o=[...t,s];if(r.type===m.Fragment){n.push.apply(n,Zh(r.props.children,o));return}r.type!==Xh&&Ut(!1),!r.props.index||!r.props.children||Ut(!1);let i={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(i.children=Zh(r.props.children,o)),n.push(i)}),n}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const wM="6";try{window.__reactRouterVersion=wM}catch{}const xM="startTransition",bv=bu[xM];function bM(e){let{basename:t,children:n,future:r,window:s}=e,o=m.useRef();o.current==null&&(o.current=D2({window:s,v5Compat:!0}));let i=o.current,[a,l]=m.useState({action:i.action,location:i.location}),{v7_startTransition:u}=r||{},d=m.useCallback(h=>{u&&bv?bv(()=>l(h)):l(h)},[l,u]);return m.useLayoutEffect(()=>i.listen(d),[i,d]),m.useEffect(()=>gM(r),[r]),m.createElement(yM,{basename:t,children:n,location:a.location,navigationType:a.action,navigator:i,future:r})}var _v;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(_v||(_v={}));var Sv;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Sv||(Sv={}));const _M=[{id:"roster",label:"",icon:db},{id:"duty",label:"",icon:xj},{id:"tools",label:"",icon:Mj}];function SM({activeTab:e,onTabChange:t}){return c.jsx("nav",{className:"bottom-nav",children:c.jsx("div",{className:"flex items-stretch justify-around h-full max-w-md mx-auto",children:_M.map(n=>c.jsxs("button",{onClick:()=>t(n.id),className:F("bottom-nav-item flex-1 touch-btn",e===n.id&&"active"),children:[c.jsx(n.icon,{className:"w-6 h-6 transition-transform duration-200"}),c.jsx("span",{className:"text-xs font-medium",children:n.label})]},n.id))})})}function EM({children:e,activeTab:t,onTabChange:n}){return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-secondary/30",children:[c.jsx("main",{className:"main-content",children:e}),c.jsx(SM,{activeTab:t,onTabChange:n})]})}var kM=Symbol.for("react.lazy"),hu=bu[" use ".trim().toString()];function CM(e){return typeof e=="object"&&e!==null&&"then"in e}function V_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===kM&&"_payload"in e&&CM(e._payload)}function H_(e){const t=jM(e),n=m.forwardRef((r,s)=>{let{children:o,...i}=r;V_(o)&&typeof hu=="function"&&(o=hu(o._payload));const a=m.Children.toArray(o),l=a.find(RM);if(l){const u=l.props.children,d=a.map(h=>h===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var TM=H_("Slot");function jM(e){const t=m.forwardRef((n,r)=>{let{children:s,...o}=n;if(V_(s)&&typeof hu=="function"&&(s=hu(s._payload)),m.isValidElement(s)){const i=OM(s),a=PM(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Vi(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var NM=Symbol("radix.slottable");function RM(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===NM}function PM(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function OM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}const Lm=xl("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),G=m.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...s},o)=>{const i=r?TM:"button";return c.jsx(i,{className:F(Lm({variant:t,size:n,className:e})),ref:o,...s})});G.displayName="Button";function Fm({title:e,subtitle:t,children:n,className:r}){return c.jsx("header",{className:F("px-4 pt-6 pb-4",r),children:c.jsxs("div",{className:"flex items-start justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:e}),t&&c.jsx("p",{className:"text-sm text-muted-foreground mt-0.5",children:t})]}),n&&c.jsx("div",{className:"flex items-center gap-2",children:n})]})})}const AM=xl("inline-flex items-center gap-1 px-2 py-0.5 text-xs font-medium rounded-full",{variants:{variant:{draft:"badge-draft",published:"badge-published",locked:"badge-locked",missing:"badge-missing",partner:"badge-partner",default:"bg-secondary text-secondary-foreground"}},defaultVariants:{variant:"default"}});function nd({className:e,variant:t,children:n,...r}){return c.jsx("span",{className:F(AM({variant:t}),e),...r,children:n})}function MM({count:e}){return c.jsxs(nd,{variant:"missing",children:["",e!==void 0?` ${e}`:""]})}function DM(){return c.jsx(nd,{variant:"partner",children:""})}function Ve({children:e,className:t,onClick:n}){return c.jsx("div",{className:F("glass-card rounded-xl p-4",n&&"cursor-pointer hover:shadow-xl transition-shadow",t),onClick:n,children:e})}var Jn=function(){return Jn=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Jn.apply(this,arguments)};function Yi(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function IM(e,t,n,r){function s(o){return o instanceof n?o:new n(function(i){i(o)})}return new(n||(n=Promise))(function(o,i){function a(d){try{u(r.next(d))}catch(h){i(h)}}function l(d){try{u(r.throw(d))}catch(h){i(h)}}function u(d){d.done?o(d.value):s(d.value).then(a,l)}u((r=r.apply(e,t||[])).next())})}function $M(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}const LM=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);class Wm extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}}class FM extends Wm{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Ev extends Wm{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class kv extends Wm{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var ep;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(ep||(ep={}));class WM{constructor(t,{headers:n={},customFetch:r,region:s=ep.Any}={}){this.url=t,this.headers=n,this.region=s,this.fetch=LM(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return IM(this,arguments,void 0,function*(n,r={}){var s;let o,i;try{const{headers:a,method:l,body:u,signal:d,timeout:h}=r;let p={},{region:f}=r;f||(f=this.region);const v=new URL(`${this.url}/${n}`);f&&f!=="any"&&(p["x-region"]=f,v.searchParams.set("forceFunctionRegion",f));let y;u&&(a&&!Object.prototype.hasOwnProperty.call(a,"Content-Type")||!a)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",y=u):typeof u=="string"?(p["Content-Type"]="text/plain",y=u):typeof FormData<"u"&&u instanceof FormData?y=u:(p["Content-Type"]="application/json",y=JSON.stringify(u)):u&&typeof u!="string"&&!(typeof Blob<"u"&&u instanceof Blob)&&!(u instanceof ArrayBuffer)&&!(typeof FormData<"u"&&u instanceof FormData)?y=JSON.stringify(u):y=u;let b=d;h&&(i=new AbortController,o=setTimeout(()=>i.abort(),h),d?(b=i.signal,d.addEventListener("abort",()=>i.abort())):b=i.signal);const x=yield this.fetch(v.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),a),body:y,signal:b}).catch(S=>{throw new FM(S)}),g=x.headers.get("x-relay-error");if(g&&g==="true")throw new Ev(x);if(!x.ok)throw new kv(x);let w=((s=x.headers.get("Content-Type"))!==null&&s!==void 0?s:"text/plain").split(";")[0].trim(),_;return w==="application/json"?_=yield x.json():w==="application/octet-stream"||w==="application/pdf"?_=yield x.blob():w==="text/event-stream"?_=x:w==="multipart/form-data"?_=yield x.formData():_=yield x.text(),{data:_,error:null,response:x}}catch(a){return{data:null,error:a,response:a instanceof kv||a instanceof Ev?a.context:void 0}}finally{o&&clearTimeout(o)}})}}var UM=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},BM=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let i=null,a=null,l=null,u=o.status,d=o.statusText;if(o.ok){var h,p;if(n.method!=="HEAD"){var f;const x=await o.text();x===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((f=n.headers.get("Accept"))===null||f===void 0)&&f.includes("application/vnd.pgrst.plan+text"))?a=x:a=JSON.parse(x))}const y=(h=n.headers.get("Prefer"))===null||h===void 0?void 0:h.match(/count=(exact|planned|estimated)/),b=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");y&&b&&b.length>1&&(l=parseInt(b[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(a)&&(a.length>1?(i={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,d="Not Acceptable"):a.length===1?a=a[0]:a=null)}else{var v;const y=await o.text();try{i=JSON.parse(y),Array.isArray(i)&&o.status===404&&(a=[],i=null,u=200,d="OK")}catch{o.status===404&&y===""?(u=204,d="No Content"):i={message:y}}if(i&&n.isMaybeSingle&&(!(i==null||(v=i.details)===null||v===void 0)&&v.includes("0 rows"))&&(i=null,u=200,d="OK"),i&&n.shouldThrowOnError)throw new UM(i)}return{error:i,data:a,count:l,status:u,statusText:d}});return this.shouldThrowOnError||(s=s.catch(o=>{var i;let a="";const l=o==null?void 0:o.cause;if(l){var u,d,h,p;const v=(u=l==null?void 0:l.message)!==null&&u!==void 0?u:"",y=(d=l==null?void 0:l.code)!==null&&d!==void 0?d:"";a=`${(h=o==null?void 0:o.name)!==null&&h!==void 0?h:"FetchError"}: ${o==null?void 0:o.message}`,a+=`

Caused by: ${(p=l==null?void 0:l.name)!==null&&p!==void 0?p:"Error"}: ${v}`,y&&(a+=` (${y})`),l!=null&&l.stack&&(a+=`
${l.stack}`)}else{var f;a=(f=o==null?void 0:o.stack)!==null&&f!==void 0?f:""}return{error:{message:`${(i=o==null?void 0:o.name)!==null&&i!==void 0?i:"FetchError"}: ${o==null?void 0:o.message}`,details:a,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}},zM=class extends BM{select(e){let t=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:s=r}={}){const o=s?`${s}.order`:"order",i=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${i?`${i},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:s=!1,format:o="text"}={}){var i;const a=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(i=this.headers.get("Accept"))!==null&&i!==void 0?i:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${l}"; options=${a};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};const Cv=new RegExp("[,()]");var Vo=class extends zM{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Cv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){const n=Array.from(new Set(t)).map(r=>typeof r=="string"&&Cv.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let s="";r==="plain"?s="pl":r==="phrase"?s="ph":r==="websearch"&&(s="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},VM=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){const{head:n=!1,count:r}=t??{},s=n?"HEAD":"GET";let o=!1;const i=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join(""),{url:a,headers:l}=this.cloneRequestState();return a.searchParams.set("select",i),r&&l.append("Prefer",`count=${r}`),new Vo({method:s,url:a,headers:l,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;const s="POST",{url:o,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),n||i.append("Prefer","missing=default"),Array.isArray(e)){const a=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(a.length>0){const l=[...new Set(a)].map(u=>`"${u}"`);o.searchParams.set("columns",l.join(","))}}return new Vo({method:s,url:o,headers:i,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:s=!0}={}){var o;const i="POST",{url:a,headers:l}=this.cloneRequestState();if(l.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&a.searchParams.set("on_conflict",t),r&&l.append("Prefer",`count=${r}`),s||l.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((d,h)=>d.concat(Object.keys(h)),[]);if(u.length>0){const d=[...new Set(u)].map(h=>`"${h}"`);a.searchParams.set("columns",d.join(","))}}return new Vo({method:i,url:a,headers:l,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;const r="PATCH",{url:s,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new Vo({method:r,url:s,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;const n="DELETE",{url:r,headers:s}=this.cloneRequestState();return e&&s.append("Prefer",`count=${e}`),new Vo({method:n,url:r,headers:s,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},HM=class K_{constructor(t,{headers:n={},schema:r,fetch:s}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new VM(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new K_(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:s=!1,count:o}={}){var i;let a;const l=new URL(`${this.url}/rpc/${t}`);let u;const d=f=>f!==null&&typeof f=="object"&&(!Array.isArray(f)||f.some(d)),h=r&&Object.values(n).some(d);h?(a="POST",u=n):r||s?(a=r?"HEAD":"GET",Object.entries(n).filter(([f,v])=>v!==void 0).map(([f,v])=>[f,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([f,v])=>{l.searchParams.append(f,v)})):(a="POST",u=n);const p=new Headers(this.headers);return h?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new Vo({method:a,url:l,headers:p,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};class KM{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const n=globalThis.process;if(n){const r=n.versions;if(r&&r.node){const s=r.node,o=parseInt(s.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const qM="2.91.1",GM=`realtime-js/${qM}`,YM="1.0.0",q_="2.0.0",Tv=q_,tp=1e4,QM=1e3,JM=100;var zr;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(zr||(zr={}));var at;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(at||(at={}));var Rn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Rn||(Rn={}));var np;(function(e){e.websocket="websocket"})(np||(np={}));var zs;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(zs||(zs={}));class XM{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,s)}_encodeJsonUserBroadcastPush(t){var n,r;const s=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},i=new TextEncoder().encode(JSON.stringify(s)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,i)}_encodeUserBroadcastPush(t,n,r){var s,o;const i=t.topic,a=(s=t.ref)!==null&&s!==void 0?s:"",l=(o=t.join_ref)!==null&&o!==void 0?o:"",u=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},h=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`ref length ${a.length} exceeds maximum of 255`);if(i.length>255)throw new Error(`topic length ${i.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const p=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+a.length+i.length+u.length+h.length,f=new ArrayBuffer(this.HEADER_LENGTH+p);let v=new DataView(f),y=0;v.setUint8(y++,this.KINDS.userBroadcastPush),v.setUint8(y++,l.length),v.setUint8(y++,a.length),v.setUint8(y++,i.length),v.setUint8(y++,u.length),v.setUint8(y++,h.length),v.setUint8(y++,n),Array.from(l,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(a,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(i,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(u,x=>v.setUint8(y++,x.charCodeAt(0))),Array.from(h,x=>v.setUint8(y++,x.charCodeAt(0)));var b=new Uint8Array(f.byteLength+r.byteLength);return b.set(new Uint8Array(f),0),b.set(new Uint8Array(r),f.byteLength),b.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){const r=JSON.parse(t),[s,o,i,a,l]=r;return n({join_ref:s,ref:o,topic:i,event:a,payload:l})}return n({})}_binaryDecode(t){const n=new DataView(t),r=n.getUint8(0),s=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,n,s)}}_decodeUserBroadcast(t,n,r){const s=n.getUint8(1),o=n.getUint8(2),i=n.getUint8(3),a=n.getUint8(4);let l=this.HEADER_LENGTH+4;const u=r.decode(t.slice(l,l+s));l=l+s;const d=r.decode(t.slice(l,l+o));l=l+o;const h=r.decode(t.slice(l,l+i));l=l+i;const p=t.slice(l,t.byteLength),f=a===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,v={type:this.BROADCAST_EVENT,event:d,payload:f};return i>0&&(v.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:v}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t==null?void 0:t.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}}class G_{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Oe;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(Oe||(Oe={}));const jv=(e,t,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,i)=>(o[i]=ZM(i,e,t,s),o),{}):{}},ZM=(e,t,n,r)=>{const s=t.find(a=>a.name===e),o=s==null?void 0:s.type,i=n[e];return o&&!r.includes(o)?Y_(o,i):rp(i)},Y_=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return rD(t,n)}switch(e){case Oe.bool:return eD(t);case Oe.float4:case Oe.float8:case Oe.int2:case Oe.int4:case Oe.int8:case Oe.numeric:case Oe.oid:return tD(t);case Oe.json:case Oe.jsonb:return nD(t);case Oe.timestamp:return sD(t);case Oe.abstime:case Oe.date:case Oe.daterange:case Oe.int4range:case Oe.int8range:case Oe.money:case Oe.reltime:case Oe.text:case Oe.time:case Oe.timestamptz:case Oe.timetz:case Oe.tsrange:case Oe.tstzrange:return rp(t);default:return rp(t)}},rp=e=>e,eD=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},tD=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},nD=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},rD=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o;const i=e.slice(1,n);try{o=JSON.parse("["+i+"]")}catch{o=i?i.split(","):[]}return o.map(a=>Y_(t,a))}return e},sD=e=>typeof e=="string"?e.replace(" ","T"):e,Q_=e=>{const t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class of{constructor(t,n,r={},s=tp){this.channel=t,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Nv;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Nv||(Nv={}));class Ca{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ca.syncState(this.state,s,o,i),this.pendingDiffs.forEach(l=>{this.state=Ca.syncDiff(this.state,l,o,i)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:o,onLeave:i,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ca.syncDiff(this.state,s,o,i),a())}),this.onJoin((s,o,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:i})}),this.onLeave((s,o,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,s){const o=this.cloneDeep(t),i=this.transformState(n),a={},l={};return this.map(o,(u,d)=>{i[u]||(l[u]=d)}),this.map(i,(u,d)=>{const h=o[u];if(h){const p=d.map(b=>b.presence_ref),f=h.map(b=>b.presence_ref),v=d.filter(b=>f.indexOf(b.presence_ref)<0),y=h.filter(b=>p.indexOf(b.presence_ref)<0);v.length>0&&(a[u]=v),y.length>0&&(l[u]=y)}else a[u]=d}),this.syncDiff(o,{joins:a,leaves:l},r,s)}static syncDiff(t,n,r,s){const{joins:o,leaves:i}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(o,(a,l)=>{var u;const d=(u=t[a])!==null&&u!==void 0?u:[];if(t[a]=this.cloneDeep(l),d.length>0){const h=t[a].map(f=>f.presence_ref),p=d.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...p)}r(a,d,l)}),this.map(i,(a,l)=>{let u=t[a];if(!u)return;const d=l.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),t[a]=u,s(a,u,l),u.length===0&&delete t[a]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{const s=t[r];return"metas"in s?n[r]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=s,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Rv;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Rv||(Rv={}));var Ta;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ta||(Ta={}));var dr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(dr||(dr={}));class oi{constructor(t,n={config:{}},r){var s,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=at.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new of(this,Rn.join,this.params,this.timeout),this.rejoinTimer=new G_(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=at.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=at.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=at.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Rn.reply,{},(i,a)=>{this._trigger(this._replyEventName(a),i)}),this.presence=new Ca(this),this.broadcastEndpointURL=Q_(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(s=this.params.config)===null||s===void 0?void 0:s.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==at.closed){const{config:{broadcast:i,presence:a,private:l}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(f=>f.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,h={},p={broadcast:i,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(f=>t==null?void 0:t(dr.CHANNEL_ERROR,f)),this._onClose(()=>t==null?void 0:t(dr.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:f})=>{var v;if(this.socket._isManualToken()||this.socket.setAuth(),f===void 0){t==null||t(dr.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,b=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,x=[];for(let g=0;g<b;g++){const w=y[g],{filter:{event:_,schema:S,table:E,filter:k}}=w,C=f&&f[g];if(C&&C.event===_&&oi.isFilterValueEqual(C.schema,S)&&oi.isFilterValueEqual(C.table,E)&&oi.isFilterValueEqual(C.filter,k))x.push(Object.assign(Object.assign({},w),{id:C.id}));else{this.unsubscribe(),this.state=at.errored,t==null||t(dr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(dr.SUBSCRIBED);return}}).receive("error",f=>{this.state=at.errored,t==null||t(dr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(f).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(dr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===at.joined&&t===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var s;if(n==null)return Promise.reject("Payload is required for httpSend()");const o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const i={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},a=await this._fetchWithTimeout(this.broadcastEndpointURL,i,(s=r.timeout)!==null&&s!==void 0?s:this.timeout);if(a.status===202)return{success:!0};let l=a.statusText;try{const u=await a.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(t,n={}){var r,s;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:o,payload:i}=t,a={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(a.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:a,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var i,a,l;const u=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(a=(i=this.params)===null||i===void 0?void 0:i.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),u.receive("ok",()=>o("ok")),u.receive("error",()=>o("error")),u.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=at.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Rn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new of(this,Rn.leave,{},t),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=at.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){const s=new AbortController,o=setTimeout(()=>s.abort(),r),i=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(o),i}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new of(this,t,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>JM){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var s,o;const i=t.toLocaleLowerCase(),{close:a,error:l,leave:u,join:d}=Rn;if(r&&[a,l,u,d].indexOf(i)>=0&&r!==this._joinRef())return;let p=this._onMessage(i,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(f=>{var v,y,b;return((v=f.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(y=f.filter)===null||y===void 0?void 0:y.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===i}).map(f=>f.callback(p,r)):(o=this.bindings[i])===null||o===void 0||o.filter(f=>{var v,y,b,x,g,w,_,S;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in f){const E=f.id,k=(v=f.filter)===null||v===void 0?void 0:v.event;return E&&((y=n.ids)===null||y===void 0?void 0:y.includes(E))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))&&(!(!((x=f.filter)===null||x===void 0)&&x.table)||f.filter.table===((g=n.data)===null||g===void 0?void 0:g.table))}else{const E=(_=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return E==="*"||E===((S=n==null?void 0:n.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===i}).map(f=>{if(typeof p=="object"&&"ids"in p){const v=p.data,{schema:y,table:b,commit_timestamp:x,type:g,errors:w}=v;p=Object.assign(Object.assign({},{schema:y,table:b,commit_timestamp:x,eventType:g,new:{},old:{},errors:w}),this._getPayloadRecords(v))}f.callback(p,r)})}_isClosed(){return this.state===at.closed}_isJoined(){return this.state===at.joined}_isJoining(){return this.state===at.joining}_isLeaving(){return this.state===at.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){const s=t.toLocaleLowerCase(),o={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,n){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&oi.isEqual(s.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Rn.close,{},t)}_onError(t){this._on(Rn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=at.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=jv(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=jv(t.columns,t.old_record)),n}}const af=()=>{},ac={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},oD=[1e3,2e3,5e3,1e4],iD=1e4,aD=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class lD{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=tp,this.transport=null,this.heartbeatIntervalMs=ac.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=af,this.ref=0,this.reconnectTimer=null,this.vsn=Tv,this.logger=af,this.conn=null,this.sendBuffer=[],this.serializer=new XM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=s=>s?(...o)=>s(...o):(...o)=>fetch(...o),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${np.websocket}`,this.httpEndpoint=Q_(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=KM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case zr.connecting:return zs.Connecting;case zr.open:return zs.Open;case zr.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const r=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===r);if(s)return s;{const o=new oi(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){const{topic:n,event:r,payload:s,ref:o}=t,i=()=>{this.encode(t,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${o})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(QM,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ac.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){const u=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",u)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:s,payload:o,ref:i}=n,a=i?`(${i})`:"",l=o.status||"";this.log("receive",`${l} ${r} ${s} ${a}`.trim(),o),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,o,i)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===zr.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===zr.open||this.conn.readyState===zr.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Rn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const r=t.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${t}${r}${s}`}_workerObjectUrl(t){let n;if(t)n=t;else{const r=new Blob([aD],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(s){this.log("error","Error fetching access token from callback",s),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(s=>{const o={access_token:n,version:GM};n&&s.updateJoinPayload(o),s.joinedOnce&&s._isJoined()&&s._push(Rn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new G_(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ac.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,s,o,i,a,l,u,d,h,p,f;switch(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:tp,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ac.HEARTBEAT_INTERVAL,this.worker=(o=t==null?void 0:t.worker)!==null&&o!==void 0?o:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(a=t==null?void 0:t.heartbeatCallback)!==null&&a!==void 0?a:af,this.vsn=(l=t==null?void 0:t.vsn)!==null&&l!==void 0?l:Tv,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=t==null?void 0:t.reconnectAfterMs)!==null&&u!==void 0?u:v=>oD[v-1]||iD,this.vsn){case YM:this.encode=(d=t==null?void 0:t.encode)!==null&&d!==void 0?d:(v,y)=>y(JSON.stringify(v)),this.decode=(h=t==null?void 0:t.decode)!==null&&h!==void 0?h:(v,y)=>y(JSON.parse(v));break;case q_:this.encode=(p=t==null?void 0:t.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(f=t==null?void 0:t.decode)!==null&&f!==void 0?f:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Za=class extends Error{constructor(e,t){var n;super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((n=t.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function cD(e,t,n){const r=new URL(t,e);if(n)for(const[s,o]of Object.entries(n))o!==void 0&&r.searchParams.set(s,o);return r.toString()}async function uD(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function dD(e){const t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:s,body:o,headers:i}){const a=cD(e.baseUrl,r,s),l=await uD(e.auth),u=await t(a,{method:n,headers:{...o?{"Content-Type":"application/json"}:{},...l,...i},body:o?JSON.stringify(o):void 0}),d=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),p=h&&d?JSON.parse(d):d;if(!u.ok){const f=h?p:void 0,v=f==null?void 0:f.error;throw new Za((v==null?void 0:v.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:v==null?void 0:v.type,icebergCode:v==null?void 0:v.code,details:f})}return{status:u.status,headers:u.headers,data:p}}}}function lc(e){return e.join("")}var fD=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){const t=e?{parent:lc(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){const n={namespace:e.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${lc(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${lc(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${lc(e.namespace)}`}),!0}catch(t){if(t instanceof Za&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof Za&&n.status===409)return;throw n}}};function Do(e){return e.join("")}var hD=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(e){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Do(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof Za&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof Za&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},pD=class{constructor(e){var r;let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=dD({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=(r=e.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new fD(this.client,t),this.tableOps=new hD(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},rd=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Be(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var mD=class extends rd{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},sp=class extends rd{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}};const Um=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),gD=()=>Response,op=e=>{if(Array.isArray(e))return e.map(n=>op(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=op(r)}),t},yD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},vD=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function el(e){"@babel/helpers - typeof";return el=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},el(e)}function wD(e,t){if(el(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(el(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function xD(e){var t=wD(e,"string");return el(t)=="symbol"?t:t+""}function bD(e,t,n){return(t=xD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Pv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function oe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Pv(Object(n),!0).forEach(function(r){bD(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const lf=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},_D=async(e,t,n)=>{e instanceof await gD()&&!(n!=null&&n.noResolveJson)?e.json().then(r=>{const s=e.status||500,o=(r==null?void 0:r.statusCode)||s+"";t(new mD(lf(r),s,o))}).catch(r=>{t(new sp(lf(r),r))}):t(new sp(lf(e),e))},SD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!r?s:(yD(r)?(s.headers=oe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,t!=null&&t.duplex&&(s.duplex=t.duplex),oe(oe({},s),n))};async function kl(e,t,n,r,s,o){return new Promise((i,a)=>{e(n,SD(t,r,s,o)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>i(l)).catch(l=>_D(l,a,r))})}async function tl(e,t,n,r){return kl(e,"GET",t,n,r)}async function Cn(e,t,n,r,s){return kl(e,"POST",t,r,s,n)}async function ip(e,t,n,r,s){return kl(e,"PUT",t,r,s,n)}async function ED(e,t,n,r){return kl(e,"HEAD",t,oe(oe({},n),{},{noResolveJson:!0}),r)}async function Bm(e,t,n,r,s){return kl(e,"DELETE",t,r,s,n)}var kD=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Be(t))return{data:null,error:t};throw t}}};let J_;J_=Symbol.toStringTag;var CD=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[J_]="BlobDownloadBuilder",this.promise=null}asStream(){return new kD(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Be(t))return{data:null,error:t};throw t}}};const TD={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ov={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var jD=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=Um(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var s=this;try{let o;const i=oe(oe({},Ov),r);let a=oe(oe({},s.headers),e==="POST"&&{"x-upsert":String(i.upsert)});const l=i.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",i.cacheControl),l&&o.append("metadata",s.encodeMetadata(l)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",i.cacheControl),l&&!o.has("metadata")&&o.append("metadata",s.encodeMetadata(l))):(o=n,a["cache-control"]=`max-age=${i.cacheControl}`,a["content-type"]=i.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!i.duplex&&(i.duplex="half")),r!=null&&r.headers&&(a=oe(oe({},a),r.headers));const u=s._removeEmptyFolders(t),d=s._getFinalPath(u),h=await(e=="PUT"?ip:Cn)(s.fetch,`${s.url}/object/${d}`,o,oe({headers:a},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(o){if(s.shouldThrowOnError)throw o;if(Be(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var s=this;const o=s._removeEmptyFolders(e),i=s._getFinalPath(o),a=new URL(s.url+`/object/upload/sign/${i}`);a.searchParams.set("token",t);try{let l;const u=oe({upsert:Ov.upsert},r),d=oe(oe({},s.headers),{"x-upsert":String(u.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType),{data:{path:o,fullPath:(await ip(s.fetch,a.toString(),l,{headers:d})).Key},error:null}}catch(l){if(s.shouldThrowOnError)throw l;if(Be(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e);const s=oe({},n.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const o=await Cn(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:s}),i=new URL(n.url+o.url),a=i.searchParams.get("token");if(!a)throw new rd("No token returned by API");return{data:{signedUrl:i.toString(),path:e,token:a},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await Cn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async copy(e,t,n){var r=this;try{return{data:{path:(await Cn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async createSignedUrl(e,t,n){var r=this;try{let s=r._getFinalPath(e),o=await Cn(r.fetch,`${r.url}/object/sign/${s}`,oe({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${i}`)},{data:o,error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async createSignedUrls(e,t,n){var r=this;try{const s=await Cn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>oe(oe({},i),{},{signedUrl:i.signedURL?encodeURI(`${r.url}${i.signedURL}${o}`):null})),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}download(e,t){const n=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),s=r?`?${r}`:"",o=this._getFinalPath(e),i=()=>tl(this.fetch,`${this.url}/${n}/${o}${s}`,{headers:this.headers,noResolveJson:!0});return new CD(i,this.shouldThrowOnError)}async info(e){var t=this;const n=t._getFinalPath(e);try{return{data:op(await tl(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async exists(e){var t=this;const n=t._getFinalPath(e);try{return await ED(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Be(r)&&r instanceof sp){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){const n=this._getFinalPath(e),r=[],s=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";s!==""&&r.push(s);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});i!==""&&r.push(i);let a=r.join("&");return a!==""&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${a}`)}}}async remove(e){var t=this;try{return{data:await Bm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{const s=oe(oe(oe({},TD),t),{},{prefix:e||""});return{data:await Cn(r.fetch,`${r.url}/object/list/${r.bucketId}`,s,{headers:r.headers},n),error:null}}catch(s){if(r.shouldThrowOnError)throw s;if(Be(s))return{data:null,error:s};throw s}}async listV2(e,t){var n=this;try{const r=oe({},e);return{data:await Cn(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};const X_="2.91.1",Z_={"X-Client-Info":`storage-js/${X_}`};var ND=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;const s=new URL(e);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=oe(oe({},Z_),t),this.fetch=Um(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{const n=t.listBucketOptionsToQueryString(e);return{data:await tl(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await tl(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await ip(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Be(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Bm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){const t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},RD=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},Z_),t),this.fetch=Um(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),s=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await tl(t.fetch,s,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Bm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Be(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!vD(e))throw new rd("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new pD({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(s,o){const i=s[o];return typeof i!="function"?i:async(...a)=>{try{return{data:await i.apply(s,a),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const zm={"X-Client-Info":`storage-js/${X_}`,"Content-Type":"application/json"};var eS=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Kt(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var cf=class extends eS{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},PD=class extends eS{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};const Vm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),OD=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Av=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),AD=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!(n!=null&&n.noResolveJson)){const r=e.status||500,s=e;if(typeof s.json=="function")s.json().then(o=>{const i=(o==null?void 0:o.statusCode)||(o==null?void 0:o.code)||r+"";t(new cf(Av(o),r,i))}).catch(()=>{const o=r+"";t(new cf(s.statusText||`HTTP ${r} error`,r,o))});else{const o=r+"";t(new cf(s.statusText||`HTTP ${r} error`,r,o))}}else t(new PD(Av(e),e))},MD=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return r?(OD(r)?(s.headers=oe({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(r)):s.body=r,oe(oe({},s),n)):s};async function DD(e,t,n,r,s,o){return new Promise((i,a)=>{e(n,MD(t,r,s,o)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>i(l)).catch(l=>AD(l,a,r))})}async function qt(e,t,n,r,s){return DD(e,"POST",t,r,s,n)}var ID=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},zm),t),this.fetch=Vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await qt(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await qt(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Kt(r))return{data:null,error:r};throw r}}},$D=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},zm),t),this.fetch=Vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await qt(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await qt(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await qt(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}},LD=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=oe(oe({},zm),t),this.fetch=Vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await qt(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await qt(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Kt(n))return{data:null,error:n};throw n}}},FD=class extends LD{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new WD(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},WD=class extends ID{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new UD(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},UD=class extends $D{constructor(e,t,n,r,s){super(e,t,s),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,oe(oe({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},BD=class extends ND{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new jD(this.url,this.headers,e,this.fetch)}get vectors(){return new FD(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new RD(this.url+"/iceberg",this.headers,this.fetch)}};const tS="2.91.1",Ho=30*1e3,ap=3,uf=ap*Ho,zD="http://localhost:9999",VD="supabase.auth.token",HD={"X-Client-Info":`gotrue-js/${tS}`},lp="X-Supabase-Api-Version",nS={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KD=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qD=10*60*1e3;class nl extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function ee(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class GD extends nl{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function YD(e){return ee(e)&&e.name==="AuthApiError"}class Vs extends nl{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class Nr extends nl{constructor(t,n,r,s){super(t,r,s),this.name=n,this.status=r}}class zt extends Nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QD(e){return ee(e)&&e.name==="AuthSessionMissingError"}class Io extends Nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cc extends Nr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class uc extends Nr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function JD(e){return ee(e)&&e.name==="AuthImplicitGrantRedirectError"}class Mv extends Nr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class XD extends Nr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class cp extends Nr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function df(e){return ee(e)&&e.name==="AuthRetryableFetchError"}class Dv extends Nr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class up extends Nr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const pu="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Iv=` 	
\r=`.split(""),ZD=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Iv.length;t+=1)e[Iv[t].charCodeAt(0)]=-2;for(let t=0;t<pu.length;t+=1)e[pu[t].charCodeAt(0)]=t;return e})();function $v(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(pu[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;n(pu[r]),t.queuedBits-=6}}function rS(e,t,n){const r=ZD[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Lv(e){const t=[],n=i=>{t.push(String.fromCodePoint(i))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=i=>{nI(i,r,n)};for(let i=0;i<e.length;i+=1)rS(e.charCodeAt(i),s,o);return t.join("")}function eI(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function tI(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}eI(r,t)}}function nI(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if(!(e>>7-r&1)){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function gi(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)rS(e.charCodeAt(s),n,r);return new Uint8Array(t)}function rI(e){const t=[];return tI(e,n=>t.push(n)),new Uint8Array(t)}function Qs(e){const t=[],n={queue:0,queuedBits:0},r=s=>{t.push(s)};return e.forEach(s=>$v(s,n,r)),$v(null,n,r),t.join("")}function sI(e){return Math.round(Date.now()/1e3)+e}function oI(){return Symbol("auth-callback")}const pt=()=>typeof window<"u"&&typeof document<"u",Ds={tested:!1,writable:!1},sS=()=>{if(!pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ds.tested)return Ds.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ds.tested=!0,Ds.writable=!0}catch{Ds.tested=!0,Ds.writable=!1}return Ds.writable};function iI(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return n.searchParams.forEach((r,s)=>{t[s]=r}),t}const oS=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aI=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Ko=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Is=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},ht=async(e,t)=>{await e.removeItem(t)};class sd{constructor(){this.promise=new sd.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}sd.promiseConstructor=Promise;function ff(e){const t=e.split(".");if(t.length!==3)throw new up("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!KD.test(t[r]))throw new up("JWT not in base64url format");return{header:JSON.parse(Lv(t[0])),payload:JSON.parse(Lv(t[1])),signature:gi(t[2]),raw:{header:t[0],payload:t[1]}}}async function lI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function cI(e,t){return new Promise((r,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const i=await e(o);if(!t(o,null,i)){r(i);return}}catch(i){if(!t(o,i)){s(i);return}}})()})}function uI(e){return("0"+e.toString(16)).substr(-2)}function dI(){const t=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let o=0;o<56;o++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(t),Array.from(t,uI).join("")}async function fI(e){const n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function hI(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const n=await fI(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $o(e,t,n=!1){const r=dI();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Ko(e,`${t}-code-verifier`,s);const o=await hI(r);return[o,r===o?"plain":"s256"]}const pI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function mI(e){const t=e.headers.get(lp);if(!t||!t.match(pI))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function gI(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function yI(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const vI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Lo(e){if(!vI.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function hf(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function wI(e,t){return new Proxy(e,{get:(n,r,s)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,s)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,s)}})}function Fv(e){return JSON.parse(JSON.stringify(e))}const Us=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),xI=[502,503,504];async function Wv(e){var t;if(!aI(e))throw new cp(Us(e),0);if(xI.includes(e.status))throw new cp(Us(e),e.status);let n;try{n=await e.json()}catch(o){throw new Vs(Us(o),o)}let r;const s=mI(e);if(s&&s.getTime()>=nS["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Dv(Us(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new zt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,i)=>o&&typeof i=="string",!0))throw new Dv(Us(n),e.status,n.weak_password.reasons);throw new GD(Us(n),e.status||500,r)}const bI=(e,t,n,r)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function se(e,t,n,r){var s;const o=Object.assign({},r==null?void 0:r.headers);o[lp]||(o[lp]=nS["2024-01-01"].name),r!=null&&r.jwt&&(o.Authorization=`Bearer ${r.jwt}`);const i=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(i.redirect_to=r.redirectTo);const a=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",l=await _I(e,t,n+a,{headers:o,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function _I(e,t,n,r,s,o){const i=bI(t,r,s,o);let a;try{a=await e(n,Object.assign({},i))}catch(l){throw console.error(l),new cp(Us(l),0)}if(a.ok||await Wv(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await Wv(l)}}function Sn(e){var t;let n=null;kI(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=sI(e.expires_in)));const r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Uv(e){const t=Sn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Kr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function SI(e){return{data:e,error:null}}function EI(e){const{action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o}=e,i=Yi(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:n,hashed_token:r,redirect_to:s,verification_type:o},l=Object.assign({},i);return{data:{properties:a,user:l},error:null}}function Bv(e){return e}function kI(e){return e.access_token&&e.refresh_token&&e.expires_in}const pf=["global","local","others"];class CI{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=oS(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=pf[0]){if(pf.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${pf.join(", ")}`);try{return await se(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ee(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await se(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Kr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:n}=t,r=Yi(t,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await se(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:EI,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(ee(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await se(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Kr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Bv});if(d.error)throw d.error;const h=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ee(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Lo(t);try{return await se(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Kr})}catch(n){if(ee(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){Lo(t);try{return await se(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Kr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){Lo(t);try{return await se(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Kr})}catch(r){if(ee(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Lo(t.userId);try{const{data:n,error:r}=await se(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _deleteFactor(t){Lo(t.userId),Lo(t.id);try{return{data:await se(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,s,o,i,a,l;try{const u={nextPage:null,lastPage:0,total:0},d=await se(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:Bv});if(d.error)throw d.error;const h=await d.json(),p=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,f=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return f.length>0&&(f.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=y}),u.total=parseInt(p)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(ee(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await se(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await se(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ee(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await se(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(ee(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await se(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(ee(n))return{data:null,error:n};throw n}}}function zv(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}const Fo={debug:!!(globalThis&&sS()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class iS extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class TI extends iS{}async function jI(e,t,n){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await n()}finally{Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Fo.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new TI(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Fo.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function NI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function aS(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function RI(e){return parseInt(e,16)}function PI(e){const t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function OI(e){var t;const{chainId:n,domain:r,expirationTime:s,issuedAt:o=new Date,nonce:i,notBefore:a,requestId:l,resources:u,scheme:d,uri:h,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(i&&i.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${i}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}const f=aS(e.address),v=d?`${d}://${r}`:r,y=e.statement?`${e.statement}
`:"",b=`${v} wants you to sign in with your Ethereum account:
${f}

${y}`;let x=`URI: ${h}
Version: ${p}
Chain ID: ${n}${i?`
Nonce: ${i}`:""}
Issued At: ${o.toISOString()}`;if(s&&(x+=`
Expiration Time: ${s.toISOString()}`),a&&(x+=`
Not Before: ${a.toISOString()}`),l&&(x+=`
Request ID: ${l}`),u){let g=`
Resources:`;for(const w of u){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);g+=`
- ${w}`}x+=g}return`${b}
${x}`}class et extends Error{constructor({message:t,code:n,cause:r,name:s}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=s??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}}class mu extends et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}}function AI({error:e,options:t}){var n,r,s;const{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((s=o.authenticatorSelection)===null||s===void 0?void 0:s.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(a=>a.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){const i=window.location.hostname;if(lS(i)){if(o.rp.id!==i)return new et({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function MI({error:e,options:t}){const{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){const r=window.location.hostname;if(lS(r)){if(n.rpId!==r)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}class DI{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const II=new DI;function $I(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);const{challenge:t,user:n,excludeCredentials:r}=e,s=Yi(e,["challenge","user","excludeCredentials"]),o=gi(t).buffer,i=Object.assign(Object.assign({},n),{id:gi(n.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:o,user:i});if(r&&r.length>0){a.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const u=r[l];a.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:gi(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return a}function LI(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);const{challenge:t,allowCredentials:n}=e,r=Yi(e,["challenge","allowCredentials"]),s=gi(t).buffer,o=Object.assign(Object.assign({},r),{challenge:s});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let i=0;i<n.length;i++){const a=n[i];o.allowCredentials[i]=Object.assign(Object.assign({},a),{id:gi(a.id).buffer,type:a.type||"public-key",transports:a.transports})}}return o}function FI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e;return{id:e.id,rawId:e.id,response:{attestationObject:Qs(new Uint8Array(e.response.attestationObject)),clientDataJSON:Qs(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function WI(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();const n=e,r=e.getClientExtensionResults(),s=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:Qs(new Uint8Array(s.authenticatorData)),clientDataJSON:Qs(new Uint8Array(s.clientDataJSON)),signature:Qs(new Uint8Array(s.signature)),userHandle:s.userHandle?Qs(new Uint8Array(s.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function lS(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function Vv(){var e,t;return!!(pt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UI(e){try{const t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mu("Browser returned unexpected credential type",t)}:{data:null,error:new mu("Empty credential response",t)}}catch(t){return{data:null,error:AI({error:t,options:e})}}}async function BI(e){try{const t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new mu("Browser returned unexpected credential type",t)}:{data:null,error:new mu("Empty credential response",t)}}catch(t){return{data:null,error:MI({error:t,options:e})}}}const zI={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},VI={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function gu(...e){const t=s=>s!==null&&typeof s=="object"&&!Array.isArray(s),n=s=>s instanceof ArrayBuffer||ArrayBuffer.isView(s),r={};for(const s of e)if(s)for(const o in s){const i=s[o];if(i!==void 0)if(Array.isArray(i))r[o]=i;else if(n(i))r[o]=i;else if(t(i)){const a=r[o];t(a)?r[o]=gu(a,i):r[o]=gu(i)}else r[o]=i}return r}function HI(e,t){return gu(zI,e,t||{})}function KI(e,t){return gu(VI,e,t||{})}class qI{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:s},o){try{const{data:i,error:a}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!i)return{data:null,error:a};const l=s??II.createNewAbortSignal();if(i.webauthn.type==="create"){const{user:u}=i.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${r}`),u.displayName||(u.displayName=u.name)}switch(i.webauthn.type){case"create":{const u=HI(i.webauthn.credential_options.publicKey,o==null?void 0:o.create),{data:d,error:h}=await UI({publicKey:u,signal:l});return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}case"request":{const u=KI(i.webauthn.credential_options.publicKey,o==null?void 0:o.request),{data:d,error:h}=await BI(Object.assign(Object.assign({},i.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:t,challengeId:i.id,webauthn:{type:i.webauthn.type,credential_response:d}},error:null}:{data:null,error:h}}}}catch(i){return ee(i)?{data:null,error:i}:{data:null,error:new Vs("Unexpected error in challenge",i)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new nl("rpId is required for WebAuthn authentication")};try{if(!Vv())return{data:null,error:new Vs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:s},{request:o});if(!i)return{data:null,error:a};const{webauthn:l}=i;return this._verify({factorId:t,challengeId:i.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(i){return ee(i)?{data:null,error:i}:{data:null,error:new Vs("Unexpected error in authenticate",i)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:s}={}},o){if(!n)return{data:null,error:new nl("rpId is required for WebAuthn registration")};try{if(!Vv())return{data:null,error:new Vs("Browser does not support WebAuthn",null)};const{data:i,error:a}=await this._enroll({friendlyName:t});if(!i)return await this.client.mfa.listFactors().then(d=>{var h;return(h=d.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:a};const{data:l,error:u}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:s},{create:o});return l?this._verify({factorId:i.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(i){return ee(i)?{data:null,error:i}:{data:null,error:new Vs("Unexpected error in register",i)}}}}NI();const GI={url:zD,storageKey:VD,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:HD,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Hv(e,t,n){return await n()}const Wo={};class rl{get jwks(){var t,n;return(n=(t=Wo[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Wo[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Wo[this.storageKey]=Object.assign(Object.assign({},Wo[this.storageKey]),{cachedAt:t})}constructor(t){var n,r,s;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const o=Object.assign(Object.assign({},GI),t);if(this.storageKey=o.storageKey,this.instanceID=(n=rl.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&pt()){const i=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(i),this.logDebugMessages&&console.trace(i)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new CI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=oS(o.fetch),this.lock=o.lock||Hv,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,this.lockAcquireTimeout=o.lockAcquireTimeout,o.lock?this.lock=o.lock:this.persistSession&&pt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=jI:this.lock=Hv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new qI(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:sS()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zv(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=zv(this.memoryStorage)),pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${tS}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let n={},r="none";if(pt()&&(n=iI(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),pt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:o}=await this._getSessionFromURL(n,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),JD(o)){const l=(t=o.details)===null||t===void 0?void 0:t.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return{error:o}}const{session:i,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",a),await this._saveSession(i),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return ee(n)?this._returnResult({error:n}):this._returnResult({error:new Vs("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,r,s;try{const o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:Sn}),{data:i,error:a}=o;if(a||!i)return this._returnResult({data:{user:null,session:null},error:a});const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(t){var n,r,s;try{let o;if("email"in t){const{email:d,password:h,options:p}=t;let f=null,v=null;this.flowType==="pkce"&&([f,v]=await $o(this.storage,this.storageKey)),o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:d,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:f,code_challenge_method:v},xform:Sn})}else if("phone"in t){const{phone:d,password:h,options:p}=t;o=await se(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=p==null?void 0:p.data)!==null&&r!==void 0?r:{},channel:(s=p==null?void 0:p.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:Sn})}else throw new cc("You must provide either an email or phone number and a password");const{data:i,error:a}=o;if(a||!i)return await ht(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:a});const l=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(o){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(t){try{let n;if("email"in t){const{email:o,password:i,options:a}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Uv})}else if("phone"in t){const{phone:o,password:i,options:a}=t;n=await se(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Uv})}else throw new cc("You must provide either an email or phone number and a password");const{data:r,error:s}=n;if(s)return this._returnResult({data:{user:null,session:null},error:s});if(!r||!r.session||!r.user){const o=new Io;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(t){var n,r,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;switch(n){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(t){var n,r,s,o,i,a,l,u,d,h,p;let f,v;if("message"in t)f=t.message,v=t.signature;else{const{chain:y,wallet:b,statement:x,options:g}=t;let w;if(pt())if(typeof b=="object")w=b;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")w=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=b}const _=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href),S=await w.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!S||S.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const E=aS(S[0]);let k=(r=g==null?void 0:g.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!k){const O=await w.request({method:"eth_chainId"});k=RI(O)}const C={domain:_.host,address:E,statement:x,uri:_.href,version:"1",chainId:k,nonce:(s=g==null?void 0:g.signInWithEthereum)===null||s===void 0?void 0:s.nonce,issuedAt:(i=(o=g==null?void 0:g.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&i!==void 0?i:new Date,expirationTime:(a=g==null?void 0:g.signInWithEthereum)===null||a===void 0?void 0:a.expirationTime,notBefore:(l=g==null?void 0:g.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=g==null?void 0:g.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=g==null?void 0:g.signInWithEthereum)===null||d===void 0?void 0:d.resources};f=OI(C),v=await w.request({method:"personal_sign",params:[PI(f),E]})}try{const{data:y,error:b}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:v},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:Sn});if(b)throw b;if(!y||!y.session||!y.user){const x=new Io;return this._returnResult({data:{user:null,session:null},error:x})}return y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("SIGNED_IN",y.session)),this._returnResult({data:Object.assign({},y),error:b})}catch(y){if(ee(y))return this._returnResult({data:{user:null,session:null},error:y});throw y}}async signInWithSolana(t){var n,r,s,o,i,a,l,u,d,h,p,f;let v,y;if("message"in t)v=t.message,y=t.signature;else{const{chain:b,wallet:x,statement:g,options:w}=t;let _;if(pt())if(typeof x=="object")_=x;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))_=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=x}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in _&&_.signIn){const E=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),g?{statement:g}:null));let k;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")k=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)k=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in k&&"signature"in k&&(typeof k.signedMessage=="string"||k.signedMessage instanceof Uint8Array)&&k.signature instanceof Uint8Array)v=typeof k.signedMessage=="string"?k.signedMessage:new TextDecoder().decode(k.signedMessage),y=k.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((i=w==null?void 0:w.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((h=(d=w==null?void 0:w.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...w.signInWithSolana.resources.map(k=>`- ${k}`)]:[]].join(`
`);const E=await _.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");y=E}}try{const{data:b,error:x}=await se(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Qs(y)},!((p=t.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(f=t.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Sn});if(x)throw x;if(!b||!b.session||!b.user){const g=new Io;return this._returnResult({data:{user:null,session:null},error:g})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:x})}catch(b){if(ee(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async _exchangeCodeForSession(t){const n=await Is(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new XD;const{data:o,error:i}=await se(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:Sn});if(await ht(this.storage,`${this.storageKey}-code-verifier`),i)throw i;if(!o||!o.session||!o.user){const a=new Io;return this._returnResult({data:{user:null,session:null,redirectType:null},error:a})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:i})}catch(o){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(t){try{const{options:n,provider:r,token:s,access_token:o,nonce:i}=t,a=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:o,nonce:i,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sn}),{data:l,error:u}=a;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Io;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(t){var n,r,s,o,i;try{if("email"in t){const{email:a,options:l}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await $o(this.storage,this.storageKey));const{error:h}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in t){const{phone:a,options:l}=t,{data:u,error:d}=await se(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(o=l==null?void 0:l.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(i=l==null?void 0:l.channel)!==null&&i!==void 0?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new cc("You must provide either an email or phone number.")}catch(a){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async verifyOtp(t){var n,r;try{let s,o;"options"in t&&(s=(n=t.options)===null||n===void 0?void 0:n.redirectTo,o=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:i,error:a}=await se(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:Sn});if(a)throw a;if(!i)throw new Error("An error occurred on token verification.");const l=i.session,u=i.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithSSO(t){var n,r,s,o,i;try{let a=null,l=null;this.flowType==="pkce"&&([a,l]=await $o(this.storage,this.storageKey));const u=await se(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:l}),headers:this.headers,xform:SI});return!((o=u.data)===null||o===void 0)&&o.url&&pt()&&!(!((i=t.options)===null||i===void 0)&&i.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(a){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(a))return this._returnResult({data:null,error:a});throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;if(r)throw r;if(!n)throw new zt;const{error:s}=await se(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:s})})}catch(t){if(ee(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:r,type:s,options:o}=t,{error:i}=await se(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},redirectTo:o==null?void 0:o.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}else if("phone"in t){const{phone:r,type:s,options:o}=t,{data:i,error:a}=await se(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:a})}throw new cc("You must provide either an email or phone number and a type")}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async n=>n))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<uf:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const i=await Is(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=hf()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const i={value:this.suppressGetSessionWarning};t.user=wI(t.user,i),i.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const n=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(t){try{return t?await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Kr}):await this._useSession(async n=>{var r,s,o;const{data:i,error:a}=n;if(a)throw a;return!(!((r=i.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new zt}:await se(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:Kr})})}catch(n){if(ee(n))return QD(n)&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async r=>{const{data:s,error:o}=r;if(o)throw o;if(!s.session)throw new zt;const i=s.session;let a=null,l=null;this.flowType==="pkce"&&t.email!=null&&([a,l]=await $o(this.storage,this.storageKey));const{data:u,error:d}=await se(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:a,code_challenge_method:l}),jwt:i.access_token,xform:Kr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(r){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new zt;const n=Date.now()/1e3;let r=n,s=!0,o=null;const{payload:i}=ff(t.access_token);if(i.exp&&(r=i.exp,s=r<=n),s){const{data:a,error:l}=await this._callRefreshToken(t.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a)return{data:{user:null,session:null},error:null};o=a}else{const{data:a,error:l}=await this._getUser(t.access_token);if(l)throw l;o={access_token:t.access_token,refresh_token:t.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(n){if(ee(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var r;if(!t){const{data:i,error:a}=n;if(a)throw a;t=(r=i.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new zt;const{data:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):s?this._returnResult({data:{user:s.user,session:s},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(ee(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(t,n){try{if(!pt())throw new uc("No browser detected.");if(t.error||t.error_description||t.error_code)throw new uc(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Mv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uc("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Mv("No code detected.");const{data:g,error:w}=await this._exchangeCodeForSession(t.code);if(w)throw w;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:o,refresh_token:i,expires_in:a,expires_at:l,token_type:u}=t;if(!o||!a||!i||!u)throw new uc("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let p=d+h;l&&(p=parseInt(l));const f=p-d;f*1e3<=Ho&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${h}s`);const v=p-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,p,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,p,d);const{data:y,error:b}=await this._getUser(o);if(b)throw b;const x={provider_token:r,provider_refresh_token:s,access_token:o,expires_in:h,expires_at:p,refresh_token:i,token_type:u,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:x,redirectType:t.type},error:null})}catch(r){if(ee(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Is(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({error:o});const i=(r=s.session)===null||r===void 0?void 0:r.access_token;if(i){const{error:a}=await this.admin.signOut(i,t);if(a&&!(YD(a)&&(a.status===404||a.status===401||a.status===403)))return this._returnResult({error:a})}return t!=="others"&&(await this._removeSession(),await ht(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const n=oI(),r={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async n=>{var r,s;try{const{data:{session:o},error:i}=n;if(i)throw i;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await $o(this.storage,this.storageKey,!0));try{return await se(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(o){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var t;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var n;try{const{data:r,error:s}=await this._useSession(async o=>{var i,a,l,u,d;const{data:h,error:p}=o;if(p)throw p;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(a=t.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=t.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await se(this.fetch,"GET",f,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return pt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(ee(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async n=>{var r;try{const{error:s,data:{session:o}}=n;if(s)throw s;const{options:i,provider:a,token:l,access_token:u,nonce:d}=t,h=await se(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o==null?void 0:o.access_token)!==null&&r!==void 0?r:void 0,body:{provider:a,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},xform:Sn}),{data:p,error:f}=h;return f?this._returnResult({data:{user:null,session:null},error:f}):!p||!p.session||!p.user?this._returnResult({data:{user:null,session:null},error:new Io}):(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("USER_UPDATED",p.session)),this._returnResult({data:p,error:f}))}catch(s){if(await ht(this.storage,`${this.storageKey}-code-verifier`),ee(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}})}async unlinkIdentity(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)throw i;return await se(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await cI(async s=>(s>0&&await lI(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await se(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Sn})),(s,o)=>{const i=200*Math.pow(2,s);return o&&df(o)&&Date.now()+i-r<Ho})}catch(r){if(this._debug(n,"error",r),ee(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",r),pt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Is(this.storage,this.storageKey);if(s&&this.userStorage){let i=await Is(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Ko(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:hf()}else if(s&&!s.user&&!s.user){const i=await Is(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await ht(this.storage,this.storageKey+"-user"),await Ko(this.storage,this.storageKey,s)):s.user=hf()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const o=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<uf;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${uf}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),df(i)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:a}=await this._getUser(s.access_token);!a&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(r,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var n,r;if(!t)throw new zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new sd;const{data:o,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!o.session)throw new zt;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const a={data:o.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(o){if(this._debug(s,"error",o),ee(o)){const i={data:null,error:o};return df(o)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(i),i}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,n,r=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:n});const o=[],i=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(t,n)}catch(l){o.push(l)}});if(await Promise.all(i),o.length>0){for(let a=0;a<o.length;a+=1)console.error(o[a]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await ht(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},t),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Ko(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const o=Fv(s);await Ko(this.storage,this.storageKey,o)}else{const s=Fv(n);await Ko(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await ht(this.storage,this.storageKey),await ht(this.storage,this.storageKey+"-code-verifier"),await ht(this.storage,this.storageKey+"-user"),this.userStorage&&await ht(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&pt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Ho);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const n=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const n=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,n&&clearTimeout(n)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-t)/Ho);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ho}ms, refresh threshold is ${ap} ticks`),s<=ap&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof iS)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[o,i]=await $o(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const o=new URLSearchParams(r.queryParams);s.push(o.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;return o?this._returnResult({data:null,error:o}):await se(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(t){try{return await this._useSession(async n=>{var r,s;const{data:o,error:i}=n;if(i)return this._returnResult({data:null,error:i});const a=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:l,error:u}=await se(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(t.factorType==="totp"&&l.type==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?FI(t.webauthn.credential_response):WI(t.webauthn.credential_response)})}:{code:t.code}),{data:a,error:l}=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:i,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),this._returnResult({data:a,error:l}))})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:o}=n;if(o)return this._returnResult({data:null,error:o});const i=await se(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});if(i.error)return i;const{data:a}=i;if(a.type!=="webauthn")return{data:a,error:null};switch(a.webauthn.type){case"create":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:$I(a.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},a),{webauthn:Object.assign(Object.assign({},a.webauthn),{credential_options:Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:LI(a.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(t){const{data:n,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){var t;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const s={all:[],phone:[],totp:[],webauthn:[]};for(const o of(t=n==null?void 0:n.factors)!==null&&t!==void 0?t:[])s.all.push(o),o.status==="verified"&&s[o.factor_type].push(o);return{data:s,error:null}}async _getAuthenticatorAssuranceLevel(){var t,n;const{data:{session:r},error:s}=await this.getSession();if(s)return this._returnResult({data:null,error:s});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ff(r.access_token);let i=null;o.aal&&(i=o.aal);let a=i;((n=(t=r.user.factors)===null||t===void 0?void 0:t.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(a="aal2");const u=o.amr||[];return{data:{currentLevel:i,nextLevel:a,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?await se(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new zt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new zt});const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"approve"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,n){try{return await this._useSession(async r=>{const{data:{session:s},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!s)return this._returnResult({data:null,error:new zt});const i=await se(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:s.access_token,body:{action:"deny"},xform:a=>({data:a,error:null})});return i.data&&i.data.redirect_url&&pt()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:n},error:r}=t;return r?this._returnResult({data:null,error:r}):n?await se(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new zt})})}catch(t){if(ee(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async n=>{const{data:{session:r},error:s}=n;return s?this._returnResult({data:null,error:s}):r?(await se(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new zt})})}catch(n){if(ee(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(t,n={keys:[]}){let r=n.keys.find(a=>a.kid===t);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(a=>a.kid===t),r&&this.jwks_cached_at+qD>s)return r;const{data:o,error:i}=await se(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,r=o.keys.find(a=>a.kid===t),!r)?null:r}async getClaims(t,n={}){try{let r=t;if(!r){const{data:f,error:v}=await this.getSession();if(v||!f.session)return this._returnResult({data:null,error:v});r=f.session.access_token}const{header:s,payload:o,signature:i,raw:{header:a,payload:l}}=ff(r);n!=null&&n.allowExpired||gI(o.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:f}=await this.getUser(r);if(f)throw f;return{data:{claims:o,header:s,signature:i},error:null}}const d=yI(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,i,rI(`${a}.${l}`)))throw new up("Invalid JWT signature");return{data:{claims:o,header:s,signature:i},error:null}}catch(r){if(ee(r))return this._returnResult({data:null,error:r});throw r}}}rl.nextInstanceID={};const YI=rl,QI="2.91.1";let pa="";typeof Deno<"u"?pa="deno":typeof document<"u"?pa="web":typeof navigator<"u"&&navigator.product==="ReactNative"?pa="react-native":pa="node";const JI={"X-Client-Info":`supabase-js-${pa}/${QI}`},XI={headers:JI},ZI={schema:"public"},e$={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},t$={};function sl(e){"@babel/helpers - typeof";return sl=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},sl(e)}function n$(e,t){if(sl(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(sl(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r$(e){var t=n$(e,"string");return sl(t)=="symbol"?t:t+""}function s$(e,t,n){return(t=r$(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kv(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),n.push.apply(n,r)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Kv(Object(n),!0).forEach(function(r){s$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Kv(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const o$=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),i$=()=>Headers,a$=(e,t,n)=>{const r=o$(n),s=i$();return async(o,i)=>{var a;const l=(a=await t())!==null&&a!==void 0?a:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),r(o,Qe(Qe({},i),{},{headers:u}))}};function l$(e){return e.endsWith("/")?e:e+"/"}function c$(e,t){var n,r;const{db:s,auth:o,realtime:i,global:a}=e,{db:l,auth:u,realtime:d,global:h}=t,p={db:Qe(Qe({},l),s),auth:Qe(Qe({},u),o),realtime:Qe(Qe({},d),i),storage:{},global:Qe(Qe(Qe({},h),a),{},{headers:Qe(Qe({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function u$(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(l$(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var d$=class extends YI{constructor(e){super(e)}},f$=class{constructor(e,t,n){var r,s;this.supabaseUrl=e,this.supabaseKey=t;const o=u$(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const i=`sb-${o.hostname.split(".")[0]}-auth-token`,a={db:ZI,realtime:t$,auth:Qe(Qe({},e$),{},{storageKey:i}),global:XI},l=c$(n??{},a);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(s=l.global.headers)!==null&&s!==void 0?s:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(d,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}});else{var u;this.auth=this._initSupabaseAuthClient((u=l.auth)!==null&&u!==void 0?u:{},this.headers,l.global.fetch)}this.fetch=a$(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Qe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new HM(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new BD(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new WM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();const{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,storageKey:o,flowType:i,lock:a,debug:l,throwOnError:u},d,h){const p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new d$({url:this.authUrl.href,headers:Qe(Qe({},p),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:s,flowType:i,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(f=>f.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new lD(this.realtimeUrl.href,Qe(Qe({},e),{},{params:Qe(Qe({},{apikey:this.supabaseKey}),e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const h$=(e,t,n)=>new f$(e,t,n);function p$(){if(typeof window<"u")return!1;const e=globalThis.process;if(!e)return!1;const t=e.version;if(t==null)return!1;const n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}p$()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const m$="https://qrgarecutiwjrgshslli.supabase.co",g$="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InFyZ2FyZWN1dGl3anJnc2hzbGxpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk1NjAyNjEsImV4cCI6MjA4NTEzNjI2MX0.-BI_OFJPCOGACFiJU8Hialn54tI0UFRGR9dlecPZZuo",ar=h$(m$,g$),hs=!!ar;function Rs(){if(!ar)throw new Error("Supabase  VITE_SUPABASE_URL  VITE_SUPABASE_ANON_KEY")}async function y$(){Rs();const{data:e,error:t}=await ar.from("members").select("*").order("id");if(t)throw t;return e??[]}async function dp(e){Rs();const t=new Date().toISOString(),n={id:e.id||kr("M"),name:e.name,is_active:e.is_active??!0,exclude_roster:e.exclude_roster??!1,role:e.role??"member",max_shifts_per_day:e.max_shifts_per_day??1,note:e.note??null,created_at:e.created_at??t,updated_at:t},{data:r,error:s}=await ar.from("members").upsert(n,{onConflict:"id"}).select().single();if(s)throw s;return r}async function v$(){Rs();const{data:e,error:t}=await ar.from("availability_rules").select("*").order("rule_id");if(t)throw t;return e??[]}async function w$(e){Rs();const t=new Date().toISOString(),n={rule_id:e.rule_id||kr("R"),member_id:e.member_id,rule_type:e.rule_type,action:e.action??"blocked",weekday:e.weekday??null,date:e.date??null,start_date:e.start_date??null,end_date:e.end_date??null,slot_code:e.slot_code??"any",reason:e.reason??"",priority:e.priority??100,is_active:e.is_active??!0,created_at:e.created_at??t,updated_at:t},{data:r,error:s}=await ar.from("availability_rules").upsert(n,{onConflict:"rule_id"}).select().single();if(s)throw s;return r}async function x$(){Rs();const{data:e,error:t}=await ar.from("roster_slots").select("*").order("date");if(t)throw t;return e??[]}async function b$(e,t,n,r){Rs();const s=new Date().toISOString(),o={date:e,slot_code:t,assignee_id:n,is_substitute:(r==null?void 0:r.is_substitute)??!1,original_assignee_id:(r==null?void 0:r.original_assignee_id)??null,status:(r==null?void 0:r.status)??"draft",updated_at:s},{data:i,error:a}=await ar.from("roster_slots").upsert(o,{onConflict:"date,slot_code"}).select().single();if(a)throw a;return i}async function _$(e){Rs();const{error:t}=await ar.from("roster_slots").delete().like("date",`${e}%`).eq("status","draft");if(t)throw t}async function S$(e){Rs();const t=new Date().toISOString(),n={key_id:e.key_id||kr("K"),key_name:e.key_name,address:e.address??null,is_active:e.is_active??!0,note:e.note??null,created_at:e.created_at??t,updated_at:t},{data:r,error:s}=await ar.from("keys").upsert(n,{onConflict:"key_id"}).select().single();if(s)throw s;return r}function E$(){if(typeof localStorage>"u")return;const e=Db.storage_prefix;for(const t of Object.values(ie)){const n=t.slice(e.length),r=localStorage.getItem(n),s=localStorage.getItem(t);r!=null&&s==null&&(localStorage.setItem(t,r),localStorage.removeItem(n))}}E$();function Ot(e,t){return kP(localStorage.getItem(e),t)}function Ee(e,t){localStorage.setItem(e,JSON.stringify(t))}function bt(){return Ot(ie.MEMBERS,[])}function fp(e){const t=bt(),n=new Date().toISOString();if(e.id){const s=t.findIndex(o=>o.id===e.id);if(s>=0)return t[s]={...t[s],...e,updated_at:n},Ee(ie.MEMBERS,t),hs&&dp(t[s]).catch(o=>{console.error(" Supabase :",o)}),t[s]}const r={id:e.id||kr("M"),name:e.name,is_active:e.is_active??!0,exclude_roster:e.exclude_roster??!1,role:e.role??"member",max_shifts_per_day:e.max_shifts_per_day??1,note:e.note,created_at:n,updated_at:n};return t.push(r),Ee(ie.MEMBERS,t),hs&&dp(r).catch(s=>{console.error(" Supabase :",s)}),r}function k$(e,t){const n=bt(),r=n.findIndex(s=>s.id===e);r>=0&&(n[r].is_active=t,n[r].updated_at=new Date().toISOString(),Ee(ie.MEMBERS,n))}function C$(e,t){const n=bt(),r=n.findIndex(s=>s.id===e);r>=0&&(n[r].exclude_roster=t,n[r].updated_at=new Date().toISOString(),Ee(ie.MEMBERS,n))}function T$(e){const t=bt().filter(n=>n.id!==e);Ee(ie.MEMBERS,t)}function gn(){return Ot(ie.RULES,[])}function ol(e){const t=gn(),n=new Date().toISOString();if(e.rule_id){const s=t.findIndex(o=>o.rule_id===e.rule_id);if(s>=0)return t[s]={...t[s],...e,updated_at:n},Ee(ie.RULES,t),t[s]}const r={rule_id:e.rule_id||kr("R"),member_id:e.member_id,rule_type:e.rule_type,action:e.action??"blocked",weekday:e.weekday,date:e.date,start_date:e.start_date,end_date:e.end_date,slot_code:e.slot_code??"any",reason:e.reason??"",priority:e.priority??100,is_active:e.is_active??!0,created_at:n,updated_at:n};return t.push(r),Ee(ie.RULES,t),hs&&w$(e).catch(s=>{console.error(" Supabase :",s)}),r}function qv(e){const t=gn().filter(n=>n.rule_id!==e);Ee(ie.RULES,t)}function j$(e){if(e.length===0)return;const t=new Set(e),n=gn().filter(r=>!t.has(r.rule_id));Ee(ie.RULES,n)}function hp(e,t){const n=gn(),r=n.findIndex(s=>s.rule_id===e);r>=0&&(n[r].is_active=t,n[r].updated_at=new Date().toISOString(),Ee(ie.RULES,n))}function Gv(e,t,n){return gn().find(r=>r.member_id===e&&r.rule_type==="weekly"&&r.weekday===t&&r.slot_code===n)}function Rr(e){return Ot(ie.ROSTER_SLOTS,[]).filter(n=>n.date.startsWith(e))}function No(){return Ot(ie.ROSTER_SLOTS,[])}function il(e,t,n,r){const s=No(),o=new Date().toISOString(),i=s.findIndex(l=>l.date===e&&l.slot_code===t),a={date:e,slot_code:t,assignee_id:n,is_substitute:(r==null?void 0:r.is_substitute)??!1,original_assignee_id:(r==null?void 0:r.original_assignee_id)??null,status:(r==null?void 0:r.status)??"draft",updated_at:o};return i>=0?s[i]={...s[i],...a}:s.push(a),Ee(ie.ROSTER_SLOTS,s),hs&&b$(e,t,n,r).catch(l=>{console.error(" Supabase :",l)}),a}function Hm(e){const n=No().filter(r=>!(r.date.startsWith(e)&&r.status==="draft"));Ee(ie.ROSTER_SLOTS,n),hs&&_$(e).catch(r=>{console.error(" Supabase :",r)})}function pp(e){const t=Rr(e);return t.length===0?"draft":t.some(n=>n.status==="locked")?"locked":t.every(n=>n.status==="published")?"published":"draft"}function N$(e){const t=No();t.forEach(n=>{n.date.startsWith(e)&&(n.status="published",n.updated_at=new Date().toISOString())}),Ee(ie.ROSTER_SLOTS,t),uS(e,"Published"),A$(e)}function R$(e){const t=No();t.forEach(n=>{n.date.startsWith(e)&&(n.status="locked",n.updated_at=new Date().toISOString())}),Ee(ie.ROSTER_SLOTS,t)}function P$(e){const t=No();t.forEach(n=>{n.date.startsWith(e)&&n.status==="locked"&&(n.status="published",n.updated_at=new Date().toISOString())}),Ee(ie.ROSTER_SLOTS,t)}function Cl(){return Ot(ie.DUTY_BALANCE,[])}function O$(e){const t=Cl(),n=t.findIndex(r=>r.month===e.month&&r.member_id===e.member_id);n>=0?t[n]=e:t.push(e),Ee(ie.DUTY_BALANCE,t)}function A$(e){const n=Rr(e).filter(u=>en(u.date).includes(u.slot_code)),r=bt().filter(u=>u.is_active&&!u.exclude_roster),s=Cl(),o=new Date().toISOString(),i={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};n.forEach(u=>{i[u.slot_code]++});const a=r.length,l={WD_AM:a>0?i.WD_AM/a:0,WD_PM:a>0?i.WD_PM/a:0,WE_AM:a>0?i.WE_AM/a:0,WE_MD:a>0?i.WE_MD/a:0,WE_PM:a>0?i.WE_PM/a:0};for(const u of r){const d={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};n.forEach(b=>{b.assignee_id===u.id&&d[b.slot_code]++});const h=s.filter(b=>b.member_id===u.id&&b.month<e).sort((b,x)=>x.month.localeCompare(b.month))[0],p=h?{WD_AM:h.carry_WD_AM,WD_PM:h.carry_WD_PM,WE_AM:h.carry_WE_AM,WE_MD:h.carry_WE_MD,WE_PM:h.carry_WE_PM}:{WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0},f=["WD_AM","WD_PM","WE_AM","WE_MD","WE_PM"],v={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};for(const b of f)pS(u.id,e,b)===0?v[b]=0:v[b]=p[b]+(l[b]-d[b]);const y={month:e,member_id:u.id,assigned_WD_AM:d.WD_AM,assigned_WD_PM:d.WD_PM,assigned_WE_AM:d.WE_AM,assigned_WE_MD:d.WE_MD,assigned_WE_PM:d.WE_PM,carry_WD_AM:v.WD_AM,carry_WD_PM:v.WD_PM,carry_WE_AM:v.WE_AM,carry_WE_MD:v.WE_MD,carry_WE_PM:v.WE_PM,assigned_total:Object.values(d).reduce((b,x)=>b+x,0),carry_total:Object.values(v).reduce((b,x)=>b+x,0),updated_at:o};O$(y)}}function cS(){return Ot(ie.FAIRNESS_SETTINGS,uP)}function od(){return Ot(ie.SAME_DAY_PAIRS,pP)}function Yv(e){Ee(ie.SAME_DAY_PAIRS,e)}function M$(){const e=gn();let t=0;for(const{member_id:n,weekday:r}of mP)e.some(o=>o.member_id===n&&o.rule_type==="weekly"&&o.weekday===r)||(ol({member_id:n,rule_type:"weekly",action:"blocked",weekday:r,slot_code:"any",reason:`${lo[r]}`}),t++);return t}function D$(){return Ot(ie.APP_VERSIONS,[])}function uS(e,t){const n=D$(),r=Rr(e),s={version_id:kr("V"),created_at:new Date().toISOString(),month:e,roster_snapshot:r,note:t};n.push(s);const o=n.filter(i=>i.month===e);if(o.length>10){const i=o.sort((l,u)=>new Date(l.created_at).getTime()-new Date(u.created_at).getTime())[0],a=n.filter(l=>l.version_id!==i.version_id);Ee(ie.APP_VERSIONS,a)}else Ee(ie.APP_VERSIONS,n);return s}function Qi(){return Ot(ie.KEYS,[])}function Km(e){const t=Qi(),n=new Date().toISOString();if(e.key_id){const s=t.findIndex(o=>o.key_id===e.key_id);if(s>=0)return t[s]={...t[s],...e,updated_at:n},Ee(ie.KEYS,t),t[s]}const r={key_id:e.key_id||kr("K"),key_name:e.key_name,address:e.address,is_active:e.is_active??!0,note:e.note,created_at:n,updated_at:n};return t.push(r),Ee(ie.KEYS,t),r}function I$(e,t){const n=Qi(),r=n.findIndex(s=>s.key_id===e);r>=0&&(n[r].is_active=t,n[r].updated_at=new Date().toISOString(),Ee(ie.KEYS,n))}function $$(e){const t=Qi().filter(n=>n.key_id!==e);Ee(ie.KEYS,t)}function id(){return Ot(ie.LENDINGS,[])}function dS(){return Ot(ie.LENDING_ITEMS,[])}function L$(e,t){const n=id(),r=dS(),s=new Date().toISOString(),o={lending_id:kr("L"),created_at:s,status:"out",...e},i=t.map(a=>({id:kr("LI"),lending_id:o.lending_id,key_id:a.key_id,key_name:a.key_name,qty:a.qty??1}));n.push(o),r.push(...i),Ee(ie.LENDINGS,n),Ee(ie.LENDING_ITEMS,r);for(const a of i)V$(a.key_name);return{lending:o,items:i}}function F$(e){const t=id(),n=t.findIndex(r=>r.lending_id===e);n>=0&&(t[n].status="returned",t[n].returned_at=new Date().toISOString(),Ee(ie.LENDINGS,t))}function W$(e,t){const n=id(),r=n.findIndex(s=>s.lending_id===e);r>=0&&(n[r].duty_confirmed_by=t,n[r].duty_confirmed_at=new Date().toISOString(),Ee(ie.LENDINGS,n))}function qm(e){let t=id();const n=dS();if(e!=null&&e.date&&(t=t.filter(r=>r.created_at.startsWith(e.date))),e!=null&&e.status&&e.status!=="all"&&(t=t.filter(r=>r.status===e.status)),e!=null&&e.borrower_type&&e.borrower_type!=="all"&&(t=t.filter(r=>r.borrower_type===e.borrower_type)),e!=null&&e.search){const r=e.search.toLowerCase();t=t.filter(s=>{var o;return s.borrower_name.toLowerCase().includes(r)||((o=s.partner_company)==null?void 0:o.toLowerCase().includes(r))||n.some(i=>i.lending_id===s.lending_id&&i.key_name.toLowerCase().includes(r))})}return t.sort((r,s)=>new Date(s.created_at).getTime()-new Date(r.created_at).getTime()).map(r=>({lending:r,items:n.filter(s=>s.lending_id===r.lending_id)}))}function U$(e){const n=Ot(ie.TEMP_DUTY,{})[e];return n||{}}function B$(e,t){const n=Ot(ie.TEMP_DUTY,{});n[e]||(n[e]={});for(const[r,s]of Object.entries(t))s?n[e][r]=s:delete n[e][r];Object.keys(n[e]).length===0&&delete n[e],Ee(ie.TEMP_DUTY,n)}function z$(e){const t=Ot(ie.TEMP_DUTY,{});delete t[e],Ee(ie.TEMP_DUTY,t)}function fS(){return Ot(ie.KEY_ITEM_HISTORY,[])}function V$(e){if(!(e!=null&&e.trim()))return;let t=fS().filter(n=>n.toLowerCase()!==e.trim().toLowerCase());t.unshift(e.trim()),t.length>15&&(t=t.slice(0,15)),Ee(ie.KEY_ITEM_HISTORY,t)}function _o(e,t,n){const r=gn().filter(u=>u.member_id===e&&u.is_active),o=new Date(t).getDay();let i,a=-1,l=-1;for(const u of r){if(!(u.slot_code==="any"||u.slot_code===n))continue;let h=!1;switch(u.rule_type){case"weekly":h=u.weekday===o;break;case"date":h=u.date===t;break;case"range":u.start_date&&u.end_date&&(h=t>=u.start_date&&t<=u.end_date);break}h&&(u.action==="blocked"&&u.priority>l?(l=u.priority,i=u.reason||""):u.action==="allowed"&&u.priority>a&&(a=u.priority))}return l>a?{available:!1,reason:i}:{available:!0}}function hS(e,t){const n=Vu(t);let r=0;for(const s of n)for(const o of en(s))_o(e,s,o).available&&r++;return r}function pS(e,t,n){const r=Vu(t);let s=0;for(const o of r)en(o).includes(n)&&_o(e,o,n).available&&s++;return s}const H$=[{d:1,am:"07",md:"25",pm:"19"},{d:2,am:"03",pm:"05"},{d:3,am:"13",pm:"12"},{d:4,am:"10",pm:"09"},{d:5,am:"01",pm:"06"},{d:6,am:"19",pm:"25"},{d:7,am:"20",md:"09",pm:"10"},{d:8,am:"11",md:"13",pm:"12"},{d:9,am:"17",pm:"16"},{d:10,am:"15",pm:"21"},{d:11,am:"11",pm:"26"},{d:12,am:"18",pm:"01"},{d:13,am:"16",pm:"20"},{d:14,am:"05",md:"15",pm:"03"},{d:15,am:"26",md:"21",pm:"17"},{d:16,am:"07",pm:"03"},{d:17,am:"09",pm:"10"},{d:18,am:"25",pm:"19"},{d:19,am:"06",pm:"07"},{d:20,am:"05",pm:"15"},{d:21,am:"16",md:"06",pm:"18"},{d:22,am:"17",md:"12",pm:"13"},{d:23,am:"20",pm:"11"},{d:24,am:"12",pm:"13"},{d:25,am:"26",pm:"17"},{d:26,am:"01",pm:"18"},{d:27,am:"21",pm:"25"},{d:28,am:"06",md:"10",pm:"09"}];function K$(){if(Rr("2026-02").length>0)return;const e="2026-02";for(const t of H$){const n=`${e}-${String(t.d).padStart(2,"0")}`,r=Ki(n),s=(o,i)=>{const a=o==="am"?t.am:o==="md"?t.md:t.pm;a&&il(n,i,a,{status:"draft"})};r?(s("am","WE_AM"),s("md","WE_MD"),s("pm","WE_PM")):(s("am","WD_AM"),s("pm","WD_PM"))}}async function q$(){if(hs)try{console.log(" Supabase ...");const n=await y$();n.length>0&&(Ee(ie.MEMBERS,n),console.log(` ${n.length} `));const r=await v$();r.length>0&&(Ee(ie.RULES,r),console.log(` ${r.length} `));const s=await x$();s.length>0&&(Ee(ie.ROSTER_SLOTS,s),console.log(` ${s.length} `)),console.log("Supabase ")}catch(n){console.error(" Supabase  localStorage:",n)}if(bt().length===0)for(const n of hP){const r=fp({id:n.id,name:n.name,exclude_roster:n.exclude_roster??!1,role:"member"});if(hs)try{await dp(r)}catch(s){console.error(` ${r.name}  Supabase :`,s)}}if(K$(),Qi().length>0)return;const t=[{key_name:"A101",address:"100"},{key_name:"A102",address:"102"},{key_name:"B201",address:"200"},{key_name:"B202",address:"202"},{key_name:"C301",address:"300"}];for(const n of t){const r=Km(n);if(hs)try{await S$(r)}catch(s){console.error(` ${r.key_name}  Supabase :`,s)}}}function Gm(){return bt().filter(e=>e.is_active&&!e.exclude_roster)}function G$(e,t,n,r){return n.filter(o=>o.date===t&&o.assignee_id===e).length>=r}function Y$(e,t,n,r){const s=_P(t);return[...n,...r].filter(i=>i.date===s&&i.assignee_id===e).some(i=>SP(i.slot_code))}function Qv(e){for(const[t,n]of od()){if(t===e)return n;if(n===e)return t}return null}function mf(e,t,n){return n.some(r=>r.date===e&&r.slot_code===t)}async function Q$(e,t,n){const r=od();for(const[s,o]of r)if(n.some(i=>i.date===e&&i.assignee_id===s)&&!n.some(i=>i.date===e&&i.assignee_id===o)&&(await _o(o,e,t)).available||n.some(i=>i.date===e&&i.assignee_id===o)&&!n.some(i=>i.date===e&&i.assignee_id===s)&&(await _o(s,e,t)).available)return!0;return!1}const J$=220,X$=.25,Z$=.03,eL=400,tL=800,gf=1e3,nL=200,rL=80,sL=350,oL=200,iL=300,yf=80,dc=3,Jv=150,Xv=200;function vf(e,t){if(e.length===0)return null;const n=Math.min(...e.map(s=>s.score)),r=e.filter(s=>s.score<=n+t);return r[Math.floor(Math.random()*r.length)]??null}function aL(e){for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}}function $s(e){return e==="WD_AM"||e==="WE_AM"?1:e==="WE_MD"?2:e==="WD_PM"||e==="WE_PM"?3:2}async function wf(e,t,n,r,s){var S;const o=cS(),i=Gm(),a=await gn(),l=un(e),u=$b(l),d=i.length,h=Cl(),p=d>0?Math.floor((u.WD_AM+u.WD_PM)/d):0,f=d>0?(u.WD_AM+u.WD_PM+u.WE_AM+u.WE_MD+u.WE_PM)/d:0,v=t==="WE_AM"||t==="WE_MD"||t==="WE_PM",y=t==="WD_AM",b=t==="WD_PM",x=v&&i.some(E=>n.filter(C=>C.assignee_id===E.id&&(C.slot_code==="WE_AM"||C.slot_code==="WE_MD"||C.slot_code==="WE_PM")).length===0),g=y&&i.some(E=>n.filter(C=>C.assignee_id===E.id&&C.slot_code==="WD_AM").length===0),w=b&&i.some(E=>n.filter(C=>C.assignee_id===E.id&&C.slot_code==="WD_PM").length===0),_=[];for(const E of i){const k=[];let C=!0;const O=await _o(E.id,e,t);O.available||(C=!1,k.push(O.reason||""));const N=o.allow_two_shifts_per_day?2:E.max_shifts_per_day||o.max_shifts_per_day;G$(E.id,e,n,N)&&(C=!1,k.push("")),o.no_close_to_open&&EP(t)&&Y$(E.id,e,n,r)&&(o.allow_soften_close_to_open||(C=!1,k.push("")));const D=Qv(E.id),I=D&&i.some(q=>q.id===D)?D:null;if(I&&!n.some(be=>be.date===e&&be.assignee_id===I)){const Ge=en(e).filter(st=>st!==t).filter(st=>!n.some(ot=>ot.date===e&&ot.slot_code===st));let Xe=!1;for(const st of Ge)if((await _o(I,e,st)).available){Xe=!0;break}Xe||(C=!1,k.push(""))}if(!C)continue;const M=a.filter(q=>q.member_id===E.id&&q.is_active).length;if(s!=null&&s.round1&&(M<1||n.filter(q=>q.assignee_id===E.id).length>=(((S=s.cap1Map)==null?void 0:S.get(E.id))??0)))continue;if(s!=null&&s.round2){const q=Qv(E.id);if(!q||!n.some(be=>be.date===e&&be.assignee_id===q))continue}let P=0;const U=n.filter(q=>q.assignee_id===E.id&&q.slot_code===t).length,$=u[t]/d;P+=U/$*o.slot_weights[t];const L=h.filter(q=>q.member_id===E.id&&q.month<l).sort((q,be)=>be.month.localeCompare(q.month))[0];let R=0,A=0;if(L)switch(A=L.carry_WD_AM+L.carry_WD_PM+L.carry_WE_AM+L.carry_WE_MD+L.carry_WE_PM,t){case"WD_AM":R=L.carry_WD_AM;break;case"WD_PM":R=L.carry_WD_PM;break;case"WE_AM":R=L.carry_WE_AM;break;case"WE_MD":R=L.carry_WE_MD;break;case"WE_PM":R=L.carry_WE_PM;break}const B=1+X$*Math.abs(A);P-=R*J$*o.carry_strength*B;const Q=n.filter(q=>q.assignee_id===E.id&&(q.slot_code==="WE_AM"||q.slot_code==="WE_MD"||q.slot_code==="WE_PM")).length,K=n.filter(q=>q.assignee_id===E.id&&q.slot_code==="WD_AM").length,Z=n.filter(q=>q.assignee_id===E.id&&q.slot_code==="WD_PM").length;x&&Q>=1&&(P+=gf),g&&K>=1&&(P+=gf),w&&Z>=1&&(P+=gf);const X=K+Z;(y||b)&&(P+=X*nL);const ye=Q+K+Z;if(P+=ye*rL,f>0&&ye>f&&(P+=(ye-f)*sL),f>0&&ye<f&&(P-=(f-ye)*oL),P-=M*Z$,(y||b)&&p>0&&M>=1&&X<p&&(P-=(p-X)*eL),(y||b)&&p>=2){const q=K+(y?1:0),be=Z+(b?1:0);q+be>=p&&(q===0||be===0)&&(P+=tL)}I&&n.some(q=>q.date===e&&q.assignee_id===I)&&(P-=iL);const ke=[...n,...r].filter(q=>q.assignee_id===E.id),H=[...new Set(ke.filter(q=>q.date<e).map(q=>q.date))],pe=[...new Set(ke.filter(q=>q.date>e).map(q=>q.date))],me=H.length>0?H.sort().at(-1):null,de=pe.length>0?pe.sort()[0]:null,ae=me?Rh(_e(e),_e(me)):999,ue=de?Rh(_e(de),_e(e)):999;ae<dc&&(P+=(dc-ae)*Jv),ue<dc&&(P+=(dc-ue)*Jv);const Pe=$s(t);if(me){const q=ke.filter(be=>be.date===me);if(q.length>0){const be=q.sort((st,ot)=>{const Un=$s(st.slot_code);return $s(ot.slot_code)-Un})[0],Ge=$s(be.slot_code),Xe=Math.abs(Pe-Ge);Xe>1&&(P+=(Xe-1)*Xv)}}if(de){const q=ke.filter(be=>be.date===de);if(q.length>0){const be=q.sort((st,ot)=>{const Un=$s(st.slot_code),sn=$s(ot.slot_code);return Un-sn})[0],Ge=$s(be.slot_code),Xe=Math.abs(Ge-Pe);Xe>1&&(P+=(Xe-1)*Xv)}}_.push({member:E,score:P,reasons:k})}return _.sort((E,k)=>E.score-k.score)}async function mS(e){const t=cS(),n=No().filter(d=>!d.date.startsWith(e)),s=Rr(e).filter(d=>d.assignee_id!=null&&en(d.date).includes(d.slot_code)),o=new Set(s.map(d=>`${d.date}	${d.slot_code}`)),i=Vu(e),a=[];for(const d of dP)for(const h of i)en(h).includes(d)&&a.push({date:h,slotCode:d});const l=a.filter(d=>!o.has(`${d.date}	${d.slotCode}`));let u=null;for(let d=0;d<t.max_retries;d++){const h=[...l];aL(h);const p=[...s],f=Gm(),v=$b(e),y=f.length,b=y>0?Math.floor((v.WD_AM+v.WD_PM)/y):0,x=Cl(),g=await gn(),w=new Map;for(const C of f){if(g.filter($=>$.member_id===C.id&&$.is_active).length<1){w.set(C.id,0);continue}const N=await hS(C.id,e),D=x.filter($=>$.member_id===C.id&&$.month<e).sort(($,L)=>L.month.localeCompare($.month))[0],I=D?D.carry_WD_AM+D.carry_WD_PM+D.carry_WE_AM+D.carry_WE_MD+D.carry_WE_PM:0,M=I>0,P=I<0,U=Math.max(0,Math.min(N,b+(M?1:0)-(P?1:0)));w.set(C.id,U)}const _=(C,O,N)=>{p.push({date:C,slot_code:O,assignee_id:N,is_substitute:!1,original_assignee_id:null,status:"draft",updated_at:new Date().toISOString()})};for(const{date:C,slotCode:O}of h){if(mf(C,O,p))continue;const N=await wf(C,O,p,n,{round1:!0,cap1Map:w}),D=vf(N,yf);D&&_(C,O,D.member.id)}for(const{date:C,slotCode:O}of h){if(mf(C,O,p)||!await Q$(C,O,p))continue;const N=await wf(C,O,p,n,{round2:!0}),D=vf(N,yf);D&&_(C,O,D.member.id)}for(const{date:C,slotCode:O}of h){if(mf(C,O,p))continue;const N=await wf(C,O,p,n,{}),D=vf(N,yf);_(C,O,D?D.member.id:null)}const S=p.filter(C=>C.assignee_id===null).length,E=await gS(e,p),k={success:S===0,slots:p,missingCount:S,report:E};if((!u||S<u.missingCount)&&(u=k),S===0)break}if(!u)throw new Error("Failed to generate schedule");return u.slots.forEach(d=>{il(d.date,d.slot_code,d.assignee_id,{is_substitute:d.is_substitute,original_assignee_id:d.original_assignee_id??null,status:d.status||"draft"})}),uS(e,"Auto-generated"),u}async function gS(e,t){const n=Gm(),r=n.length,s=Cl(),o={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};t.forEach(p=>{o[p.slot_code]++});const i=t.filter(p=>p.assignee_id===null).map(p=>({date:p.date,slot_code:p.slot_code})),a=n.map(p=>{const f={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};t.forEach(x=>{x.assignee_id===p.id&&f[x.slot_code]++});const v={WD_AM:r>0?o.WD_AM/r:0,WD_PM:r>0?o.WD_PM/r:0,WE_AM:r>0?o.WE_AM/r:0,WE_MD:r>0?o.WE_MD/r:0,WE_PM:r>0?o.WE_PM/r:0},y=s.filter(x=>x.member_id===p.id&&x.month<e).sort((x,g)=>g.month.localeCompare(x.month))[0],b=y?{WD_AM:y.carry_WD_AM,WD_PM:y.carry_WD_PM,WE_AM:y.carry_WE_AM,WE_MD:y.carry_WE_MD,WE_PM:y.carry_WE_PM}:{WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};return{member:p,assigned:f,target:v,carry:b}}),u=a.map(p=>({member:p.member,count:p.assigned.WE_PM})).sort((p,f)=>f.count-p.count),d=["WD_AM","WD_PM","WE_AM","WE_MD","WE_PM"],h=[];for(const p of a){const f={WD_AM:0,WD_PM:0,WE_AM:0,WE_MD:0,WE_PM:0};for(const v of d)await pS(p.member.id,e,v)===0?f[v]=0:f[v]=p.carry[v]+(p.target[v]-p.assigned[v]);h.push({member:p.member,carry:f,total:Object.values(f).reduce((v,y)=>v+y,0)})}return{missing_slots:i,member_stats:a,slot_counts:o,eligible_count:r,we_pm_balance:{most:u.length>0?u[0]:null,least:u.length>0?u[u.length-1]:null},next_month_carry:h}}async function lL(e){return Hm(e),mS(e)}async function yS(e){const n=Rr(e).filter(r=>en(r.date).includes(r.slot_code));return gS(e,n)}const xf=768;function cL(){const[e,t]=m.useState(void 0);return m.useEffect(()=>{const n=window.matchMedia(`(max-width: ${xf-1}px)`),r=()=>{t(window.innerWidth<xf)};return n.addEventListener("change",r),t(window.innerWidth<xf),()=>n.removeEventListener("change",r)},[]),!!e}function ad({slotCode:e,showLabel:t=!1,className:n}){const r=rt[e],s=c.jsxs("span",{className:F("inline-flex items-center gap-1 px-1.5 py-0.5 text-xs font-medium rounded",r.color,n),children:[c.jsx("span",{children:r.short}),t&&c.jsx("span",{className:"text-[10px] opacity-80",children:r.label})]});return c.jsxs(QA,{children:[c.jsx(JA,{asChild:!0,children:s}),c.jsxs(__,{children:[c.jsx("p",{children:r.time}),c.jsx("p",{className:"text-muted-foreground text-xs",children:r.label})]})]})}const Ym=m.forwardRef(({className:e,...t},n)=>c.jsx("div",{className:"relative w-full overflow-auto",children:c.jsx("table",{ref:n,className:F("w-full caption-bottom text-sm",e),...t})}));Ym.displayName="Table";const Qm=m.forwardRef(({className:e,...t},n)=>c.jsx("thead",{ref:n,className:F("[&_tr]:border-b",e),...t}));Qm.displayName="TableHeader";const Jm=m.forwardRef(({className:e,...t},n)=>c.jsx("tbody",{ref:n,className:F("[&_tr:last-child]:border-0",e),...t}));Jm.displayName="TableBody";const uL=m.forwardRef(({className:e,...t},n)=>c.jsx("tfoot",{ref:n,className:F("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t}));uL.displayName="TableFooter";const al=m.forwardRef(({className:e,...t},n)=>c.jsx("tr",{ref:n,className:F("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",e),...t}));al.displayName="TableRow";const co=m.forwardRef(({className:e,...t},n)=>c.jsx("th",{ref:n,className:F("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));co.displayName="TableHead";const uo=m.forwardRef(({className:e,...t},n)=>c.jsx("td",{ref:n,className:F("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));uo.displayName="TableCell";const dL=m.forwardRef(({className:e,...t},n)=>c.jsx("caption",{ref:n,className:F("mt-4 text-sm text-muted-foreground",e),...t}));dL.displayName="TableCaption";function fL({report:e,month:t,onClose:n}){const r=["WD_AM","WD_PM","WE_AM","WE_MD","WE_PM"];return c.jsxs(Ve,{className:"mb-4 animate-fade-in",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h3",{className:"font-semibold",children:""}),c.jsx(G,{variant:"ghost",size:"icon",onClick:n,children:c.jsx(Wu,{className:"w-4 h-4"})})]}),e.missing_slots.length>0&&c.jsxs("div",{className:"mb-4 p-3 bg-destructive/10 rounded-lg border border-destructive/20",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2 text-destructive",children:[c.jsx(Rj,{className:"w-4 h-4"}),c.jsxs("span",{className:"font-medium",children:[" (",e.missing_slots.length,")"]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.missing_slots.slice(0,10).map(s=>c.jsxs("div",{className:"text-xs bg-destructive/20 text-destructive px-2 py-1 rounded",title:rt[s.slot_code].time,children:[vP(s.date)," ",rt[s.slot_code].short]},`${s.date}-${s.slot_code}`)),e.missing_slots.length>10&&c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",e.missing_slots.length-10," ..."]})]})]}),(e.we_pm_balance.most||e.we_pm_balance.least)&&c.jsxs("div",{className:"mb-4 p-3 bg-secondary rounded-lg",children:[c.jsx("div",{className:"text-sm font-medium mb-2",children:" (WE_PM) "}),c.jsxs("div",{className:"flex gap-4 text-sm",children:[e.we_pm_balance.most&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Nj,{className:"w-4 h-4 text-warning"}),c.jsxs("span",{children:[": ",e.we_pm_balance.most.member.name," (",e.we_pm_balance.most.count,")"]})]}),e.we_pm_balance.least&&c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(jj,{className:"w-4 h-4 text-success"}),c.jsxs("span",{children:[": ",e.we_pm_balance.least.member.name," (",e.we_pm_balance.least.count,")"]})]})]})]}),c.jsxs("div",{className:"overflow-x-auto",children:[c.jsx("p",{className:"text-[10px] text-muted-foreground mb-1",children:" /"}),c.jsxs(Ym,{children:[c.jsx(Qm,{children:c.jsxs(al,{children:[c.jsx(co,{className:"w-20",children:""}),r.map(s=>c.jsx(co,{className:"text-center w-16",children:c.jsx(ad,{slotCode:s})},s)),c.jsx(co,{className:"text-center w-16",children:""})]})}),c.jsx(Jm,{children:e.member_stats.map(({member:s,assigned:o,target:i})=>{const a=Object.values(o).reduce((d,h)=>d+h,0),l=Object.values(i).reduce((d,h)=>d+h,0),u=Object.values(e.slot_counts).reduce((d,h)=>d+h,0);return c.jsxs(al,{children:[c.jsxs(uo,{className:"font-medium",children:[s.id," ",s.name]}),r.map(d=>c.jsxs(uo,{className:"text-center",children:[c.jsx("span",{children:o[d]}),c.jsxs("span",{className:"text-[10px] text-muted-foreground ml-0.5",title:`= ${e.slot_counts[d]}   ${e.eligible_count}  = ${i[d].toFixed(2)}`,children:["/",i[d].toFixed(2)]})]},d)),c.jsxs(uo,{className:"text-center font-medium",children:[a,c.jsxs("span",{className:"text-[10px] text-muted-foreground ml-0.5",title:`=  ${u}  ${e.eligible_count}  = ${l.toFixed(2)}`,children:["/",l.toFixed(2)]})]})]},s.id)})})]})]}),e.next_month_carry.length>0&&c.jsxs("div",{className:"mt-4 p-3 bg-secondary/50 rounded-lg",children:[c.jsx("div",{className:"text-sm font-medium mb-2",children:" Carry "}),c.jsx("div",{className:"grid grid-cols-2 gap-2 text-xs",children:e.next_month_carry.filter(s=>Math.abs(s.total)>.5).slice(0,6).map(({member:s,total:o})=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("span",{children:s.name}),c.jsx("span",{className:o>0?"text-warning":"text-success",children:o>0?` ${o.toFixed(1)}`:` ${Math.abs(o).toFixed(1)}`})]},s.id))})]})]})}function hL(e){return e==="WE_MD"?"":e==="WD_AM"||e==="WE_AM"?"":""}function Zv(e){return e==="WD_AM"||e==="WE_AM"?0:e==="WE_MD"?1:2}function ew(e){return/[,"\n\r]/.test(e)?'"'+e.replace(/"/g,'""')+'"':e}function bf(e){const t=[];let n=0;for(;n<e.length;)if(e[n]==='"'){let r="";for(n++;n<e.length;)if(e[n]==='"')if(e[n+1]==='"')r+='"',n+=2;else{n++;break}else r+=e[n],n++;t.push(r),e[n]===","&&n++}else{let r="";for(;n<e.length&&e[n]!==",";)r+=e[n],n++;t.push(r),e[n]===","&&n++}return t}function pL(e){const t=e.trim();return t===""?"AM":t===""||t===""?"MD":t===""?"PM":null}function mL(e){const t=[];let n=0,r=0,s="";const i=e.replace(/^\uFEFF/,"").trim().split(/\r?\n/).filter(p=>p.trim().length>0);if(i.length<2)return{month:"",imported:0,skipped:0,errors:["CSV "]};const a=bf(i[0]),l=a.indexOf(""),u=a.indexOf(""),d=a.indexOf(""),h=a.indexOf("ID");if(l<0||u<0||d<0||h<0)return{month:"",imported:0,skipped:0,errors:["CSV ID"]};for(let p=1;p<i.length;p++){const f=bf(i[p]);if(f.length<=Math.max(l,u))continue;const v=String(f[l]??"").trim();if(/^\d{4}-\d{2}$/.test(v)){s=v;break}}if(!s)return{month:"",imported:0,skipped:0,errors:[" CSV  (YYYY-MM)"]};if(pp(s)==="locked")return{month:s,imported:0,skipped:0,errors:[""]};Hm(s);for(let p=1;p<i.length;p++){const f=bf(i[p]);if(f.length<=Math.max(l,u,d,h)){r++;continue}const v=String(f[l]??"").trim(),y=String(f[u]??"").trim(),b=String(f[d]??"").trim(),x=String(f[h]??"").trim();if(v!==s){r++;continue}if(!/^\d{4}-\d{2}$/.test(v)){r++;continue}const g=parseInt(y,10);if(!Number.isFinite(g)||g<1||g>31){r++;continue}const w=`${v}-${String(g).padStart(2,"0")}`;let _;try{_=_e(w)}catch{r++;continue}if(!xe(_,"yyyy-MM-dd").startsWith(v)){r++;continue}const S=pL(b),E=en(w);if(E.length===0){r++;continue}let k=null;if(S==="AM"?k=E.find(O=>O==="WD_AM"||O==="WE_AM")??null:S==="MD"?k=E.includes("WE_MD")?"WE_MD":null:S==="PM"&&(k=E.find(O=>O==="WD_PM"||O==="WE_PM")??null),!k){r++;continue}il(w,k,!x||x===""||x===""||x==="-"?null:x,{status:"draft"}),n++}return{month:s,imported:n,skipped:r,errors:t}}function gL(e,t,n){const r=new Date().toISOString(),s="",o=new Map(n.map(p=>[p.id,p])),i=t.slice().sort((p,f)=>{const v=parseInt(p.date.slice(8,10),10),y=parseInt(f.date.slice(8,10),10);return v!==y?v-y:Zv(p.slot_code)-Zv(f.slot_code)}).map(p=>{var g;const f=parseInt(p.date.slice(8,10),10),v=hL(p.slot_code),y=p.assignee_id||"",b=p.assignee_id?((g=o.get(p.assignee_id))==null?void 0:g.name)??"?":"",x=rt[p.slot_code].time;return[r,e,s,f,v,y,b,x]}),u="\uFEFF"+[["","","","","","ID","",""].map(ew).join(","),...i.map(p=>p.map(f=>ew(String(f))).join(","))].join(`\r
`),d=new Blob([u],{type:"text/csv;charset=utf-8"}),h=document.createElement("a");h.href=URL.createObjectURL(d),h.download=`_${e}.csv`,h.click(),URL.revokeObjectURL(h.href)}function yL({rows:e,isLocked:t,selectedSlot:n,onSelectSlot:r}){return c.jsx("div",{className:"max-h-[480px] overflow-y-auto",children:c.jsxs("table",{className:"w-full text-sm",children:[c.jsx("thead",{className:"sticky top-0 z-10 border-b bg-muted/80",children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left py-2.5 px-3 font-medium w-[72px]",children:""}),c.jsx("th",{className:"text-left py-2.5 px-2 font-medium w-[48px]",children:""}),c.jsx("th",{className:"text-left py-2.5 px-2 font-medium w-[56px]",children:""}),c.jsx("th",{className:"text-left py-2.5 px-3 font-medium min-w-[100px]",children:""}),c.jsx("th",{className:"text-left py-2.5 px-3 font-medium w-[72px]",children:""})]})}),c.jsx("tbody",{children:e.map(s=>{const o=(n==null?void 0:n.date)===s.date&&(n==null?void 0:n.slotCode)===s.slot_code;return c.jsxs("tr",{role:"button",tabIndex:0,onClick:()=>!t&&r({date:s.date,slotCode:s.slot_code}),onKeyDown:i=>{!t&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),r({date:s.date,slotCode:s.slot_code}))},className:F("border-b border-border/60 transition-colors",!t&&"cursor-pointer hover:bg-muted/50",s.isMissing&&"bg-destructive/5",o&&"border-l-4 border-l-primary bg-primary/5"),children:[c.jsx("td",{className:"py-2.5 px-3 font-medium",children:xe(_e(s.date),"M/d")}),c.jsx("td",{className:"py-2.5 px-2 text-muted-foreground",children:lo[Bu(_e(s.date))].replace("","")}),c.jsx("td",{className:"py-2 px-2",children:c.jsx(ad,{slotCode:s.slot_code})}),c.jsx("td",{className:"py-2.5 px-3 text-muted-foreground",title:rt[s.slot_code].time,children:rt[s.slot_code].time}),c.jsx("td",{className:F("py-2.5 px-3 font-medium",s.isMissing&&"text-destructive"),children:s.assignee_id??""})]},`${s.date}-${s.slot_code}`)})})]})})}function vL({rows:e,isLocked:t,selectedSlot:n,onSelectSlot:r}){return c.jsx("div",{className:"divide-y divide-border max-h-[400px] overflow-y-auto",children:e.map(s=>{const o=(n==null?void 0:n.date)===s.date&&(n==null?void 0:n.slotCode)===s.slot_code;return c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>!t&&r({date:s.date,slotCode:s.slot_code}),onKeyDown:i=>{!t&&(i.key==="Enter"||i.key===" ")&&(i.preventDefault(),r({date:s.date,slotCode:s.slot_code}))},className:F("py-3 px-3 active:bg-muted/70",!t&&"cursor-pointer",s.isMissing&&"bg-destructive/5",o&&"ring-1 ring-primary bg-primary/10"),children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-x-2 gap-y-0.5 text-sm",children:[c.jsx("span",{className:"font-medium",children:xe(_e(s.date),"M/d")}),c.jsx("span",{className:"text-muted-foreground",children:lo[Bu(_e(s.date))].replace("","")}),c.jsx(ad,{slotCode:s.slot_code}),c.jsx("span",{className:"text-muted-foreground text-xs",children:rt[s.slot_code].time})]}),c.jsx("div",{className:F("mt-1 font-medium",s.isMissing&&"text-destructive"),children:s.assignee_id??""})]},`${s.date}-${s.slot_code}`)})})}function wL({calendarDays:e,currentMonth:t,getDaySlotsData:n,isLocked:r,selectedSlot:s,setSelectedSlot:o}){return c.jsxs(Ve,{className:"mb-4",children:[c.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 lg:gap-3 xl:gap-4 2xl:gap-5 mb-2",children:zu.map((i,a)=>c.jsx("div",{className:F("text-center font-medium py-1 text-[10px] md:text-xs lg:text-sm xl:text-base 2xl:text-lg",(a===0||a===6)&&"text-destructive"),children:i},i))}),c.jsx("div",{className:"grid grid-cols-7 gap-1 md:gap-2 lg:gap-3 xl:gap-4 2xl:gap-5",children:e.map(i=>{const a=xe(i,"yyyy-MM-dd"),l=Ob(i,_e(`${t}-01`)),u=_l(i,new Date),d=Ki(a),h=l?n(a):[],p=h.some(f=>f.isMissing);return l?c.jsxs("div",{className:F("border border-border/50 rounded-lg transition-all p-1.5 md:p-2 lg:p-2.5 xl:p-3 2xl:p-3.5","min-h-[72px] md:min-h-[84px] lg:min-h-[94px] xl:min-h-[102px] 2xl:min-h-[110px]","hover:bg-accent/50 hover:border-primary/30 cursor-pointer",d&&"calendar-cell-weekend",u&&"calendar-cell-today",p&&"border-destructive/50"),children:[c.jsx("div",{className:F("font-medium mb-1 text-[10px] md:text-xs lg:text-sm xl:text-base 2xl:text-lg",d&&"text-destructive"),children:xe(i,"d")}),c.jsx("div",{className:"space-y-0.5",children:h.length===0&&Ss(a)?c.jsx("div",{className:"text-[9px] md:text-[10px] text-amber-600/90",title:"",children:Ss(a)}):h.map(({slotCode:f,assignee:v,isMissing:y})=>c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>!r&&o({date:a,slotCode:f}),onKeyDown:b=>{!r&&(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),o({date:a,slotCode:f}))},className:F("flex items-center gap-1 leading-tight rounded px-0.5 text-[9px] md:text-[10px] lg:text-xs xl:text-sm 2xl:text-base",y&&"bg-destructive/20",!r&&"cursor-pointer hover:bg-muted/60",(s==null?void 0:s.date)===a&&(s==null?void 0:s.slotCode)===f&&"ring-1 ring-primary bg-primary/10"),title:rt[f].time,children:[c.jsx("span",{className:F("shrink-0 font-semibold",f.includes("AM")&&"text-sky-700",f.includes("MD")&&"text-emerald-700",f.includes("PM")&&"text-violet-700"),children:f.includes("AM")?"":f.includes("MD")?"":""}),c.jsx("span",{className:F("shrink-0 inline-flex items-center justify-center rounded border px-1 py-0.5 font-semibold min-w-[1rem] md:min-w-[1.25rem] lg:min-w-[1.5rem] xl:min-w-[1.75rem] 2xl:min-w-[2rem]",y?"border-destructive/50 bg-destructive/10 text-destructive":"border-border bg-muted/80"),children:v||""})]},f))})]},a):c.jsx("div",{className:"opacity-30 p-1 text-[10px] md:text-xs lg:text-sm xl:text-base min-h-[72px] md:min-h-[84px] lg:min-h-[94px] xl:min-h-[102px] 2xl:min-h-[110px]",children:xe(i,"d")},a)})})]})}function xL({calendarDays:e,currentMonth:t,getDaySlotsData:n,isLocked:r,selectedSlot:s,setSelectedSlot:o}){return c.jsxs(Ve,{className:"mb-4",children:[c.jsx("div",{className:"grid grid-cols-7 gap-0.5 mb-1.5",children:zu.map((i,a)=>c.jsx("div",{className:F("text-center font-medium py-0.5 text-[8px] sm:text-[9px]",(a===0||a===6)&&"text-destructive"),children:i},i))}),c.jsx("div",{className:"grid grid-cols-7 gap-0.5 sm:gap-1",children:e.map(i=>{const a=xe(i,"yyyy-MM-dd"),l=Ob(i,_e(`${t}-01`)),u=_l(i,new Date),d=Ki(a),h=l?n(a):[],p=h.some(f=>f.isMissing);return l?c.jsxs("div",{className:F("border border-border/50 rounded-md transition-all p-1 sm:p-1.5","min-h-[48px] sm:min-h-[56px]","hover:bg-accent/50 hover:border-primary/30 cursor-pointer active:bg-accent/70",d&&"calendar-cell-weekend",u&&"calendar-cell-today",p&&"border-destructive/50"),children:[c.jsx("div",{className:F("font-medium mb-0.5 text-[8px] sm:text-[9px]",d&&"text-destructive"),children:xe(i,"d")}),c.jsx("div",{className:"space-y-0.5",children:h.length===0&&Ss(a)?c.jsx("div",{className:"text-[7px] sm:text-[8px] text-amber-600/90",title:"",children:Ss(a)}):h.map(({slotCode:f,assignee:v,isMissing:y})=>c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>!r&&o({date:a,slotCode:f}),onKeyDown:b=>{!r&&(b.key==="Enter"||b.key===" ")&&(b.preventDefault(),o({date:a,slotCode:f}))},className:F("flex items-center gap-0.5 leading-tight rounded px-0.5 text-[7px] sm:text-[8px]",y&&"bg-destructive/20",!r&&"cursor-pointer hover:bg-muted/60 active:bg-muted/80",(s==null?void 0:s.date)===a&&(s==null?void 0:s.slotCode)===f&&"ring-1 ring-primary bg-primary/10"),title:rt[f].time,children:[c.jsx("span",{className:F("shrink-0 font-semibold",f.includes("AM")&&"text-sky-700",f.includes("MD")&&"text-emerald-700",f.includes("PM")&&"text-violet-700"),children:f.includes("AM")?"":f.includes("MD")?"":""}),c.jsx("span",{className:F("shrink-0 inline-flex items-center justify-center rounded border px-0.5 py-0 min-w-[0.875rem] sm:min-w-[1rem] text-[7px] sm:text-[8px] font-semibold",y?"border-destructive/50 bg-destructive/10 text-destructive":"border-border bg-muted/80"),children:v||""})]},f))})]},a):c.jsx("div",{className:"opacity-30 p-0.5 text-[8px] sm:text-[9px] min-h-[48px] sm:min-h-[52px]",children:xe(i,"d")},a)})})]})}function bL({weekDays:e,weekSlots:t,getDaySlotsData:n,isDateLocked:r,selectedSlot:s,setSelectedSlot:o}){return c.jsx(Ve,{className:"mb-4 p-4 md:p-5 lg:p-5 xl:p-6 2xl:p-6",children:c.jsx("div",{className:"grid grid-cols-7 gap-2 md:gap-3 lg:gap-4 xl:gap-5 2xl:gap-6",children:e.map(i=>{const a=_e(i),l=_l(a,new Date),u=Ki(i),d=n(i,t),h=d.some(p=>p.isMissing);return c.jsxs("div",{className:F("rounded-lg p-2 md:p-3 lg:p-4 xl:p-4 2xl:p-5 border min-h-[96px] md:min-h-[108px] lg:min-h-[120px] xl:min-h-[132px] 2xl:min-h-[144px]",u&&"bg-destructive/5 border-destructive/20",l&&"ring-2 ring-primary",h&&"border-destructive/50"),children:[c.jsxs("div",{className:F("font-semibold pb-1.5 mb-1.5 border-b border-border/60 text-xs md:text-sm lg:text-base xl:text-lg 2xl:text-xl",u&&"text-destructive"),children:[zu[Bu(a)]," ",xe(a,"d")]}),c.jsx("div",{className:"space-y-1",children:d.length===0&&Ss(i)?c.jsx("div",{className:"text-[10px] md:text-xs text-amber-600/90",title:"",children:Ss(i)}):d.map(({slotCode:p,assignee:f,isMissing:v})=>c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>!r(i)&&o({date:i,slotCode:p}),onKeyDown:y=>{!r(i)&&(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),o({date:i,slotCode:p}))},className:F("flex items-center gap-1.5 leading-snug rounded px-1 py-0.5 text-[10px] md:text-xs lg:text-sm xl:text-base 2xl:text-lg",v&&"bg-destructive/20",!r(i)&&"cursor-pointer hover:bg-muted/60",(s==null?void 0:s.date)===i&&(s==null?void 0:s.slotCode)===p&&"ring-1 ring-primary bg-primary/10"),title:rt[p].time,children:[c.jsx("span",{className:F("shrink-0 font-semibold",p.includes("AM")&&"text-sky-700",p.includes("MD")&&"text-emerald-700",p.includes("PM")&&"text-violet-700"),children:p.includes("AM")?"":p.includes("MD")?"":""}),c.jsx("span",{className:F("shrink-0 inline-flex items-center justify-center rounded border min-w-[1.25rem] md:min-w-[1.5rem] lg:min-w-[1.75rem] xl:min-w-[2rem] px-1 py-0.5 text-[10px] md:text-xs lg:text-sm xl:text-base font-semibold",v?"border-destructive/50 bg-destructive/10 text-destructive":"border-border bg-muted/80"),children:f||""})]},p))})]},i)})})})}function _L({weekDays:e,weekSlots:t,getDaySlotsData:n,isDateLocked:r,selectedSlot:s,setSelectedSlot:o}){return c.jsx(Ve,{className:"mb-4 p-3 sm:p-4",children:c.jsx("div",{className:"grid grid-cols-7 gap-1 sm:gap-1.5",children:e.map(i=>{const a=_e(i),l=_l(a,new Date),u=Ki(i),d=n(i,t),h=d.some(p=>p.isMissing);return c.jsxs("div",{className:F("rounded-lg p-1.5 sm:p-2 border min-h-[76px] sm:min-h-[84px]",u&&"bg-destructive/5 border-destructive/20",l&&"ring-2 ring-primary",h&&"border-destructive/50"),children:[c.jsxs("div",{className:F("font-semibold pb-1 mb-1 border-b border-border/60 text-[9px] sm:text-[10px]",u&&"text-destructive"),children:[zu[Bu(a)]," ",xe(a,"d")]}),c.jsx("div",{className:"space-y-0.5",children:d.length===0&&Ss(i)?c.jsx("div",{className:"text-[8px] sm:text-[9px] text-amber-600/90",title:"",children:Ss(i)}):d.map(({slotCode:p,assignee:f,isMissing:v})=>c.jsxs("div",{role:"button",tabIndex:0,onClick:()=>!r(i)&&o({date:i,slotCode:p}),onKeyDown:y=>{!r(i)&&(y.key==="Enter"||y.key===" ")&&(y.preventDefault(),o({date:i,slotCode:p}))},className:F("flex items-center gap-1 leading-snug rounded px-0.5 py-0.5 text-[8px] sm:text-[9px]",v&&"bg-destructive/20",!r(i)&&"cursor-pointer hover:bg-muted/60 active:bg-muted/80",(s==null?void 0:s.date)===i&&(s==null?void 0:s.slotCode)===p&&"ring-1 ring-primary bg-primary/10"),title:rt[p].time,children:[c.jsx("span",{className:F("shrink-0 font-semibold",p.includes("AM")&&"text-sky-700",p.includes("MD")&&"text-emerald-700",p.includes("PM")&&"text-violet-700"),children:p.includes("AM")?"":p.includes("MD")?"":""}),c.jsx("span",{className:F("shrink-0 inline-flex items-center justify-center rounded border min-w-[1rem] sm:min-w-[1.25rem] px-0.5 py-0 text-[8px] sm:text-[9px] font-semibold",v?"border-destructive/50 bg-destructive/10 text-destructive":"border-border bg-muted/80"),children:f||""})]},p))})]},i)})})})}const tt=m.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:F("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));tt.displayName="Input";var SL=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],EL=SL.reduce((e,t)=>{const n=H_(`Primitive.${t}`),r=m.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),kL="Label",vS=m.forwardRef((e,t)=>c.jsx(EL.label,{...e,ref:t,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=e.onMouseDown)==null||s.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));vS.displayName=kL;var wS=vS;const CL=xl("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ie=m.forwardRef(({className:e,...t},n)=>c.jsx(wS,{ref:n,className:F(CL(),e),...t}));Ie.displayName=wS.displayName;function Xm(e){const t=m.useRef({value:e,previous:e});return m.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var ld="Checkbox",[TL]=Fn(ld),[jL,Zm]=TL(ld);function NL(e){const{__scopeCheckbox:t,checked:n,children:r,defaultChecked:s,disabled:o,form:i,name:a,onCheckedChange:l,required:u,value:d="on",internal_do_not_use_render:h}=e,[p,f]=Er({prop:n,defaultProp:s??!1,onChange:l,caller:ld}),[v,y]=m.useState(null),[b,x]=m.useState(null),g=m.useRef(!1),w=v?!!i||!!v.closest("form"):!0,_={checked:p,disabled:o,setChecked:f,control:v,setControl:y,name:a,form:i,value:d,hasConsumerStoppedPropagationRef:g,required:u,defaultChecked:ps(s)?!1:s,isFormControl:w,bubbleInput:b,setBubbleInput:x};return c.jsx(jL,{scope:t,..._,children:RL(h)?h(_):r})}var xS="CheckboxTrigger",bS=m.forwardRef(({__scopeCheckbox:e,onKeyDown:t,onClick:n,...r},s)=>{const{control:o,value:i,disabled:a,checked:l,required:u,setControl:d,setChecked:h,hasConsumerStoppedPropagationRef:p,isFormControl:f,bubbleInput:v}=Zm(xS,e),y=Ce(s,d),b=m.useRef(l);return m.useEffect(()=>{const x=o==null?void 0:o.form;if(x){const g=()=>h(b.current);return x.addEventListener("reset",g),()=>x.removeEventListener("reset",g)}},[o,h]),c.jsx(le.button,{type:"button",role:"checkbox","aria-checked":ps(l)?"mixed":l,"aria-required":u,"data-state":CS(l),"data-disabled":a?"":void 0,disabled:a,value:i,...r,ref:y,onKeyDown:te(t,x=>{x.key==="Enter"&&x.preventDefault()}),onClick:te(n,x=>{h(g=>ps(g)?!0:!g),v&&f&&(p.current=x.isPropagationStopped(),p.current||x.stopPropagation())})})});bS.displayName=xS;var eg=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l,onCheckedChange:u,form:d,...h}=e;return c.jsx(NL,{__scopeCheckbox:n,checked:s,defaultChecked:o,disabled:a,required:i,onCheckedChange:u,name:r,form:d,value:l,internal_do_not_use_render:({isFormControl:p})=>c.jsxs(c.Fragment,{children:[c.jsx(bS,{...h,ref:t,__scopeCheckbox:n}),p&&c.jsx(kS,{__scopeCheckbox:n})]})})});eg.displayName=ld;var _S="CheckboxIndicator",SS=m.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...s}=e,o=Zm(_S,n);return c.jsx(Ns,{present:r||ps(o.checked)||o.checked===!0,children:c.jsx(le.span,{"data-state":CS(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t,style:{pointerEvents:"none",...e.style}})})});SS.displayName=_S;var ES="CheckboxBubbleInput",kS=m.forwardRef(({__scopeCheckbox:e,...t},n)=>{const{control:r,hasConsumerStoppedPropagationRef:s,checked:o,defaultChecked:i,required:a,disabled:l,name:u,value:d,form:h,bubbleInput:p,setBubbleInput:f}=Zm(ES,e),v=Ce(n,f),y=Xm(o),b=Nm(r);m.useEffect(()=>{const g=p;if(!g)return;const w=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(w,"checked").set,E=!s.current;if(y!==o&&S){const k=new Event("click",{bubbles:E});g.indeterminate=ps(o),S.call(g,ps(o)?!1:o),g.dispatchEvent(k)}},[p,y,o,s]);const x=m.useRef(ps(o)?!1:o);return c.jsx(le.input,{type:"checkbox","aria-hidden":!0,defaultChecked:i??x.current,required:a,disabled:l,name:u,value:d,form:h,...t,tabIndex:-1,ref:v,style:{...t.style,...b,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kS.displayName=ES;function RL(e){return typeof e=="function"}function ps(e){return e==="indeterminate"}function CS(e){return ps(e)?"indeterminate":e?"checked":"unchecked"}const tg=m.forwardRef(({className:e,...t},n)=>c.jsx(eg,{ref:n,className:F("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(SS,{className:F("flex items-center justify-center text-current"),children:c.jsx(Ka,{className:"h-4 w-4"})})}));tg.displayName=eg.displayName;var PL=m.createContext(void 0);function ng(e){const t=m.useContext(PL);return e||t||"ltr"}var _f="rovingFocusGroup.onEntryFocus",OL={bubbles:!1,cancelable:!0},Tl="RovingFocusGroup",[mp,TS,AL]=ym(Tl),[ML,jS]=Fn(Tl,[AL]),[DL,IL]=ML(Tl),NS=m.forwardRef((e,t)=>c.jsx(mp.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(mp.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx($L,{...e,ref:t})})}));NS.displayName=Tl;var $L=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:d=!1,...h}=e,p=m.useRef(null),f=Ce(t,p),v=ng(o),[y,b]=Er({prop:i,defaultProp:a??null,onChange:l,caller:Tl}),[x,g]=m.useState(!1),w=mn(u),_=TS(n),S=m.useRef(!1),[E,k]=m.useState(0);return m.useEffect(()=>{const C=p.current;if(C)return C.addEventListener(_f,w),()=>C.removeEventListener(_f,w)},[w]),c.jsx(DL,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:m.useCallback(C=>b(C),[b]),onItemShiftTab:m.useCallback(()=>g(!0),[]),onFocusableItemAdd:m.useCallback(()=>k(C=>C+1),[]),onFocusableItemRemove:m.useCallback(()=>k(C=>C-1),[]),children:c.jsx(le.div,{tabIndex:x||E===0?-1:0,"data-orientation":r,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:te(e.onMouseDown,()=>{S.current=!0}),onFocus:te(e.onFocus,C=>{const O=!S.current;if(C.target===C.currentTarget&&O&&!x){const N=new CustomEvent(_f,OL);if(C.currentTarget.dispatchEvent(N),!N.defaultPrevented){const D=_().filter($=>$.focusable),I=D.find($=>$.active),M=D.find($=>$.id===y),U=[I,M,...D].filter(Boolean).map($=>$.ref.current);OS(U,d)}}S.current=!1}),onBlur:te(e.onBlur,()=>g(!1))})})}),RS="RovingFocusGroupItem",PS=m.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=vr(),u=o||l,d=IL(RS,n),h=d.currentTabStopId===u,p=TS(n),{onFocusableItemAdd:f,onFocusableItemRemove:v,currentTabStopId:y}=d;return m.useEffect(()=>{if(r)return f(),()=>v()},[r,f,v]),c.jsx(mp.ItemSlot,{scope:n,id:u,focusable:r,active:s,children:c.jsx(le.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:te(e.onMouseDown,b=>{r?d.onItemFocus(u):b.preventDefault()}),onFocus:te(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:te(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const x=WL(b,d.orientation,d.dir);if(x!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=p().filter(_=>_.focusable).map(_=>_.ref.current);if(x==="last")w.reverse();else if(x==="prev"||x==="next"){x==="prev"&&w.reverse();const _=w.indexOf(b.currentTarget);w=d.loop?UL(w,_+1):w.slice(_+1)}setTimeout(()=>OS(w))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});PS.displayName=RS;var LL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function FL(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function WL(e,t,n){const r=FL(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LL[r]}function OS(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function UL(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var BL=NS,zL=PS,cd="Tabs",[VL]=Fn(cd,[jS]),AS=jS(),[HL,rg]=VL(cd),MS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...u}=e,d=ng(a),[h,p]=Er({prop:r,onChange:s,defaultProp:o??"",caller:cd});return c.jsx(HL,{scope:n,baseId:vr(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:l,children:c.jsx(le.div,{dir:d,"data-orientation":i,...u,ref:t})})});MS.displayName=cd;var DS="TabsList",IS=m.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=rg(DS,n),i=AS(n);return c.jsx(BL,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:c.jsx(le.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});IS.displayName=DS;var $S="TabsTrigger",LS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=rg($S,n),a=AS(n),l=US(i.baseId,r),u=BS(i.baseId,r),d=r===i.value;return c.jsx(zL,{asChild:!0,...a,focusable:!s,active:d,children:c.jsx(le.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":u,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:te(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:te(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:te(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});LS.displayName=$S;var FS="TabsContent",WS=m.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=rg(FS,n),l=US(a.baseId,r),u=BS(a.baseId,r),d=r===a.value,h=m.useRef(d);return m.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),c.jsx(Ns,{present:s||d,children:({present:p})=>c.jsx(le.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:u,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});WS.displayName=FS;function US(e,t){return`${e}-trigger-${t}`}function BS(e,t){return`${e}-content-${t}`}var KL=MS,zS=IS,VS=LS,HS=WS;const sg=KL,ud=m.forwardRef(({className:e,...t},n)=>c.jsx(zS,{ref:n,className:F("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));ud.displayName=zS.displayName;const Gt=m.forwardRef(({className:e,...t},n)=>c.jsx(VS,{ref:n,className:F("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",e),...t}));Gt.displayName=VS.displayName;const Yt=m.forwardRef(({className:e,...t},n)=>c.jsx(HS,{ref:n,className:F("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Yt.displayName=HS.displayName;function tw(e,[t,n]){return Math.min(n,Math.max(t,e))}var Sf=0;function KS(){m.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??nw()),document.body.insertAdjacentElement("beforeend",e[1]??nw()),Sf++,()=>{Sf===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sf--}},[])}function nw(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Ef="focusScope.autoFocusOnMount",kf="focusScope.autoFocusOnUnmount",rw={bubbles:!1,cancelable:!0},qL="FocusScope",og=m.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=m.useState(null),u=mn(s),d=mn(o),h=m.useRef(null),p=Ce(t,y=>l(y)),f=m.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;m.useEffect(()=>{if(r){let y=function(w){if(f.paused||!a)return;const _=w.target;a.contains(_)?h.current=_:Wr(h.current,{select:!0})},b=function(w){if(f.paused||!a)return;const _=w.relatedTarget;_!==null&&(a.contains(_)||Wr(h.current,{select:!0}))},x=function(w){if(document.activeElement===document.body)for(const S of w)S.removedNodes.length>0&&Wr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const g=new MutationObserver(x);return a&&g.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),g.disconnect()}}},[r,a,f.paused]),m.useEffect(()=>{if(a){ow.add(f);const y=document.activeElement;if(!a.contains(y)){const x=new CustomEvent(Ef,rw);a.addEventListener(Ef,u),a.dispatchEvent(x),x.defaultPrevented||(GL(ZL(qS(a)),{select:!0}),document.activeElement===y&&Wr(a))}return()=>{a.removeEventListener(Ef,u),setTimeout(()=>{const x=new CustomEvent(kf,rw);a.addEventListener(kf,d),a.dispatchEvent(x),x.defaultPrevented||Wr(y??document.body,{select:!0}),a.removeEventListener(kf,d),ow.remove(f)},0)}}},[a,u,d,f]);const v=m.useCallback(y=>{if(!n&&!r||f.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,x=document.activeElement;if(b&&x){const g=y.currentTarget,[w,_]=YL(g);w&&_?!y.shiftKey&&x===_?(y.preventDefault(),n&&Wr(w,{select:!0})):y.shiftKey&&x===w&&(y.preventDefault(),n&&Wr(_,{select:!0})):x===g&&y.preventDefault()}},[n,r,f.paused]);return c.jsx(le.div,{tabIndex:-1,...i,ref:p,onKeyDown:v})});og.displayName=qL;function GL(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Wr(r,{select:t}),document.activeElement!==n)return}function YL(e){const t=qS(e),n=sw(t,e),r=sw(t.reverse(),e);return[n,r]}function qS(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function sw(e,t){for(const n of e)if(!QL(n,{upTo:t}))return n}function QL(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function JL(e){return e instanceof HTMLInputElement&&"select"in e}function Wr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&JL(e)&&t&&e.select()}}var ow=XL();function XL(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=iw(e,t),e.unshift(t)},remove(t){var n;e=iw(e,t),(n=e[0])==null||n.resume()}}}function iw(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ZL(e){return e.filter(t=>t.tagName!=="A")}function e4(e){const t=t4(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,a=m.Children.toArray(o),l=a.find(r4);if(l){const u=l.props.children,d=a.map(h=>h===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function t4(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=o4(s),a=s4(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Vi(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var n4=Symbol("radix.slottable");function r4(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===n4}function s4(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function o4(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var i4=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Uo=new WeakMap,fc=new WeakMap,hc={},Cf=0,GS=function(e){return e&&(e.host||GS(e.parentNode))},a4=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=GS(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},l4=function(e,t,n,r){var s=a4(t,Array.isArray(e)?e:[e]);hc[n]||(hc[n]=new WeakMap);var o=hc[n],i=[],a=new Set,l=new Set(s),u=function(h){!h||a.has(h)||(a.add(h),u(h.parentNode))};s.forEach(u);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var f=p.getAttribute(r),v=f!==null&&f!=="false",y=(Uo.get(p)||0)+1,b=(o.get(p)||0)+1;Uo.set(p,y),o.set(p,b),i.push(p),y===1&&v&&fc.set(p,!0),b===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(x){console.error("aria-hidden: cannot operate on ",p,x)}})};return d(t),a.clear(),Cf++,function(){i.forEach(function(h){var p=Uo.get(h)-1,f=o.get(h)-1;Uo.set(h,p),o.set(h,f),p||(fc.has(h)||h.removeAttribute(r),fc.delete(h)),f||h.removeAttribute(n)}),Cf--,Cf||(Uo=new WeakMap,Uo=new WeakMap,fc=new WeakMap,hc={})}},YS=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=i4(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),l4(r,s,n,"aria-hidden")):function(){return null}},Pc="right-scroll-bar-position",Oc="width-before-scroll-bar",c4="with-scroll-bars-hidden",u4="--removed-body-scroll-bar-size";function Tf(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function d4(e,t){var n=m.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var f4=typeof window<"u"?m.useLayoutEffect:m.useEffect,aw=new WeakMap;function h4(e,t){var n=d4(null,function(r){return e.forEach(function(s){return Tf(s,r)})});return f4(function(){var r=aw.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Tf(a,null)}),o.forEach(function(a){s.has(a)||Tf(a,i)})}aw.set(n,e)},[e]),n}function p4(e){return e}function m4(e,t){t===void 0&&(t=p4);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},u=function(){return Promise.resolve().then(l)};u(),n={push:function(d){i.push(d),u()},filter:function(d){return i=i.filter(d),n}}}};return s}function g4(e){e===void 0&&(e={});var t=m4(null);return t.options=Jn({async:!0,ssr:!1},e),t}var QS=function(e){var t=e.sideCar,n=Yi(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return m.createElement(r,Jn({},n))};QS.isSideCarExport=!0;function y4(e,t){return e.useMedium(t),QS}var JS=g4(),jf=function(){},dd=m.forwardRef(function(e,t){var n=m.useRef(null),r=m.useState({onScrollCapture:jf,onWheelCapture:jf,onTouchMoveCapture:jf}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,u=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,f=e.noRelative,v=e.noIsolation,y=e.inert,b=e.allowPinchZoom,x=e.as,g=x===void 0?"div":x,w=e.gapMode,_=Yi(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=p,E=h4([n,t]),k=Jn(Jn({},_),s);return m.createElement(m.Fragment,null,d&&m.createElement(S,{sideCar:JS,removeScrollBar:u,shards:h,noRelative:f,noIsolation:v,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:w}),i?m.cloneElement(m.Children.only(a),Jn(Jn({},k),{ref:E})):m.createElement(g,Jn({},k,{className:l,ref:E}),a))});dd.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dd.classNames={fullWidth:Oc,zeroRight:Pc};var v4=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function w4(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=v4();return t&&e.setAttribute("nonce",t),e}function x4(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function b4(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _4=function(){var e=0,t=null;return{add:function(n){e==0&&(t=w4())&&(x4(t,n),b4(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},S4=function(){var e=_4();return function(t,n){m.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},XS=function(){var e=S4(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},E4={left:0,top:0,right:0,gap:0},Nf=function(e){return parseInt(e||"",10)||0},k4=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Nf(n),Nf(r),Nf(s)]},C4=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return E4;var t=k4(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},T4=XS(),yi="data-scroll-locked",j4=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(c4,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(yi,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pc,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Oc,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pc," .").concat(Pc,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Oc," .").concat(Oc,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yi,`] {
    `).concat(u4,": ").concat(a,`px;
  }
`)},lw=function(){var e=parseInt(document.body.getAttribute(yi)||"0",10);return isFinite(e)?e:0},N4=function(){m.useEffect(function(){return document.body.setAttribute(yi,(lw()+1).toString()),function(){var e=lw()-1;e<=0?document.body.removeAttribute(yi):document.body.setAttribute(yi,e.toString())}},[])},R4=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;N4();var o=m.useMemo(function(){return C4(s)},[s]);return m.createElement(T4,{styles:j4(o,!t,s,n?"":"!important")})},gp=!1;if(typeof window<"u")try{var pc=Object.defineProperty({},"passive",{get:function(){return gp=!0,!0}});window.addEventListener("test",pc,pc),window.removeEventListener("test",pc,pc)}catch{gp=!1}var Bo=gp?{passive:!1}:!1,P4=function(e){return e.tagName==="TEXTAREA"},ZS=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!P4(e)&&n[t]==="visible")},O4=function(e){return ZS(e,"overflowY")},A4=function(e){return ZS(e,"overflowX")},cw=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=e1(e,r);if(s){var o=t1(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},M4=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},D4=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},e1=function(e,t){return e==="v"?O4(t):A4(t)},t1=function(e,t){return e==="v"?M4(t):D4(t)},I4=function(e,t){return e==="h"&&t==="rtl"?-1:1},$4=function(e,t,n,r,s){var o=I4(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),u=!1,d=i>0,h=0,p=0;do{if(!a)break;var f=t1(e,a),v=f[0],y=f[1],b=f[2],x=y-b-o*v;(v||x)&&e1(e,a)&&(h+=x,p+=v);var g=a.parentNode;a=g&&g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?g.host:g}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(u=!0),u},mc=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},uw=function(e){return[e.deltaX,e.deltaY]},dw=function(e){return e&&"current"in e?e.current:e},L4=function(e,t){return e[0]===t[0]&&e[1]===t[1]},F4=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},W4=0,zo=[];function U4(e){var t=m.useRef([]),n=m.useRef([0,0]),r=m.useRef(),s=m.useState(W4++)[0],o=m.useState(XS)[0],i=m.useRef(e);m.useEffect(function(){i.current=e},[e]),m.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=$M([e.lockRef.current],(e.shards||[]).map(dw),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=m.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var x=mc(y),g=n.current,w="deltaX"in y?y.deltaX:g[0]-x[0],_="deltaY"in y?y.deltaY:g[1]-x[1],S,E=y.target,k=Math.abs(w)>Math.abs(_)?"h":"v";if("touches"in y&&k==="h"&&E.type==="range")return!1;var C=window.getSelection(),O=C&&C.anchorNode,N=O?O===E||O.contains(E):!1;if(N)return!1;var D=cw(k,E);if(!D)return!0;if(D?S=k:(S=k==="v"?"h":"v",D=cw(k,E)),!D)return!1;if(!r.current&&"changedTouches"in y&&(w||_)&&(r.current=S),!S)return!0;var I=r.current||S;return $4(I,b,y,I==="h"?w:_)},[]),l=m.useCallback(function(y){var b=y;if(!(!zo.length||zo[zo.length-1]!==o)){var x="deltaY"in b?uw(b):mc(b),g=t.current.filter(function(S){return S.name===b.type&&(S.target===b.target||b.target===S.shadowParent)&&L4(S.delta,x)})[0];if(g&&g.should){b.cancelable&&b.preventDefault();return}if(!g){var w=(i.current.shards||[]).map(dw).filter(Boolean).filter(function(S){return S.contains(b.target)}),_=w.length>0?a(b,w[0]):!i.current.noIsolation;_&&b.cancelable&&b.preventDefault()}}},[]),u=m.useCallback(function(y,b,x,g){var w={name:y,delta:b,target:x,should:g,shadowParent:B4(x)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(_){return _!==w})},1)},[]),d=m.useCallback(function(y){n.current=mc(y),r.current=void 0},[]),h=m.useCallback(function(y){u(y.type,uw(y),y.target,a(y,e.lockRef.current))},[]),p=m.useCallback(function(y){u(y.type,mc(y),y.target,a(y,e.lockRef.current))},[]);m.useEffect(function(){return zo.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Bo),document.addEventListener("touchmove",l,Bo),document.addEventListener("touchstart",d,Bo),function(){zo=zo.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Bo),document.removeEventListener("touchmove",l,Bo),document.removeEventListener("touchstart",d,Bo)}},[]);var f=e.removeScrollBar,v=e.inert;return m.createElement(m.Fragment,null,v?m.createElement(o,{styles:F4(s)}):null,f?m.createElement(R4,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function B4(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const z4=y4(JS,U4);var ig=m.forwardRef(function(e,t){return m.createElement(dd,Jn({},e,{ref:t,sideCar:z4}))});ig.classNames=dd.classNames;var V4=[" ","Enter","ArrowUp","ArrowDown"],H4=[" ","Enter"],So="Select",[fd,hd,K4]=ym(So),[Ji]=Fn(So,[K4,Yu]),pd=Yu(),[q4,Ps]=Ji(So),[G4,Y4]=Ji(So),n1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:u,name:d,autoComplete:h,disabled:p,required:f,form:v}=e,y=pd(t),[b,x]=m.useState(null),[g,w]=m.useState(null),[_,S]=m.useState(!1),E=ng(u),[k,C]=Er({prop:r,defaultProp:s??!1,onChange:o,caller:So}),[O,N]=Er({prop:i,defaultProp:a,onChange:l,caller:So}),D=m.useRef(null),I=b?v||!!b.closest("form"):!0,[M,P]=m.useState(new Set),U=Array.from(M).map($=>$.props.value).join(";");return c.jsx(u_,{...y,children:c.jsxs(q4,{required:f,scope:t,trigger:b,onTriggerChange:x,valueNode:g,onValueNodeChange:w,valueNodeHasChildren:_,onValueNodeHasChildrenChange:S,contentId:vr(),value:O,onValueChange:N,open:k,onOpenChange:C,dir:E,triggerPointerDownPosRef:D,disabled:p,children:[c.jsx(fd.Provider,{scope:t,children:c.jsx(G4,{scope:e.__scopeSelect,onNativeOptionAdd:m.useCallback($=>{P(L=>new Set(L).add($))},[]),onNativeOptionRemove:m.useCallback($=>{P(L=>{const R=new Set(L);return R.delete($),R})},[]),children:n})}),I?c.jsxs(C1,{"aria-hidden":!0,required:f,tabIndex:-1,name:d,autoComplete:h,value:O,onChange:$=>N($.target.value),disabled:p,form:v,children:[O===void 0?c.jsx("option",{value:""}):null,Array.from(M)]},U):null]})})};n1.displayName=So;var r1="SelectTrigger",s1=m.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=pd(n),i=Ps(r1,n),a=i.disabled||r,l=Ce(t,i.onTriggerChange),u=hd(n),d=m.useRef("touch"),[h,p,f]=j1(y=>{const b=u().filter(w=>!w.disabled),x=b.find(w=>w.value===i.value),g=N1(b,y,x);g!==void 0&&i.onValueChange(g.value)}),v=y=>{a||(i.onOpenChange(!0),f()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return c.jsx(d_,{asChild:!0,...o,children:c.jsx(le.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":T1(i.value)?"":void 0,...s,ref:l,onClick:te(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:te(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:te(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&V4.includes(y.key)&&(v(),y.preventDefault())})})})});s1.displayName=r1;var o1="SelectValue",i1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=Ps(o1,n),{onValueNodeHasChildrenChange:u}=l,d=o!==void 0,h=Ce(t,l.onValueNodeChange);return xt(()=>{u(d)},[u,d]),c.jsx(le.span,{...a,ref:h,style:{pointerEvents:"none"},children:T1(l.value)?c.jsx(c.Fragment,{children:i}):o})});i1.displayName=o1;var Q4="SelectIcon",a1=m.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return c.jsx(le.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});a1.displayName=Q4;var J4="SelectPortal",l1=e=>c.jsx($u,{asChild:!0,...e});l1.displayName=J4;var Eo="SelectContent",c1=m.forwardRef((e,t)=>{const n=Ps(Eo,e.__scopeSelect),[r,s]=m.useState();if(xt(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?jo.createPortal(c.jsx(u1,{scope:e.__scopeSelect,children:c.jsx(fd.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),o):null}return c.jsx(d1,{...e,ref:t})});c1.displayName=Eo;var En=10,[u1,Os]=Ji(Eo),X4="SelectContentImpl",Z4=e4("SelectContent.RemoveScroll"),d1=m.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:y,avoidCollisions:b,...x}=e,g=Ps(Eo,n),[w,_]=m.useState(null),[S,E]=m.useState(null),k=Ce(t,H=>_(H)),[C,O]=m.useState(null),[N,D]=m.useState(null),I=hd(n),[M,P]=m.useState(!1),U=m.useRef(!1);m.useEffect(()=>{if(w)return YS(w)},[w]),KS();const $=m.useCallback(H=>{const[pe,...me]=I().map(ue=>ue.ref.current),[de]=me.slice(-1),ae=document.activeElement;for(const ue of H)if(ue===ae||(ue==null||ue.scrollIntoView({block:"nearest"}),ue===pe&&S&&(S.scrollTop=0),ue===de&&S&&(S.scrollTop=S.scrollHeight),ue==null||ue.focus(),document.activeElement!==ae))return},[I,S]),L=m.useCallback(()=>$([C,w]),[$,C,w]);m.useEffect(()=>{M&&L()},[M,L]);const{onOpenChange:R,triggerPointerDownPosRef:A}=g;m.useEffect(()=>{if(w){let H={x:0,y:0};const pe=de=>{var ae,ue;H={x:Math.abs(Math.round(de.pageX)-(((ae=A.current)==null?void 0:ae.x)??0)),y:Math.abs(Math.round(de.pageY)-(((ue=A.current)==null?void 0:ue.y)??0))}},me=de=>{H.x<=10&&H.y<=10?de.preventDefault():w.contains(de.target)||R(!1),document.removeEventListener("pointermove",pe),A.current=null};return A.current!==null&&(document.addEventListener("pointermove",pe),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",pe),document.removeEventListener("pointerup",me,{capture:!0})}}},[w,R,A]),m.useEffect(()=>{const H=()=>R(!1);return window.addEventListener("blur",H),window.addEventListener("resize",H),()=>{window.removeEventListener("blur",H),window.removeEventListener("resize",H)}},[R]);const[B,Q]=j1(H=>{const pe=I().filter(ae=>!ae.disabled),me=pe.find(ae=>ae.ref.current===document.activeElement),de=N1(pe,H,me);de&&setTimeout(()=>de.ref.current.focus())}),K=m.useCallback((H,pe,me)=>{const de=!U.current&&!me;(g.value!==void 0&&g.value===pe||de)&&(O(H),de&&(U.current=!0))},[g.value]),Z=m.useCallback(()=>w==null?void 0:w.focus(),[w]),X=m.useCallback((H,pe,me)=>{const de=!U.current&&!me;(g.value!==void 0&&g.value===pe||de)&&D(H)},[g.value]),ye=r==="popper"?yp:f1,ke=ye===yp?{side:a,sideOffset:l,align:u,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:f,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return c.jsx(u1,{scope:n,content:w,viewport:S,onViewportChange:E,itemRefCallback:K,selectedItem:C,onItemLeave:Z,itemTextRefCallback:X,focusSelectedItem:L,selectedItemText:N,position:r,isPositioned:M,searchRef:B,children:c.jsx(ig,{as:Z4,allowPinchZoom:!0,children:c.jsx(og,{asChild:!0,trapped:g.open,onMountAutoFocus:H=>{H.preventDefault()},onUnmountAutoFocus:te(s,H=>{var pe;(pe=g.trigger)==null||pe.focus({preventScroll:!0}),H.preventDefault()}),children:c.jsx(vl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:H=>H.preventDefault(),onDismiss:()=>g.onOpenChange(!1),children:c.jsx(ye,{role:"listbox",id:g.contentId,"data-state":g.open?"open":"closed",dir:g.dir,onContextMenu:H=>H.preventDefault(),...x,...ke,onPlaced:()=>P(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",...x.style},onKeyDown:te(x.onKeyDown,H=>{const pe=H.ctrlKey||H.altKey||H.metaKey;if(H.key==="Tab"&&H.preventDefault(),!pe&&H.key.length===1&&Q(H.key),["ArrowUp","ArrowDown","Home","End"].includes(H.key)){let de=I().filter(ae=>!ae.disabled).map(ae=>ae.ref.current);if(["ArrowUp","End"].includes(H.key)&&(de=de.slice().reverse()),["ArrowUp","ArrowDown"].includes(H.key)){const ae=H.target,ue=de.indexOf(ae);de=de.slice(ue+1)}setTimeout(()=>$(de)),H.preventDefault()}})})})})})})});d1.displayName=X4;var e3="SelectItemAlignedPosition",f1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=Ps(Eo,n),i=Os(Eo,n),[a,l]=m.useState(null),[u,d]=m.useState(null),h=Ce(t,k=>d(k)),p=hd(n),f=m.useRef(!1),v=m.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:x,focusSelectedItem:g}=i,w=m.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&u&&y&&b&&x){const k=o.trigger.getBoundingClientRect(),C=u.getBoundingClientRect(),O=o.valueNode.getBoundingClientRect(),N=x.getBoundingClientRect();if(o.dir!=="rtl"){const ae=N.left-C.left,ue=O.left-ae,Pe=k.left-ue,q=k.width+Pe,be=Math.max(q,C.width),Ge=window.innerWidth-En,Xe=tw(ue,[En,Math.max(En,Ge-be)]);a.style.minWidth=q+"px",a.style.left=Xe+"px"}else{const ae=C.right-N.right,ue=window.innerWidth-O.right-ae,Pe=window.innerWidth-k.right-ue,q=k.width+Pe,be=Math.max(q,C.width),Ge=window.innerWidth-En,Xe=tw(ue,[En,Math.max(En,Ge-be)]);a.style.minWidth=q+"px",a.style.right=Xe+"px"}const D=p(),I=window.innerHeight-En*2,M=y.scrollHeight,P=window.getComputedStyle(u),U=parseInt(P.borderTopWidth,10),$=parseInt(P.paddingTop,10),L=parseInt(P.borderBottomWidth,10),R=parseInt(P.paddingBottom,10),A=U+$+M+R+L,B=Math.min(b.offsetHeight*5,A),Q=window.getComputedStyle(y),K=parseInt(Q.paddingTop,10),Z=parseInt(Q.paddingBottom,10),X=k.top+k.height/2-En,ye=I-X,ke=b.offsetHeight/2,H=b.offsetTop+ke,pe=U+$+H,me=A-pe;if(pe<=X){const ae=D.length>0&&b===D[D.length-1].ref.current;a.style.bottom="0px";const ue=u.clientHeight-y.offsetTop-y.offsetHeight,Pe=Math.max(ye,ke+(ae?Z:0)+ue+L),q=pe+Pe;a.style.height=q+"px"}else{const ae=D.length>0&&b===D[0].ref.current;a.style.top="0px";const Pe=Math.max(X,U+y.offsetTop+(ae?K:0)+ke)+me;a.style.height=Pe+"px",y.scrollTop=pe-X+y.offsetTop}a.style.margin=`${En}px 0`,a.style.minHeight=B+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>f.current=!0)}},[p,o.trigger,o.valueNode,a,u,y,b,x,o.dir,r]);xt(()=>w(),[w]);const[_,S]=m.useState();xt(()=>{u&&S(window.getComputedStyle(u).zIndex)},[u]);const E=m.useCallback(k=>{k&&v.current===!0&&(w(),g==null||g(),v.current=!1)},[w,g]);return c.jsx(n3,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:f,onScrollButtonChange:E,children:c.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:_},children:c.jsx(le.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});f1.displayName=e3;var t3="SelectPopperPosition",yp=m.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=En,...o}=e,i=pd(n);return c.jsx(f_,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});yp.displayName=t3;var[n3,ag]=Ji(Eo,{}),vp="SelectViewport",h1=m.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=Os(vp,n),i=ag(vp,n),a=Ce(t,o.onViewportChange),l=m.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(fd.Slot,{scope:n,children:c.jsx(le.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:te(s.onScroll,u=>{const d=u.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const f=Math.abs(l.current-d.scrollTop);if(f>0){const v=window.innerHeight-En*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),x=Math.max(y,b);if(x<v){const g=x+f,w=Math.min(v,g),_=g-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=_>0?_:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});h1.displayName=vp;var p1="SelectGroup",[r3,s3]=Ji(p1),o3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=vr();return c.jsx(r3,{scope:n,id:s,children:c.jsx(le.div,{role:"group","aria-labelledby":s,...r,ref:t})})});o3.displayName=p1;var m1="SelectLabel",g1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=s3(m1,n);return c.jsx(le.div,{id:s.id,...r,ref:t})});g1.displayName=m1;var yu="SelectItem",[i3,y1]=Ji(yu),v1=m.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=Ps(yu,n),l=Os(yu,n),u=a.value===r,[d,h]=m.useState(o??""),[p,f]=m.useState(!1),v=Ce(t,g=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,g,r,s)}),y=vr(),b=m.useRef("touch"),x=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(i3,{scope:n,value:r,disabled:s,textId:y,isSelected:u,onItemTextChange:m.useCallback(g=>{h(w=>w||((g==null?void 0:g.textContent)??"").trim())},[]),children:c.jsx(fd.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:c.jsx(le.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":u&&p,"data-state":u?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:te(i.onFocus,()=>f(!0)),onBlur:te(i.onBlur,()=>f(!1)),onClick:te(i.onClick,()=>{b.current!=="mouse"&&x()}),onPointerUp:te(i.onPointerUp,()=>{b.current==="mouse"&&x()}),onPointerDown:te(i.onPointerDown,g=>{b.current=g.pointerType}),onPointerMove:te(i.onPointerMove,g=>{var w;b.current=g.pointerType,s?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&g.currentTarget.focus({preventScroll:!0})}),onPointerLeave:te(i.onPointerLeave,g=>{var w;g.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:te(i.onKeyDown,g=>{var _;((_=l.searchRef)==null?void 0:_.current)!==""&&g.key===" "||(H4.includes(g.key)&&x(),g.key===" "&&g.preventDefault())})})})})});v1.displayName=yu;var ma="SelectItemText",w1=m.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=Ps(ma,n),a=Os(ma,n),l=y1(ma,n),u=Y4(ma,n),[d,h]=m.useState(null),p=Ce(t,x=>h(x),l.onItemTextChange,x=>{var g;return(g=a.itemTextRefCallback)==null?void 0:g.call(a,x,l.value,l.disabled)}),f=d==null?void 0:d.textContent,v=m.useMemo(()=>c.jsx("option",{value:l.value,disabled:l.disabled,children:f},l.value),[l.disabled,l.value,f]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=u;return xt(()=>(y(v),()=>b(v)),[y,b,v]),c.jsxs(c.Fragment,{children:[c.jsx(le.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?jo.createPortal(o.children,i.valueNode):null]})});w1.displayName=ma;var x1="SelectItemIndicator",b1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return y1(x1,n).isSelected?c.jsx(le.span,{"aria-hidden":!0,...r,ref:t}):null});b1.displayName=x1;var wp="SelectScrollUpButton",_1=m.forwardRef((e,t)=>{const n=Os(wp,e.__scopeSelect),r=ag(wp,e.__scopeSelect),[s,o]=m.useState(!1),i=Ce(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollTop>0;o(u)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(E1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});_1.displayName=wp;var xp="SelectScrollDownButton",S1=m.forwardRef((e,t)=>{const n=Os(xp,e.__scopeSelect),r=ag(xp,e.__scopeSelect),[s,o]=m.useState(!1),i=Ce(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const u=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<u;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?c.jsx(E1,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});S1.displayName=xp;var E1=m.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=Os("SelectScrollButton",n),i=m.useRef(null),a=hd(n),l=m.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return m.useEffect(()=>()=>l(),[l]),xt(()=>{var d;const u=a().find(h=>h.ref.current===document.activeElement);(d=u==null?void 0:u.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),c.jsx(le.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:te(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:te(s.onPointerMove,()=>{var u;(u=o.onItemLeave)==null||u.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:te(s.onPointerLeave,()=>{l()})})}),a3="SelectSeparator",k1=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(le.div,{"aria-hidden":!0,...r,ref:t})});k1.displayName=a3;var bp="SelectArrow",l3=m.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=pd(n),o=Ps(bp,n),i=Os(bp,n);return o.open&&i.position==="popper"?c.jsx(h_,{...s,...r,ref:t}):null});l3.displayName=bp;var c3="SelectBubbleInput",C1=m.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=m.useRef(null),o=Ce(r,s),i=Xm(t);return m.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),c.jsx(le.select,{...n,style:{...Bx,...n.style},ref:o,defaultValue:t})});C1.displayName=c3;function T1(e){return e===""||e===void 0}function j1(e){const t=mn(e),n=m.useRef(""),r=m.useRef(0),s=m.useCallback(i=>{const a=n.current+i;t(a),function l(u){n.current=u,window.clearTimeout(r.current),u!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=m.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return m.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function N1(e,t,n){const s=t.length>1&&Array.from(t).every(u=>u===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=u3(e,Math.max(o,0));s.length===1&&(i=i.filter(u=>u!==n));const l=i.find(u=>u.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function u3(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var d3=n1,R1=s1,f3=i1,h3=a1,p3=l1,P1=c1,m3=h1,O1=g1,A1=v1,g3=w1,y3=b1,M1=_1,D1=S1,I1=k1;const nr=d3,rr=f3,Mn=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(R1,{ref:r,className:F("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(h3,{asChild:!0,children:c.jsx(qa,{className:"h-4 w-4 opacity-50"})})]}));Mn.displayName=R1.displayName;const $1=m.forwardRef(({className:e,...t},n)=>c.jsx(M1,{ref:n,className:F("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(Th,{className:"h-4 w-4"})}));$1.displayName=M1.displayName;const L1=m.forwardRef(({className:e,...t},n)=>c.jsx(D1,{ref:n,className:F("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(qa,{className:"h-4 w-4"})}));L1.displayName=D1.displayName;const Dn=m.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>c.jsx(p3,{children:c.jsxs(P1,{ref:s,className:F("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx($1,{}),c.jsx(m3,{className:F("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(L1,{})]})}));Dn.displayName=P1.displayName;const v3=m.forwardRef(({className:e,...t},n)=>c.jsx(O1,{ref:n,className:F("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));v3.displayName=O1.displayName;const gt=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(A1,{ref:r,className:F("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(y3,{children:c.jsx(Ka,{className:"h-4 w-4"})})}),c.jsx(g3,{children:t})]}));gt.displayName=A1.displayName;const w3=m.forwardRef(({className:e,...t},n)=>c.jsx(I1,{ref:n,className:F("-mx-1 my-1 h-px bg-muted",e),...t}));w3.displayName=I1.displayName;function x3(e){const t=b3(e),n=m.forwardRef((r,s)=>{const{children:o,...i}=r,a=m.Children.toArray(o),l=a.find(S3);if(l){const u=l.props.children,d=a.map(h=>h===l?m.Children.count(u)>1?m.Children.only(null):m.isValidElement(u)?u.props.children:null:h);return c.jsx(t,{...i,ref:s,children:m.isValidElement(u)?m.cloneElement(u,void 0,d):null})}return c.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}function b3(e){const t=m.forwardRef((n,r)=>{const{children:s,...o}=n;if(m.isValidElement(s)){const i=k3(s),a=E3(o,s.props);return s.type!==m.Fragment&&(a.ref=r?Vi(r,i):i),m.cloneElement(s,a)}return m.Children.count(s)>1?m.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var _3=Symbol("radix.slottable");function S3(e){return m.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===_3}function E3(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function k3(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var md="Dialog",[F1,W1]=Fn(md),[C3,Wn]=F1(md),U1=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=m.useRef(null),l=m.useRef(null),[u,d]=Er({prop:r,defaultProp:s??!1,onChange:o,caller:md});return c.jsx(C3,{scope:t,triggerRef:a,contentRef:l,contentId:vr(),titleId:vr(),descriptionId:vr(),open:u,onOpenChange:d,onOpenToggle:m.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};U1.displayName=md;var B1="DialogTrigger",z1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(B1,n),o=Ce(t,s.triggerRef);return c.jsx(le.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ug(s.open),...r,ref:o,onClick:te(e.onClick,s.onOpenToggle)})});z1.displayName=B1;var lg="DialogPortal",[T3,V1]=F1(lg,{forceMount:void 0}),H1=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Wn(lg,t);return c.jsx(T3,{scope:t,forceMount:n,children:m.Children.map(r,i=>c.jsx(Ns,{present:n||o.open,children:c.jsx($u,{asChild:!0,container:s,children:i})}))})};H1.displayName=lg;var vu="DialogOverlay",K1=m.forwardRef((e,t)=>{const n=V1(vu,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Wn(vu,e.__scopeDialog);return o.modal?c.jsx(Ns,{present:r||o.open,children:c.jsx(N3,{...s,ref:t})}):null});K1.displayName=vu;var j3=x3("DialogOverlay.RemoveScroll"),N3=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(vu,n);return c.jsx(ig,{as:j3,allowPinchZoom:!0,shards:[s.contentRef],children:c.jsx(le.div,{"data-state":ug(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),ko="DialogContent",q1=m.forwardRef((e,t)=>{const n=V1(ko,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Wn(ko,e.__scopeDialog);return c.jsx(Ns,{present:r||o.open,children:o.modal?c.jsx(R3,{...s,ref:t}):c.jsx(P3,{...s,ref:t})})});q1.displayName=ko;var R3=m.forwardRef((e,t)=>{const n=Wn(ko,e.__scopeDialog),r=m.useRef(null),s=Ce(t,n.contentRef,r);return m.useEffect(()=>{const o=r.current;if(o)return YS(o)},[]),c.jsx(G1,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:te(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:te(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:te(e.onFocusOutside,o=>o.preventDefault())})}),P3=m.forwardRef((e,t)=>{const n=Wn(ko,e.__scopeDialog),r=m.useRef(!1),s=m.useRef(!1);return c.jsx(G1,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,u;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((u=n.triggerRef.current)==null?void 0:u.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),G1=m.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Wn(ko,n),l=m.useRef(null),u=Ce(t,l);return KS(),c.jsxs(c.Fragment,{children:[c.jsx(og,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:c.jsx(vl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":ug(a.open),...i,ref:u,onDismiss:()=>a.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(A3,{titleId:a.titleId}),c.jsx(D3,{contentRef:l,descriptionId:a.descriptionId})]})]})}),cg="DialogTitle",Y1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(cg,n);return c.jsx(le.h2,{id:s.titleId,...r,ref:t})});Y1.displayName=cg;var Q1="DialogDescription",J1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(Q1,n);return c.jsx(le.p,{id:s.descriptionId,...r,ref:t})});J1.displayName=Q1;var X1="DialogClose",Z1=m.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Wn(X1,n);return c.jsx(le.button,{type:"button",...r,ref:t,onClick:te(e.onClick,()=>s.onOpenChange(!1))})});Z1.displayName=X1;function ug(e){return e?"open":"closed"}var eE="DialogTitleWarning",[O3,tE]=pT(eE,{contentName:ko,titleName:cg,docsSlug:"dialog"}),A3=({titleId:e})=>{const t=tE(eE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return m.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},M3="DialogDescriptionWarning",D3=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${tE(M3).contentName}}.`;return m.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},dg=U1,fg=z1,hg=H1,jl=K1,Nl=q1,Rl=Y1,Pl=J1,Ol=Z1,I3=Symbol("radix.slottable");function $3(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=I3,t}var nE="AlertDialog",[L3]=Fn(nE,[W1]),Pr=W1(),rE=e=>{const{__scopeAlertDialog:t,...n}=e,r=Pr(t);return c.jsx(dg,{...r,...n,modal:!0})};rE.displayName=nE;var F3="AlertDialogTrigger",sE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pr(n);return c.jsx(fg,{...s,...r,ref:t})});sE.displayName=F3;var W3="AlertDialogPortal",oE=e=>{const{__scopeAlertDialog:t,...n}=e,r=Pr(t);return c.jsx(hg,{...r,...n})};oE.displayName=W3;var U3="AlertDialogOverlay",iE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pr(n);return c.jsx(jl,{...s,...r,ref:t})});iE.displayName=U3;var vi="AlertDialogContent",[B3,z3]=L3(vi),V3=$3("AlertDialogContent"),aE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...s}=e,o=Pr(n),i=m.useRef(null),a=Ce(t,i),l=m.useRef(null);return c.jsx(O3,{contentName:vi,titleName:lE,docsSlug:"alert-dialog",children:c.jsx(B3,{scope:n,cancelRef:l,children:c.jsxs(Nl,{role:"alertdialog",...o,...s,ref:a,onOpenAutoFocus:te(s.onOpenAutoFocus,u=>{var d;u.preventDefault(),(d=l.current)==null||d.focus({preventScroll:!0})}),onPointerDownOutside:u=>u.preventDefault(),onInteractOutside:u=>u.preventDefault(),children:[c.jsx(V3,{children:r}),c.jsx(K3,{contentRef:i})]})})})});aE.displayName=vi;var lE="AlertDialogTitle",cE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pr(n);return c.jsx(Rl,{...s,...r,ref:t})});cE.displayName=lE;var uE="AlertDialogDescription",dE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pr(n);return c.jsx(Pl,{...s,...r,ref:t})});dE.displayName=uE;var H3="AlertDialogAction",fE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,s=Pr(n);return c.jsx(Ol,{...s,...r,ref:t})});fE.displayName=H3;var hE="AlertDialogCancel",pE=m.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:s}=z3(hE,n),o=Pr(n),i=Ce(t,s);return c.jsx(Ol,{...o,...r,ref:i})});pE.displayName=hE;var K3=({contentRef:e})=>{const t=`\`${vi}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${vi}\` by passing a \`${uE}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${vi}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return m.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},q3=rE,G3=sE,Y3=oE,mE=iE,gE=aE,yE=fE,vE=pE,wE=cE,xE=dE;const fo=q3,wi=G3,Q3=Y3,bE=m.forwardRef(({className:e,...t},n)=>c.jsx(mE,{className:F("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));bE.displayName=mE.displayName;const ms=m.forwardRef(({className:e,...t},n)=>c.jsxs(Q3,{children:[c.jsx(bE,{}),c.jsx(gE,{ref:n,className:F("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));ms.displayName=gE.displayName;const gs=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col space-y-2 text-center sm:text-left",e),...t});gs.displayName="AlertDialogHeader";const ys=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});ys.displayName="AlertDialogFooter";const vs=m.forwardRef(({className:e,...t},n)=>c.jsx(wE,{ref:n,className:F("text-lg font-semibold",e),...t}));vs.displayName=wE.displayName;const ja=m.forwardRef(({className:e,...t},n)=>c.jsx(xE,{ref:n,className:F("text-sm text-muted-foreground",e),...t}));ja.displayName=xE.displayName;const ws=m.forwardRef(({className:e,...t},n)=>c.jsx(yE,{ref:n,className:F(Lm(),e),...t}));ws.displayName=yE.displayName;const xs=m.forwardRef(({className:e,...t},n)=>c.jsx(vE,{ref:n,className:F(Lm({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));xs.displayName=vE.displayName;const J3={any:"",WD_AM:"",WD_PM:"",WE_AM:"",WE_MD:"",WE_PM:""};function X3({onClose:e}){const[t,n]=m.useState(0),r=()=>n(i=>i+1),{toast:s}=rn(),o=async()=>{const i=await M$();r(),s({title:i>0?` ${i} `:"",description:i>0?"   ":""})};return c.jsxs(sg,{defaultValue:"weekly",className:"w-full",children:[c.jsxs("div",{className:"flex items-center justify-between gap-3 mb-3",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["",c.jsx("strong",{children:""}),""]}),c.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:o,children:""})]}),c.jsxs(ud,{className:"grid w-full grid-cols-5",children:[c.jsx(Gt,{value:"weekly",className:"text-xs",children:""}),c.jsx(Gt,{value:"date",className:"text-xs",children:""}),c.jsx(Gt,{value:"range",className:"text-xs",children:""}),c.jsx(Gt,{value:"list",className:"text-xs",children:""}),c.jsx(Gt,{value:"sameday",className:"text-xs",children:""})]}),c.jsx(Yt,{value:"weekly",className:"mt-4",children:c.jsx(Z3,{refreshKey:t,onRuleChange:r,slotLabels:J3})}),c.jsx(Yt,{value:"date",className:"mt-4",children:c.jsx(e5,{onRuleChange:r})}),c.jsx(Yt,{value:"range",className:"mt-4",children:c.jsx(t5,{onRuleChange:r})}),c.jsx(Yt,{value:"list",className:"mt-4",children:c.jsx(r5,{refreshKey:t,onRuleChange:r})}),c.jsx(Yt,{value:"sameday",className:"mt-4",children:c.jsx(n5,{refreshKey:t,onRefresh:r})})]})}function Z3({refreshKey:e,onRuleChange:t,slotLabels:n}){var x;const{toast:r}=rn(),s=m.useMemo(()=>bt().filter(g=>g.is_active),[]),{data:o}=wr({queryKey:["rules","weekly",e],queryFn:async()=>(await gn()).filter(w=>w.rule_type==="weekly")}),i=o??[],[a,l]=m.useState(((x=s[0])==null?void 0:x.id)||""),{data:u}=wr({queryKey:["estimateAvailableSlots",a,un(new Date)],queryFn:()=>hS(a,un(new Date)),enabled:!!a}),d=[0,1,2,3,4,5,6],h=["any","WD_AM","WD_PM","WE_AM","WE_MD","WE_PM"],p=(g,w)=>{if(w==="any")return!0;const _=g===0||g===6,S=w.startsWith("WE_"),E=w.startsWith("WD_");return!(_&&E||!_&&S)},f=(g,w,_)=>!i.some(S=>S.member_id===g&&S.rule_type==="weekly"&&S.weekday===w&&S.slot_code===_&&S.is_active),v=async(g,w,_)=>{if(!a)return;if(!p(g,w)){r({title:"",description:w.startsWith("WD_")?"":"",variant:"destructive"});return}const S=await Gv(a,g,w);_?S&&(await qv(S.rule_id),r({title:""})):S?S.is_active||(await hp(S.rule_id,!0),r({title:""})):(await ol({member_id:a,rule_type:"weekly",action:"blocked",weekday:g,slot_code:w,reason:`${lo[g]}`}),r({title:""})),t()},y=async()=>{if(!a)return;const g=i.filter(w=>w.member_id===a&&w.rule_type==="weekly");for(const w of g)await qv(w.rule_id);t(),r({title:"",description:""})},b=async()=>{if(a){for(const g of d)for(const w of h){if(!p(g,w))continue;const _=await Gv(a,g,w);_?_.is_active||await hp(_.rule_id,!0):await ol({member_id:a,rule_type:"weekly",action:"blocked",weekday:g,slot_code:w,reason:`${lo[g]}`})}t(),r({title:"",description:""})}};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsxs(nr,{value:a,onValueChange:l,children:[c.jsx(Mn,{children:c.jsx(rr,{placeholder:""})}),c.jsx(Dn,{children:s.map(g=>c.jsx(gt,{value:g.id,children:g.name},g.id))})]})]}),a&&c.jsxs(c.Fragment,{children:[c.jsxs("p",{className:"text-xs text-muted-foreground",children:[c.jsx("strong",{children:""}),"",c.jsx("strong",{children:""}),""]}),c.jsxs("p",{className:"text-xs text-muted-foreground mb-2",children:["",un(new Date)," ",c.jsx("strong",{children:u??""})," "]}),c.jsxs("div",{className:"flex flex-wrap gap-2 mb-2",children:[c.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:y,children:""}),c.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:b,children:""})]}),c.jsxs(Ve,{className:"p-3 overflow-x-auto",children:[c.jsxs("table",{className:"w-full text-xs",children:[c.jsx("caption",{className:"sr-only",children:"===="}),c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{className:"text-left p-1.5 font-medium",children:""}),d.map(g=>c.jsx("th",{className:"text-center p-1 min-w-[32px] font-medium",children:lo[g].slice(1)},g))]})}),c.jsx("tbody",{children:h.map(g=>c.jsxs("tr",{children:[c.jsx("td",{className:"p-1.5 font-medium",title:g!=="any"?rt[g].time:void 0,children:n[g]}),d.map(w=>{const _=p(w,g),S=f(a,w,g);return c.jsx("td",{className:"text-center p-1",children:c.jsx(tg,{checked:S,onCheckedChange:E=>v(w,g,!!E),disabled:!_,className:_?"":"opacity-20"})},w)})]},g))})]}),c.jsx("p",{className:"text-[10px] text-muted-foreground mt-2",children:"    "})]})]})]})}function e5({onRuleChange:e}){const{toast:t}=rn(),n=m.useMemo(()=>bt().filter(p=>p.is_active),[]),[r,s]=m.useState(""),[o,i]=m.useState(""),[a,l]=m.useState("any"),[u,d]=m.useState(""),h=async()=>{if(!r||!o.trim()){t({title:"",variant:"destructive"});return}const p=o.split(/[,\n]/).map(v=>v.trim()).filter(Boolean);let f=0;for(const v of p)/^\d{4}-\d{2}-\d{2}$/.test(v)&&(await ol({member_id:r,rule_type:"date",action:"blocked",date:v,slot_code:a,reason:u||`${v} `}),f++);f>0?(t({title:` ${f} `}),i(""),d(""),e()):t({title:" YYYY-MM-DD",variant:"destructive"})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsxs(nr,{value:r,onValueChange:s,children:[c.jsx(Mn,{children:c.jsx(rr,{placeholder:""})}),c.jsx(Dn,{children:n.map(p=>c.jsx(gt,{value:p.id,children:p.name},p.id))})]})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" (YYYY-MM-DD)"}),c.jsx(tt,{value:o,onChange:p=>i(p.target.value),placeholder:"2026-01-25, 2026-01-26"})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsxs(nr,{value:a,onValueChange:p=>l(p),children:[c.jsx(Mn,{children:c.jsx(rr,{})}),c.jsxs(Dn,{children:[c.jsx(gt,{value:"any",children:""}),Object.entries(rt).map(([p,f])=>c.jsx(gt,{value:p,title:f.time,children:f.label},p))]})]})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" ()"}),c.jsx(tt,{value:u,onChange:p=>d(p.target.value),placeholder:""})]}),c.jsxs(G,{onClick:h,className:"w-full gap-2",children:[c.jsx(vo,{className:"w-4 h-4"}),""]})]})}function t5({onRuleChange:e}){const{toast:t}=rn(),n=m.useMemo(()=>bt().filter(v=>v.is_active),[]),[r,s]=m.useState(""),[o,i]=m.useState(""),[a,l]=m.useState(""),[u,d]=m.useState("any"),[h,p]=m.useState(""),f=async()=>{if(!r||!o||!a){t({title:"",variant:"destructive"});return}if(o>a){t({title:"",variant:"destructive"});return}await ol({member_id:r,rule_type:"range",action:"blocked",start_date:o,end_date:a,slot_code:u,reason:h||`${o} ~ ${a} `}),t({title:""}),i(""),l(""),p(""),e()};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsxs(nr,{value:r,onValueChange:s,children:[c.jsx(Mn,{children:c.jsx(rr,{placeholder:""})}),c.jsx(Dn,{children:n.map(v=>c.jsx(gt,{value:v.id,children:v.name},v.id))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsx(tt,{type:"date",value:o,onChange:v=>i(v.target.value)})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsx(tt,{type:"date",value:a,onChange:v=>l(v.target.value)})]})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsxs(nr,{value:u,onValueChange:v=>d(v),children:[c.jsx(Mn,{children:c.jsx(rr,{})}),c.jsxs(Dn,{children:[c.jsx(gt,{value:"any",children:""}),Object.entries(rt).map(([v,y])=>c.jsx(gt,{value:v,title:y.time,children:y.label},v))]})]})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" ()"}),c.jsx(tt,{value:h,onChange:v=>p(v.target.value),placeholder:""})]}),c.jsxs(G,{onClick:f,className:"w-full gap-2",children:[c.jsx(vo,{className:"w-4 h-4"}),""]})]})}function n5({refreshKey:e,onRefresh:t}){const{toast:n}=rn(),r=m.useMemo(()=>bt().filter(p=>p.is_active&&!p.exclude_roster),[]),s=m.useMemo(()=>od(),[e]),[o,i]=m.useState(""),[a,l]=m.useState(""),u=p=>{var f;return((f=r.find(v=>v.id===p))==null?void 0:f.name)??p},d=()=>{if(!o||!a){n({title:"",variant:"destructive"});return}if(o===a){n({title:"",variant:"destructive"});return}if(s.some(([f,v])=>f===o&&v===a||f===a&&v===o)){n({title:"",variant:"destructive"});return}Yv([...s,[o,a]]),i(""),l(""),t(),n({title:""})},h=p=>{Yv(s.filter((f,v)=>v!==p)),t(),n({title:""})};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["",c.jsx("strong",{children:""}),""]}),c.jsxs(Ve,{className:"p-3",children:[c.jsxs("div",{className:"space-y-2",children:[s.map(([p,f],v)=>c.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-border/50 last:border-0",children:[c.jsxs("span",{className:"font-medium",children:[u(p)," & ",u(f)]}),c.jsx(G,{type:"button",variant:"ghost",size:"icon",onClick:()=>h(v),title:"",children:c.jsx(bl,{className:"w-4 h-4 text-muted-foreground"})})]},`${p}-${f}-${v}`)),s.length===0&&c.jsx("p",{className:"text-sm text-muted-foreground py-2",children:" 19&2512&1309&10"})]}),c.jsxs("div",{className:"flex flex-wrap items-end gap-2 mt-4 pt-3 border-t",children:[c.jsxs("div",{className:"flex-1 min-w-[120px]",children:[c.jsx(Ie,{className:"text-xs",children:" A"}),c.jsxs(nr,{value:o,onValueChange:i,children:[c.jsx(Mn,{children:c.jsx(rr,{placeholder:""})}),c.jsx(Dn,{children:r.map(p=>c.jsx(gt,{value:p.id,children:p.name},p.id))})]})]}),c.jsx("span",{className:"text-muted-foreground self-center pb-2",children:"&"}),c.jsxs("div",{className:"flex-1 min-w-[120px]",children:[c.jsx(Ie,{className:"text-xs",children:" B"}),c.jsxs(nr,{value:a,onValueChange:l,children:[c.jsx(Mn,{children:c.jsx(rr,{placeholder:""})}),c.jsx(Dn,{children:r.map(p=>c.jsx(gt,{value:p.id,children:p.name},p.id))})]})]}),c.jsxs(G,{type:"button",onClick:d,size:"sm",className:"gap-1",children:[c.jsx(vo,{className:"w-4 h-4"})," "]})]})]})]})}function r5({refreshKey:e,onRuleChange:t}){const{toast:n}=rn(),[r,s]=m.useState(""),[o,i]=m.useState(new Set),[a,l]=m.useState(new Set),[u,d]=m.useState(null),h=m.useMemo(()=>bt(),[]),{data:p}=wr({queryKey:["rules","all",e],queryFn:()=>gn()}),f=p??[],v=M=>{var P;return((P=h.find(U=>U.id===M))==null?void 0:P.name)||"?"},y=M=>{const P=M.slot_code==="any"?"":rt[M.slot_code].short;switch(M.rule_type){case"weekly":return`${lo[M.weekday]} ${P}`;case"date":return`${M.date} ${P}`;case"range":return`${M.start_date} ~ ${M.end_date} ${P}`;default:return""}},b=m.useMemo(()=>f.filter(M=>r?v(M.member_id).includes(r)||y(M).includes(r):!0),[f,r,h]),x=m.useMemo(()=>{const M=[],P=new Map;return b.forEach(U=>{const $=P.get(U.member_id)||[];$.push(U),P.set(U.member_id,$)}),P.forEach((U,$)=>{M.push({memberId:$,memberName:v($),rules:U})}),M.sort((U,$)=>U.memberName.localeCompare($.memberName)),M},[b,h]),g=M=>{i(P=>{const U=new Set(P);return U.has(M)?U.delete(M):U.add(M),U})},w=()=>i(new Set(b.map(M=>M.rule_id))),_=()=>i(new Set),S=M=>{l(P=>{const U=new Set(P);return U.has(M)?U.delete(M):U.add(M),U})},E=async(M,P)=>{await j$(M),i(U=>{const $=new Set(U);return M.forEach(L=>$.delete(L)),$}),n({title:P}),t(),d(null)},k=M=>{d({count:1,onConfirm:()=>E([M],"")})},C=()=>{const M=[...o];M.length!==0&&d({count:M.length,onConfirm:()=>E(M,` ${M.length} `)})},O=()=>{const M=b.map(P=>P.rule_id);M.length!==0&&d({count:M.length,onConfirm:()=>E(M,` ${M.length} `)})},N=(M,P)=>{P.length!==0&&d({count:P.length,label:`${M} `,onConfirm:()=>E(P,` ${M}  ${P.length} `)})},D=async(M,P)=>{await hp(M,P),n({title:P?"":""}),t()},I=o.size;return c.jsxs("div",{className:"space-y-4",children:[c.jsx("p",{className:"text-xs text-muted-foreground",children:""}),c.jsx(tt,{placeholder:"...",value:r,onChange:M=>s(M.target.value)}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:w,children:""}),c.jsx(G,{type:"button",variant:"outline",size:"sm",onClick:_,children:""}),I>0&&c.jsxs(G,{type:"button",variant:"outline",size:"sm",className:"text-destructive border-destructive/50 hover:bg-destructive/10",onClick:C,children:[" (",I,")"]}),c.jsxs(G,{type:"button",variant:"outline",size:"sm",className:"text-destructive border-destructive/50 hover:bg-destructive/10",onClick:O,disabled:b.length===0,children:[" (",b.length,")"]})]}),c.jsx("div",{className:"space-y-3 max-h-[380px] overflow-y-auto",children:x.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground text-sm",children:""}):x.map(({memberId:M,memberName:P,rules:U})=>{const $=a.has(M);return c.jsxs(Ve,{className:"overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>S(M),className:"w-full flex items-center justify-between px-3 py-2.5 text-left hover:bg-muted/40 transition-colors",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[$?c.jsx(ru,{className:"w-4 h-4 text-muted-foreground"}):c.jsx(qa,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"font-medium",children:P}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",U.length,")"]})]}),c.jsx(G,{type:"button",variant:"ghost",size:"sm",className:"text-destructive hover:bg-destructive/10 h-8 text-xs",onClick:L=>{L.stopPropagation(),N(P,U.map(R=>R.rule_id))},children:""})]}),!$&&c.jsx("div",{className:"border-t border-border/60 divide-y divide-border/40",children:U.map(L=>{var R;return c.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 bg-background/30",children:[c.jsx(tg,{checked:o.has(L.rule_id),onCheckedChange:()=>g(L.rule_id)}),c.jsx("span",{className:`text-[10px] px-1.5 py-0.5 rounded shrink-0 ${L.rule_type==="weekly"?"bg-sky-100 text-sky-700":L.rule_type==="date"?"bg-violet-100 text-violet-700":"bg-emerald-100 text-emerald-700"}`,children:L.rule_type==="weekly"?"":L.rule_type==="date"?"":""}),c.jsxs("span",{className:"text-sm text-muted-foreground truncate flex-1 min-w-0",title:L.slot_code!=="any"?(R=rt[L.slot_code])==null?void 0:R.time:void 0,children:[y(L),L.reason&&`  ${L.reason}`]}),c.jsxs("div",{className:"flex items-center gap-0.5 shrink-0",children:[c.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>D(L.rule_id,!L.is_active),children:L.is_active?c.jsx(yb,{className:"w-4 h-4 text-success"}):c.jsx(gb,{className:"w-4 h-4 text-muted-foreground"})}),c.jsx(G,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:bg-destructive/10",onClick:()=>k(L.rule_id),"aria-label":"",children:c.jsx(bl,{className:"w-4 h-4"})})]})]},L.rule_id)})})]},M)})}),c.jsx(fo,{open:!!u,onOpenChange:M=>!M&&d(null),children:c.jsxs(ms,{children:[c.jsxs(gs,{children:[c.jsx(vs,{children:""}),c.jsxs(ja,{children:[u?u.label?` ${u.label} ${u.count} `:` ${u.count} `:""," "]})]}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:()=>u==null?void 0:u.onConfirm(),children:""})]})]})})]})}const gd=dg,s5=fg,o5=hg,_E=m.forwardRef(({className:e,...t},n)=>c.jsx(jl,{ref:n,className:F("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));_E.displayName=jl.displayName;const Al=m.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(o5,{children:[c.jsx(_E,{}),c.jsxs(Nl,{ref:r,className:F("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,c.jsxs(Ol,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Wu,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Al.displayName=Nl.displayName;const Ml=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ml.displayName="DialogHeader";const Dl=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Dl.displayName="DialogFooter";const Il=m.forwardRef(({className:e,...t},n)=>c.jsx(Rl,{ref:n,className:F("text-lg font-semibold leading-none tracking-tight",e),...t}));Il.displayName=Rl.displayName;const yd=m.forwardRef(({className:e,...t},n)=>c.jsx(Pl,{ref:n,className:F("text-sm text-muted-foreground",e),...t}));yd.displayName=Pl.displayName;const pg=dg,i5=fg,a5=Ol,l5=hg,SE=m.forwardRef(({className:e,...t},n)=>c.jsx(jl,{className:F("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));SE.displayName=jl.displayName;const c5=xl("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),vd=m.forwardRef(({side:e="right",className:t,children:n,...r},s)=>c.jsxs(l5,{children:[c.jsx(SE,{}),c.jsxs(Nl,{ref:s,className:F(c5({side:e}),t),...r,children:[n,c.jsxs(Ol,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[c.jsx(Wu,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vd.displayName=Nl.displayName;const wd=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col space-y-2 text-center sm:text-left",e),...t});wd.displayName="SheetHeader";const EE=({className:e,...t})=>c.jsx("div",{className:F("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});EE.displayName="SheetFooter";const xd=m.forwardRef(({className:e,...t},n)=>c.jsx(Rl,{ref:n,className:F("text-lg font-semibold text-foreground",e),...t}));xd.displayName=Rl.displayName;const u5=m.forwardRef(({className:e,...t},n)=>c.jsx(Pl,{ref:n,className:F("text-sm text-muted-foreground",e),...t}));u5.displayName=Pl.displayName;var bd="Switch",[d5]=Fn(bd),[f5,h5]=d5(bd),kE=m.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:u,form:d,...h}=e,[p,f]=m.useState(null),v=Ce(t,w=>f(w)),y=m.useRef(!1),b=p?d||!!p.closest("form"):!0,[x,g]=Er({prop:s,defaultProp:o??!1,onChange:u,caller:bd});return c.jsxs(f5,{scope:n,checked:x,disabled:a,children:[c.jsx(le.button,{type:"button",role:"switch","aria-checked":x,"aria-required":i,"data-state":NE(x),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:v,onClick:te(e.onClick,w=>{g(_=>!_),b&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),b&&c.jsx(jE,{control:p,bubbles:!y.current,name:r,value:l,checked:x,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});kE.displayName=bd;var CE="SwitchThumb",TE=m.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=h5(CE,n);return c.jsx(le.span,{"data-state":NE(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});TE.displayName=CE;var p5="SwitchBubbleInput",jE=m.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=m.useRef(null),a=Ce(i,o),l=Xm(n),u=Nm(t);return m.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,f=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&f){const v=new Event("click",{bubbles:r});f.call(d,n),d.dispatchEvent(v)}},[l,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});jE.displayName=p5;function NE(e){return e?"checked":"unchecked"}var RE=kE,m5=TE;const wu=m.forwardRef(({className:e,...t},n)=>c.jsx(RE,{className:F("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",e),...t,ref:n,children:c.jsx(m5,{className:F("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));wu.displayName=RE.displayName;function g5(){const[e,t]=m.useState(()=>un(new Date)),[n,r]=m.useState(0),[s,o]=m.useState(!1),[i,a]=m.useState(!1),[l,u]=m.useState("month"),[d,h]=m.useState(()=>xe(wo(new Date,{weekStartsOn:0}),"yyyy-MM-dd")),[p,f]=m.useState("all"),[v,y]=m.useState(null),[b,x]=m.useState(!1),[g,w]=m.useState(!1),[_,S]=m.useState(!1),[E,k]=m.useState(""),[C,O]=m.useState(!1),[N,D]=m.useState(!1),[I,M]=m.useState(!1),[P,U]=m.useState(!1),$=m.useRef(null),L=cL(),{toast:R}=rn(),A=()=>r(j=>j+1),B=l==="week"?un(d):e,Q=j=>pp(un(j))==="locked",K=m.useMemo(()=>pp(B),[B,n]),Z=m.useMemo(()=>Rr(e),[e,n]),X=m.useMemo(()=>bt(),[n]),ye=m.useMemo(()=>X.filter(j=>j.is_active&&!j.exclude_roster),[X]),{data:ke}=wr({queryKey:["scheduleReport",B,n],queryFn:()=>yS(B)}),[H,pe]=m.useState([]);m.useEffect(()=>{if(!v){pe([]);return}const z=X.filter(re=>re.is_active&&!re.exclude_roster).map(re=>{const We=_o(re.id,v.date,v.slotCode);return{member:re,available:We.available,reason:We.reason}});pe(z)},[v,X]);const me=m.useMemo(()=>{const j=xe(Bs(_e(d),6),"yyyy-MM-dd");return No().filter(z=>z.date>=d&&z.date<=j)},[d,n]),de=m.useMemo(()=>[0,1,2,3,4,5,6].map(j=>xe(Bs(_e(d),j),"yyyy-MM-dd")),[d]),ae=l==="week"?me.filter(j=>!j.assignee_id).length:Z.filter(j=>!j.assignee_id).length,ue=K==="locked",Pe={WD_AM:0,WD_PM:1,WE_AM:2,WE_MD:3,WE_PM:4},q=m.useMemo(()=>{let j=Z.filter(z=>en(z.date).includes(z.slot_code)).map(z=>({...z,isMissing:!z.assignee_id}));return p==="missing"&&(j=j.filter(z=>z.isMissing)),j.sort((z,re)=>z.date.localeCompare(re.date)||(Pe[z.slot_code]??0)-(Pe[re.slot_code]??0))},[Z,p]),be=m.useMemo(()=>{const j=jb(_e(`${e}-01`)),z=wo(j,{weekStartsOn:0}),re=bN(Nh(j,1),{weekStartsOn:0});return Tb({start:z,end:re}).slice(0,42)},[e]),Ge=(j,z=Z)=>en(j).map(We=>{const it=z.find(Ue=>Ue.date===j&&Ue.slot_code===We);return{slotCode:We,assignee:(it==null?void 0:it.assignee_id)||null,isMissing:it?it.assignee_id===null:!0}}),Xe=(j,z,re)=>{Q(j)||(il(j,z,re,{status:"draft"}),A(),R({title:re?"":""}))},st=j=>{if(!v||Q(v.date))return;const re=(l==="week"?me:Z).find(We=>We.date===v.date&&We.slot_code===v.slotCode);re!=null&&re.assignee_id&&(il(v.date,v.slotCode,re.assignee_id,{is_substitute:j,original_assignee_id:j?re.assignee_id:null,status:"draft"}),A(),R({title:j?"":""}))},ot=async()=>{if(!I){M(!0);try{const j=await mS(B);o(!0),A(),R({title:"",description:j.missingCount>0?` ${j.missingCount} `:""})}catch(j){console.error("generateSchedule error:",j),R({title:"",description:"",variant:"destructive"})}finally{M(!1)}}},Un=async()=>{if(!P){U(!0),O(!1);try{const j=await lL(B);o(!0),A(),R({title:"",description:j.missingCount>0?` ${j.missingCount} `:""})}catch(j){console.error("regenerateSchedule error:",j),R({title:"",description:"",variant:"destructive"})}finally{U(!1)}}},sn=()=>{Hm(B),D(!1),A(),R({title:"",description:""})},Ro=j=>{var We;const z=(We=j.target.files)==null?void 0:We[0];if(!z)return;const re=new FileReader;re.onload=()=>{const it=String(re.result??""),Ue=mL(it);Ue.errors.length>0?R({title:"",description:Ue.errors[0],variant:"destructive"}):(R({title:` ${Ue.month}`,description:` ${Ue.imported}  ${Ue.skipped} `}),Ue.imported>0&&(Ue.month!==e&&t(Ue.month),A())),j.target.value=""},re.readAsText(z,"UTF-8")},yn=async()=>{await N$(B),R$(B),A(),R({title:"",description:""})},As=()=>{P$(B),A(),R({title:"",description:""})};return c.jsxs("div",{className:"px-4",children:[c.jsx(Fm,{title:"",subtitle:l==="week"?`${xe(_e(d),"M/d",{locale:qn})}${xe(Bs(_e(d),6),"M/d",{locale:qn})}`:xe(_e(`${e}-01`),"yyyyM",{locale:qn}),children:c.jsxs(pg,{open:i,onOpenChange:a,children:[c.jsx(i5,{asChild:!0,children:c.jsx(G,{variant:"outline",size:"icon",className:"rounded-full",children:c.jsx(Cj,{className:"w-5 h-5"})})}),c.jsxs(vd,{side:"right",className:"w-full sm:max-w-lg overflow-y-auto",children:[c.jsx(wd,{children:c.jsx(xd,{children:""})}),c.jsx("div",{className:"mt-4",children:c.jsx(X3,{onClose:()=>a(!1)})})]})]})}),c.jsxs("div",{className:"flex rounded-lg border border-border bg-muted/30 p-0.5 mb-4",children:[c.jsxs("button",{type:"button",onClick:()=>u("month"),className:F("flex-1 flex items-center justify-center gap-1.5 py-2 text-sm font-medium rounded-md transition-colors",l==="month"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"),children:[c.jsx(mj,{className:"w-4 h-4"}),""]}),c.jsxs("button",{type:"button",onClick:()=>u("week"),className:F("flex-1 flex items-center justify-center gap-1.5 py-2 text-sm font-medium rounded-md transition-colors",l==="week"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"),children:[c.jsx(pj,{className:"w-4 h-4"}),""]}),c.jsxs("button",{type:"button",onClick:()=>u("list"),className:F("flex-1 flex items-center justify-center gap-1.5 py-2 text-sm font-medium rounded-md transition-colors",l==="list"?"bg-background shadow text-foreground":"text-muted-foreground hover:text-foreground"),children:[c.jsx(bj,{className:"w-4 h-4"}),""]})]}),c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l==="week"?c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>h(xe(_m(_e(d),7),"yyyy-MM-dd")),children:c.jsx(Ch,{className:"w-5 h-5"})}),c.jsxs("span",{className:"text-lg font-semibold min-w-[140px] text-center",children:[xe(_e(d),"M/d",{locale:qn}),"",xe(Bs(_e(d),6),"M/d",{locale:qn})]}),c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>h(xe(Bs(_e(d),7),"yyyy-MM-dd")),children:c.jsx(ru,{className:"w-5 h-5"})})]}):c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>t(un(Mb(_e(`${e}-01`)))),children:c.jsx(Ch,{className:"w-5 h-5"})}),c.jsx("span",{className:"text-lg font-semibold min-w-[100px] text-center",children:xe(_e(`${e}-01`),"M",{locale:qn})}),c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>t(un(Nh(_e(`${e}-01`),1))),children:c.jsx(ru,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(nd,{variant:K,children:K==="draft"?"":K==="published"?"":""}),ae>0&&c.jsx(MM,{count:ae})]})]}),c.jsxs("div",{className:"mb-4 rounded-lg border border-border bg-muted/20 overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>x(j=>!j),className:"w-full flex items-center justify-between px-3 py-2 text-left text-sm font-medium text-muted-foreground hover:bg-muted/40 hover:text-foreground transition-colors",children:[c.jsx("span",{children:""}),b?c.jsx(qa,{className:"w-4 h-4 shrink-0"}):c.jsx(Th,{className:"w-4 h-4 shrink-0"})]}),!b&&c.jsxs("div",{className:"grid grid-cols-2 gap-2 px-3 pb-3 pt-0",children:[c.jsxs(G,{onClick:ot,className:"gap-2",disabled:K==="locked"||I,title:K==="locked"?"":void 0,children:[c.jsx(Tj,{className:"w-4 h-4"}),I?"":""]}),c.jsxs(fo,{open:C,onOpenChange:O,children:[c.jsx(wi,{asChild:!0,children:c.jsxs(G,{variant:"outline",className:"gap-2",disabled:K==="locked"||P,title:K==="locked"?"":void 0,children:[c.jsx(mb,{className:"w-4 h-4"}),P?"":""]})}),c.jsxs(ms,{children:[c.jsxs(gs,{children:[c.jsx(vs,{children:""}),c.jsx(ja,{children:""})]}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:()=>Un(),children:""})]})]})]}),c.jsxs(fo,{open:N,onOpenChange:D,children:[c.jsx(wi,{asChild:!0,children:c.jsxs(G,{variant:"outline",className:"gap-2 text-destructive",disabled:K==="locked",title:K==="locked"?"":void 0,children:[c.jsx(bl,{className:"w-4 h-4"}),""]})}),c.jsxs(ms,{children:[c.jsxs(gs,{children:[c.jsx(vs,{children:""}),c.jsx(ja,{children:""})]}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:sn,children:""})]})]})]}),c.jsx("input",{ref:$,type:"file",accept:".csv,text/csv",className:"hidden",onChange:Ro,"aria-label":" CSV"}),c.jsxs(G,{variant:"outline",className:"gap-2",onClick:()=>{var j;return(j=$.current)==null?void 0:j.click()},title:"CSV ID CSV ",children:[c.jsx(Pj,{className:"w-4 h-4"})," CSV"]}),c.jsxs(G,{variant:"outline",className:"gap-2",onClick:()=>{gL(e,Z,X),R({title:` ${e} `})},children:[c.jsx(Gs,{className:"w-4 h-4"})," CSV"]}),K==="locked"?c.jsxs(gd,{open:_,onOpenChange:j=>{S(j),j||k("")},children:[c.jsx(s5,{asChild:!0,children:c.jsxs(G,{variant:"outline",className:"gap-2",children:[c.jsx(fb,{className:"w-4 h-4"}),""]})}),c.jsxs(Al,{children:[c.jsxs(Ml,{children:[c.jsx(Il,{children:""}),c.jsx(yd,{children:""})]}),c.jsx("div",{className:"py-2",children:c.jsx(tt,{type:"password",placeholder:"",value:E,onChange:j=>k(j.target.value),onKeyDown:j=>{j.key==="Enter"&&(j.preventDefault(),E==="8888"?(As(),S(!1),k("")):R({title:"",variant:"destructive"}))}})}),c.jsxs(Dl,{children:[c.jsx(G,{variant:"outline",onClick:()=>{S(!1),k("")},children:""}),c.jsx(G,{onClick:()=>{E==="8888"?(As(),S(!1),k("")):R({title:"",variant:"destructive"})},children:""})]})]})]}):c.jsxs(fo,{children:[c.jsx(wi,{asChild:!0,children:c.jsxs(G,{variant:"default",className:"gap-2 bg-success hover:bg-success/90",children:[c.jsx(hb,{className:"w-4 h-4"}),""]})}),c.jsxs(ms,{children:[c.jsxs(gs,{children:[c.jsx(vs,{children:""}),c.jsx(ja,{children:""})]}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:yn,children:""})]})]})]})]})]}),c.jsxs("div",{className:"mb-4 rounded-lg border border-border bg-muted/20 overflow-hidden",children:[c.jsxs("button",{type:"button",onClick:()=>w(j=>!j),className:"w-full flex items-center justify-between px-3 py-2 text-left text-xs font-medium text-muted-foreground hover:bg-muted/40 hover:text-foreground transition-colors",children:[c.jsx("span",{children:""}),g?c.jsx(qa,{className:"w-4 h-4 shrink-0"}):c.jsx(Th,{className:"w-4 h-4 shrink-0"})]}),!g&&c.jsx("div",{className:"flex flex-wrap gap-1.5 px-3 pb-3 pt-0",children:[...ye].sort((j,z)=>String(j.id).localeCompare(String(z.id),void 0,{numeric:!0})).map(j=>c.jsxs("span",{className:"inline-flex items-center rounded-md border border-border/70 bg-background/80 px-2 py-0.5 text-xs",children:[c.jsx("span",{className:"font-semibold text-foreground tabular-nums mr-1",children:j.id}),c.jsx("span",{className:"text-muted-foreground",children:j.name})]},j.id))})]}),l==="list"&&c.jsxs("div",{className:"flex gap-2 mb-3",children:[c.jsx("button",{type:"button",onClick:()=>f("all"),className:F("px-3 py-1.5 text-sm rounded-md border transition-colors",p==="all"?"bg-primary text-primary-foreground border-primary":"border-border hover:bg-muted/50"),children:""}),c.jsx("button",{type:"button",onClick:()=>f("missing"),className:F("px-3 py-1.5 text-sm rounded-md border transition-colors",p==="missing"?"bg-destructive text-destructive-foreground border-destructive":"border-border hover:bg-muted/50"),children:""})]}),v&&!Q(v.date)&&c.jsxs(Ve,{className:"mb-4 p-3",children:[c.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-2",children:[c.jsxs("span",{className:"text-sm font-medium",children:["",xe(_e(v.date),"M/d")," ",rt[v.slotCode].label]}),c.jsx(G,{size:"sm",variant:"outline",onClick:()=>Xe(v.date,v.slotCode,null),children:""}),c.jsx(G,{size:"sm",variant:"ghost",onClick:()=>y(null),children:""})]}),c.jsx("div",{className:"flex flex-wrap gap-1.5",children:H.map(({member:j,available:z,reason:re})=>z?c.jsxs(G,{size:"sm",variant:"secondary",className:"h-7 text-xs",onClick:()=>Xe(v.date,v.slotCode,j.id),children:[j.id," ",j.name]},j.id):c.jsxs("span",{className:"inline-flex items-center rounded-md border px-2 py-1 text-xs opacity-50",title:re,children:[j.id," ",j.name]},j.id))}),(()=>{const z=(l==="week"?me:Z).find(re=>re.date===v.date&&re.slot_code===v.slotCode);return z!=null&&z.assignee_id?c.jsxs("div",{className:"flex items-center gap-2 mt-3 pt-3 border-t",children:[c.jsx(wu,{id:"swap-sub",checked:!!(z!=null&&z.is_substitute),onCheckedChange:st}),c.jsx(Ie,{htmlFor:"swap-sub",className:"text-sm",children:""})]}):null})()]}),l==="week"&&(L?c.jsx(_L,{weekDays:de,weekSlots:me,getDaySlotsData:Ge,isDateLocked:Q,selectedSlot:v,setSelectedSlot:y}):c.jsx(bL,{weekDays:de,weekSlots:me,getDaySlotsData:Ge,isDateLocked:Q,selectedSlot:v,setSelectedSlot:y})),l==="list"&&c.jsx(Ve,{className:"mb-4",children:q.length===0?c.jsx("div",{className:"py-8 text-center text-muted-foreground text-sm",children:p==="missing"?"":""}):L?c.jsx(vL,{rows:q,isLocked:ue,selectedSlot:v,onSelectSlot:y}):c.jsx(yL,{rows:q,isLocked:ue,selectedSlot:v,onSelectSlot:y})}),l==="month"&&(L?c.jsx(xL,{calendarDays:be,currentMonth:e,getDaySlotsData:Ge,isLocked:ue,selectedSlot:v,setSelectedSlot:y}):c.jsx(wL,{calendarDays:be,currentMonth:e,getDaySlotsData:Ge,isLocked:ue,selectedSlot:v,setSelectedSlot:y})),s&&ke&&(l==="week"?me.length:Z.length)>0&&!ue&&c.jsx(fL,{report:ke,month:B,onClose:()=>o(!1)})]})}const PE=m.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:F("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:n,...t}));PE.displayName="Textarea";function y5({onNavigateToRoster:e}={}){const t=xe(new Date,"yyyy-MM-dd"),n=xe(new Date,"Md (EEEE)",{locale:qn}),[r,s]=m.useState(0),[o,i]=m.useState(()=>new Date),[a,l]=m.useState(""),[u,d]=m.useState("all"),[h,p]=m.useState(!1),[f,v]=m.useState({}),[y,b]=m.useState(!1),[x,g]=m.useState(""),[w,_]=m.useState("member"),[S,E]=m.useState(""),[k,C]=m.useState(""),[O,N]=m.useState(""),[D,I]=m.useState(""),[M,P]=m.useState(""),[U,$]=m.useState([]),[L,R]=m.useState(""),[A,B]=m.useState(""),{toast:Q}=rn(),K=()=>s(j=>j+1),Z=xe(o,"yyyy-MM-dd"),X=m.useMemo(()=>bt().filter(j=>j.is_active),[r]),ye=m.useMemo(()=>{const j=t.substring(0,7);return Rr(j).filter(z=>z.date===t)},[t,r]),{data:ke}=wr({queryKey:["tempDuty",t,r],queryFn:()=>U$(t)}),H=ke??{},pe=Object.keys(H).some(j=>H[j]),me=en(t);m.useEffect(()=>{if(h){const j=en(t),z={};j.forEach(re=>{z[re]=H[re]||""}),v(z)}},[h,t,H]);const{data:de}=wr({queryKey:["lendings",r,u,a,Z],queryFn:()=>qm({status:u==="all"?"all":u,search:a||void 0,date:Z})}),ae=de??[],Pe=me.map(j=>{const z=H[j],re=z?X.find(We=>We.id===z)||null:(()=>{const We=ye.find(it=>it.slot_code===j);return We!=null&&We.assignee_id&&X.find(it=>it.id===We.assignee_id)||null})();return{slotCode:j,member:re,isMissing:!re}}),q=Pe.some(j=>j.isMissing),be=m.useMemo(()=>Qi().filter(j=>j.is_active),[r]),{data:Ge=[]}=wr({queryKey:["keyItemHistory",r],queryFn:()=>fS()}),Xe=j=>{$(z=>z.includes(j)?z.filter(re=>re!==j):[...z,j])},st=async()=>{var We;const j=k===""?O:k;if(w==="member"&&!S){Q({title:"",variant:"destructive"});return}if(w==="partner"&&(!(j!=null&&j.trim())||!D.trim())){Q({title:"",variant:"destructive"});return}if(U.length===0&&!L.trim()){Q({title:" Key",variant:"destructive"});return}const z=[];U.forEach(it=>{const Ue=be.find(_d=>_d.key_id===it);Ue&&z.push({key_id:it,key_name:Ue.key_name})}),L.trim()&&L.split(/[,;\n]/).map(Ue=>Ue.trim()).filter(Boolean).forEach(Ue=>{z.push({key_name:Ue})});const re=w==="member"?((We=X.find(it=>it.id===S))==null?void 0:We.name)||"":D;await L$({borrower_type:w,borrower_name:re,borrower_member_id:w==="member"?S:void 0,partner_company:w==="partner"?j:void 0,partner_contact:w==="partner"?M:void 0,note:A||void 0},z),Q({title:"",description:` ${z.length}  Key`}),E(""),C(""),N(""),I(""),P(""),$([]),R(""),B(""),K()},ot=()=>{if(!x.trim()){Q({title:" Key ",variant:"destructive"});return}Km({key_name:x.trim()}),g(""),b(!1),K(),Q({title:" Key"})},Un=async()=>{const j={};me.forEach(z=>{j[z]=f[z]??""}),await B$(t,j),K(),p(!1),Q({title:""})},sn=async j=>{await F$(j),K(),Q({title:""})},Ro=async j=>{const z=Pe.find(re=>re.member);z!=null&&z.member&&(await W$(j,z.member.id),K(),Q({title:""}))},yn=Pe.map(j=>`${rt[j.slotCode].short} ${j.member?j.member.name:""}`).join(""),As=_l(o,new Date);return c.jsxs("div",{className:"px-4",children:[c.jsx(Fm,{title:" Key",subtitle:n}),c.jsxs("div",{id:"keyRecord",className:"space-y-4",children:[c.jsxs("div",{className:"duty-key-banner",children:[c.jsx("span",{className:"text-lg",children:""}),c.jsx("span",{children:""}),c.jsx("span",{className:"text-lg",children:""})]}),c.jsxs(Ve,{className:"p-4 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"font-semibold",children:""}),c.jsxs(G,{size:"sm",variant:"outline",className:"gap-1.5",onClick:()=>b(!0),children:[c.jsx(vo,{className:"h-4 w-4"})," key"]})]}),c.jsxs(sg,{value:w,onValueChange:j=>{_(j),E(""),I(""),P("")},children:[c.jsxs(ud,{className:"grid w-full grid-cols-2",children:[c.jsxs(Gt,{value:"member",className:"gap-1",children:[c.jsx(Oj,{className:"w-4 h-4"}),""]}),c.jsxs(Gt,{value:"partner",className:"gap-1",children:[c.jsx(hj,{className:"w-4 h-4"}),""]})]}),c.jsx(Yt,{value:"member",className:"mt-3 space-y-3",children:c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:X.map(j=>c.jsxs("button",{type:"button",onClick:()=>E(j.id),className:F("rounded-lg border px-3 py-1.5 text-sm transition-colors",S===j.id?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"),children:[j.id," ",j.name]},j.id))})]})}),c.jsxs(Yt,{value:"partner",className:"mt-3 space-y-3",children:[c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsxs(nr,{value:k||"__none__",onValueChange:j=>{C(j==="__none__"?"":j),j!==""&&N("")},children:[c.jsx(Mn,{className:"mt-2",children:c.jsx(rr,{placeholder:""})}),c.jsxs(Dn,{children:[c.jsx(gt,{value:"__none__",children:"--  --"}),gP.map(j=>c.jsx(gt,{value:j,children:j},j))]})]}),k===""&&c.jsx(tt,{className:"mt-2",value:O,onChange:j=>N(j.target.value),placeholder:""})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:""}),c.jsx(tt,{className:"mt-2",value:D,onChange:j=>I(j.target.value),placeholder:""})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" ()"}),c.jsx(tt,{className:"mt-2",value:M,onChange:j=>P(j.target.value),placeholder:""})]})]})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" Key"}),c.jsx("div",{className:"mt-2 grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-2 max-h-32 overflow-y-auto",children:be.map(j=>c.jsx("div",{onClick:()=>Xe(j.key_id),className:F("p-2 rounded-lg border text-center text-sm cursor-pointer transition-colors",U.includes(j.key_id)?"border-primary bg-primary/10 text-primary":"border-border hover:border-primary/50"),children:j.key_name},j.key_id))})]}),Ge.length>0&&c.jsxs("div",{children:[c.jsx(Ie,{className:"text-muted-foreground text-sm",children:""}),c.jsx("div",{className:"mt-1.5 flex flex-wrap gap-1.5",children:Ge.map(j=>c.jsx("button",{type:"button",onClick:()=>R(z=>z?`${z}, ${j}`:j),className:"rounded-md border bg-muted/50 px-2 py-1 text-xs hover:bg-muted transition-colors",children:j},j))})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" Key ()"}),c.jsx(PE,{className:"mt-2",value:L,onChange:j=>R(j.target.value),placeholder:"A103, B205, C301",rows:2})]}),c.jsxs("div",{children:[c.jsx(Ie,{children:" ()"}),c.jsx(tt,{className:"mt-2",value:A,onChange:j=>B(j.target.value),placeholder:""})]}),c.jsxs(G,{className:"w-full gap-2",onClick:st,children:[c.jsx(Ka,{className:"h-4 w-4"})," "]})]}),c.jsxs("div",{className:"dutyControl dutyControl-inner",children:[c.jsxs("div",{className:"dutyControl-info",children:[c.jsx("span",{className:"duty-duty-label",children:""}),c.jsx("span",{className:F("text-foreground",q&&"text-destructive"),children:yn}),q&&c.jsxs(nd,{variant:"missing",className:"gap-1",children:[c.jsx(gj,{className:"h-3 w-3"})," "]}),pe&&c.jsx("span",{className:"rounded bg-amber-500/15 px-2 py-0.5 text-xs font-medium text-amber-700 dark:text-amber-400",children:""})]}),c.jsxs("div",{className:"dutyControl-actions",children:[c.jsxs(G,{size:"sm",variant:"outline",className:"duty-btn-duty gap-1.5",onClick:()=>p(!0),children:[c.jsx(Aj,{className:"h-4 w-4"})," "]}),pe&&c.jsxs(G,{size:"sm",variant:"ghost",className:"gap-1.5 text-destructive hover:bg-destructive/10",onClick:async()=>{await z$(t),K(),Q({title:""})},children:[c.jsx(yj,{className:"h-4 w-4"})," "]}),e&&c.jsxs(G,{size:"sm",variant:"outline",className:"duty-btn-duty gap-1.5",onClick:e,children:[c.jsx(db,{className:"h-4 w-4"})," "]})]})]}),c.jsxs("div",{className:"keyDateNavigation flex flex-wrap items-center justify-between gap-2",children:[c.jsx(G,{variant:"ghost",size:"sm",className:"duty-date-btn text-muted-foreground hover:text-foreground",onClick:()=>i(j=>_m(j,1)),children:" "}),c.jsxs("div",{className:"flex flex-col items-center gap-0.5",children:[c.jsxs("span",{className:"text-sm font-medium text-foreground",children:[xe(o,"yyyyMd (EEEE)",{locale:qn}),As&&c.jsx("span",{className:"ml-1 text-primary",children:" "})]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:[" ",ae.length,"  ",As&&""]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(G,{variant:"ghost",size:"sm",className:"duty-date-btn text-muted-foreground hover:text-foreground",onClick:()=>i(new Date),children:" "}),c.jsx(G,{variant:"ghost",size:"sm",className:"duty-date-btn text-muted-foreground hover:text-foreground",onClick:()=>i(j=>Bs(j,1)),children:" "})]})]}),c.jsxs("div",{className:"table-container overflow-hidden",children:[c.jsxs("div",{className:"flex gap-2 border-b border-border p-2",children:[c.jsxs("div",{className:"duty-search-bar relative flex-1 rounded-md",children:[c.jsx(kj,{className:"absolute left-2.5 top-1/2 h-4 w-4 -translate-y-1/2 text-muted-foreground"}),c.jsx(tt,{placeholder:" Key",value:a,onChange:j=>l(j.target.value),className:"h-9 border-0 bg-transparent pl-8 text-sm focus-visible:ring-0 focus-visible:ring-offset-0"})]}),c.jsxs(nr,{value:u,onValueChange:j=>d(j),children:[c.jsx(Mn,{className:"h-9 w-28 text-sm",children:c.jsx(rr,{})}),c.jsxs(Dn,{children:[c.jsx(gt,{value:"all",children:""}),c.jsx(gt,{value:"out",children:""}),c.jsx(gt,{value:"returned",children:""})]})]})]}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs("table",{className:"duty-key-table",children:[c.jsx("thead",{children:c.jsxs("tr",{children:[c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""}),c.jsx("th",{children:""})]})}),c.jsx("tbody",{children:ae.length===0?c.jsx("tr",{children:c.jsx("td",{colSpan:6,className:"px-3 py-8 text-center text-muted-foreground",children:""})}):ae.map(({lending:j,items:z})=>c.jsx(v5,{lending:j,items:z,members:X,onReturn:()=>sn(j.lending_id),onConfirm:()=>Ro(j.lending_id)},j.lending_id))})]})})]})]}),c.jsx(pg,{open:h,onOpenChange:p,children:c.jsxs(vd,{side:"bottom",className:"max-h-[85vh] overflow-y-auto",children:[c.jsx(wd,{children:c.jsx(xd,{children:""})}),c.jsx("div",{className:"mt-4 space-y-4",children:me.map(j=>c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(ad,{slotCode:j}),c.jsxs(nr,{value:f[j]||"__roster__",onValueChange:z=>v(re=>({...re,[j]:z==="__roster__"?"":z})),children:[c.jsx(Mn,{className:"flex-1",children:c.jsx(rr,{placeholder:""})}),c.jsxs(Dn,{children:[c.jsx(gt,{value:"__roster__",children:""}),X.map(z=>c.jsx(gt,{value:z.id,children:z.name},z.id))]})]})]},j))}),c.jsxs(EE,{className:"mt-6",children:[c.jsx(G,{onClick:Un,children:""}),c.jsx(a5,{asChild:!0,children:c.jsx(G,{variant:"outline",children:""})})]})]})}),c.jsx(gd,{open:y,onOpenChange:j=>{b(j),j||g("")},children:c.jsxs(Al,{children:[c.jsx(Ml,{children:c.jsx(Il,{children:" Key "})}),c.jsx("div",{className:"grid gap-4 py-4",children:c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Ie,{htmlFor:"new-key-name",children:"Key "}),c.jsx(tt,{id:"new-key-name",value:x,onChange:j=>g(j.target.value),placeholder:"A103B205",onKeyDown:j=>{j.key==="Enter"&&ot()}})]})}),c.jsxs(Dl,{children:[c.jsxs(G,{onClick:ot,className:"gap-1",children:[c.jsx(vo,{className:"w-4 h-4"})," "]}),c.jsx(G,{variant:"outline",onClick:()=>{g(""),b(!1)},children:""})]})]})})]})}function v5({lending:e,items:t,members:n,onReturn:r,onConfirm:s}){var l;const o=e.status==="returned",i=!!e.duty_confirmed_by,a=e.duty_confirmed_by?(l=n.find(u=>u.id===e.duty_confirmed_by))==null?void 0:l.name:null;return c.jsxs("tr",{className:F(o&&"opacity-80"),children:[c.jsx("td",{children:yP(e.created_at,"M/d HH:mm")}),c.jsxs("td",{children:[c.jsx("span",{className:"font-medium",children:e.borrower_name}),e.borrower_type==="partner"&&c.jsx("span",{className:"ml-1",children:c.jsx(DM,{})}),e.partner_company&&c.jsxs("span",{className:"ml-1 text-xs opacity-90",children:["(",e.partner_company,")"]})]}),c.jsx("td",{children:c.jsx("div",{className:"flex flex-wrap gap-1 justify-center",children:t.map(u=>c.jsx("span",{className:"rounded bg-black/5 px-1.5 py-0.5 text-xs",children:u.key_name},u.id))})}),c.jsx("td",{className:o?"status-returned":"status-borrowed",children:o?"":""}),c.jsx("td",{children:i&&a?c.jsxs("span",{className:"text-primary font-medium",children:[c.jsx(Ka,{className:"mr-1 inline h-3.5 w-3.5"}),a]}):""}),c.jsx("td",{children:!o&&c.jsxs("div",{className:"flex flex-wrap gap-1.5 justify-center",children:[c.jsxs(fo,{children:[c.jsx(wi,{asChild:!0,children:c.jsxs("button",{type:"button",className:"key-action-btn return inline-flex items-center gap-1",children:[c.jsx(Ej,{className:"h-3.5 w-3.5"}),""]})}),c.jsxs(ms,{children:[c.jsx(gs,{children:c.jsx(vs,{children:""})}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:r,children:""})]})]})]}),!i&&c.jsxs("button",{type:"button",className:"key-action-btn confirm inline-flex items-center gap-1",onClick:s,children:[c.jsx(Ka,{className:"h-3.5 w-3.5"}),""]})]})})]})}function w5(){return c.jsxs("div",{className:"px-4",children:[c.jsx(Fm,{title:"",subtitle:""}),c.jsxs(sg,{defaultValue:"stats",className:"w-full",children:[c.jsxs(ud,{className:"grid w-full grid-cols-5",children:[c.jsx(Gt,{value:"stats",className:"text-xs",children:""}),c.jsx(Gt,{value:"members",className:"text-xs",children:""}),c.jsx(Gt,{value:"keys",className:"text-xs",children:"Key"}),c.jsx(Gt,{value:"links",className:"text-xs",children:""}),c.jsx(Gt,{value:"export",className:"text-xs",children:""})]}),c.jsx(Yt,{value:"stats",className:"mt-4",children:c.jsx(x5,{})}),c.jsx(Yt,{value:"members",className:"mt-4",children:c.jsx(b5,{})}),c.jsx(Yt,{value:"keys",className:"mt-4",children:c.jsx(_5,{})}),c.jsx(Yt,{value:"links",className:"mt-4",children:c.jsx(S5,{})}),c.jsx(Yt,{value:"export",className:"mt-4",children:c.jsx(C5,{})})]})]})}function x5(){const[e,t]=m.useState(()=>un(new Date)),{data:n}=wr({queryKey:["scheduleReport",e],queryFn:()=>yS(e)}),{data:r}=wr({queryKey:["listLendings","all"],queryFn:()=>qm({})}),s=r??[],o=["WD_AM","WD_PM","WE_AM","WE_MD","WE_PM"],i=s.filter(d=>d.lending.status==="out").length,a=s.filter(d=>d.lending.borrower_type==="partner").length,l=(n==null?void 0:n.member_stats)??[];n==null||n.slot_counts;const u=(n==null?void 0:n.missing_slots)??[];return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>t(un(Mb(new Date(`${e}-01`)))),children:c.jsx(Ch,{className:"w-5 h-5"})}),c.jsx("span",{className:"font-medium",children:e}),c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>t(un(new Date)),children:c.jsx(ru,{className:"w-5 h-5"})})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsxs(Ve,{className:"p-3 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-destructive",children:u.length}),c.jsx("div",{className:"text-xs text-muted-foreground",children:""})]}),c.jsxs(Ve,{className:"p-3 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-warning",children:i}),c.jsx("div",{className:"text-xs text-muted-foreground",children:" Key"})]}),c.jsxs(Ve,{className:"p-3 text-center",children:[c.jsx("div",{className:"text-2xl font-bold text-info",children:l.length}),c.jsx("div",{className:"text-xs text-muted-foreground",children:""})]}),c.jsxs(Ve,{className:"p-3 text-center",children:[c.jsx("div",{className:"text-2xl font-bold",style:{color:"hsl(var(--partner))"},children:a}),c.jsx("div",{className:"text-xs text-muted-foreground",children:""})]})]}),c.jsxs(Ve,{className:"p-3",children:[c.jsx("h3",{className:"font-semibold mb-3",children:""}),c.jsx("div",{className:"overflow-x-auto",children:c.jsxs(Ym,{children:[c.jsx(Qm,{children:c.jsxs(al,{children:[c.jsx(co,{className:"w-16",children:""}),o.map(d=>c.jsx(co,{className:"text-center w-12",title:rt[d].time,children:c.jsx("span",{className:"text-[10px]",children:rt[d].short})},d)),c.jsx(co,{className:"text-center w-12",children:""})]})}),c.jsx(Jm,{children:l.map(({member:d,assigned:h})=>{const p=Object.values(h).reduce((f,v)=>f+v,0);return c.jsxs(al,{children:[c.jsx(uo,{className:"font-medium text-xs",children:d.name}),o.map(f=>c.jsx(uo,{className:"text-center text-sm",children:h[f]},f)),c.jsx(uo,{className:"text-center font-medium",children:p})]},d.id)})})]})})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(G,{variant:"outline",className:"flex-1 gap-2",onClick:()=>E5(e),children:[c.jsx(Gs,{className:"w-4 h-4"}),""]}),c.jsxs(G,{variant:"outline",className:"flex-1 gap-2",onClick:()=>k5(),children:[c.jsx(Gs,{className:"w-4 h-4"}),""]})]})]})}const fw="app/shun1010/duty_members_panel_locked";function b5(){const{toast:e}=rn(),[t,n]=m.useState(0),[r,s]=m.useState(!1),[o,i]=m.useState(""),[a,l]=m.useState(null),[u,d]=m.useState(""),[h,p]=m.useState(()=>typeof localStorage<"u"&&localStorage.getItem(fw)==="1"),[f,v]=m.useState(!1),[y,b]=m.useState(""),x=m.useMemo(()=>bt(),[t]),g=()=>n(N=>N+1),w=()=>{if(y!=="8888"){e({title:"",variant:"destructive"});return}const N=!h;p(N),localStorage.setItem(fw,N?"1":"0"),v(!1),b(""),N&&(s(!1),l(null)),e({title:N?"":""})},_=()=>{if(!o.trim()){e({title:"",variant:"destructive"});return}fp({name:o.trim()}),i(""),s(!1),g(),e({title:""})},S=N=>{T$(N),g(),e({title:""})},E=(N,D)=>{k$(N,D),g()},k=(N,D)=>{C$(N,D),g()},C=N=>{l(N),d(N.name)},O=()=>{if(a){if(!u.trim()){e({title:"",variant:"destructive"});return}fp({id:a.id,name:u.trim()}),l(null),g(),e({title:""})}};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"font-semibold",children:""}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(G,{size:"sm",variant:"outline",onClick:()=>v(!0),className:"gap-1",title:h?"":"",children:[h?c.jsx(fb,{className:"w-4 h-4"}):c.jsx(hb,{className:"w-4 h-4"}),h?"":""]}),c.jsxs(G,{size:"sm",onClick:()=>s(!0),className:"gap-1",disabled:h,children:[c.jsx(vo,{className:"w-4 h-4"}),""]})]})]}),c.jsx(gd,{open:f,onOpenChange:N=>{v(N),N||b("")},children:c.jsxs(Al,{children:[c.jsxs(Ml,{children:[c.jsx(Il,{children:h?"":""}),c.jsx(yd,{children:h?"":""})]}),c.jsx("div",{className:"py-2",children:c.jsx(tt,{type:"password",value:y,onChange:N=>b(N.target.value),placeholder:"",onKeyDown:N=>N.key==="Enter"&&w()})}),c.jsxs(Dl,{children:[c.jsx(G,{variant:"outline",onClick:()=>{v(!1),b("")},children:""}),c.jsx(G,{onClick:w,children:""})]})]})}),r&&c.jsxs(Ve,{className:"p-3 flex gap-2",children:[c.jsx(tt,{value:o,onChange:N=>i(N.target.value),placeholder:"",className:"flex-1"}),c.jsx(G,{onClick:_,children:""}),c.jsx(G,{variant:"ghost",onClick:()=>s(!1),children:""})]}),c.jsx("div",{className:"space-y-2",children:x.map(N=>c.jsx(Ve,{className:"p-3",children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"min-w-0 flex-1",children:[c.jsxs("div",{className:"font-medium",children:[N.id," ",N.name]}),c.jsxs("div",{className:"text-xs text-muted-foreground mt-0.5",children:[N.role,"  ",N.is_active?"":"",N.exclude_roster&&"  "]})]}),c.jsxs("div",{className:"flex flex-wrap items-center gap-2 shrink-0",children:[c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),c.jsx(wu,{checked:N.is_active,onCheckedChange:D=>E(N.id,D),disabled:h})]}),c.jsxs("div",{className:"flex items-center gap-1.5",children:[c.jsx("span",{className:"text-[10px] text-muted-foreground",children:""}),c.jsx(wu,{checked:N.exclude_roster,onCheckedChange:D=>k(N.id,D),disabled:h})]}),c.jsx(G,{variant:"ghost",size:"icon",onClick:()=>C(N),"aria-label":"",disabled:h,children:c.jsx(Sj,{className:"w-4 h-4"})}),c.jsxs(fo,{children:[c.jsx(wi,{asChild:!0,children:c.jsx(G,{variant:"ghost",size:"icon","aria-label":"",disabled:h,children:c.jsx(bl,{className:"w-4 h-4 text-destructive"})})}),c.jsxs(ms,{children:[c.jsx(gs,{children:c.jsxs(vs,{children:[" ",N.id," ",N.name,""]})}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:()=>S(N.id),children:""})]})]})]})]})]})},N.id))}),c.jsx(pg,{open:!!a,onOpenChange:N=>!N&&l(null),children:c.jsxs(vd,{side:"bottom",className:"rounded-t-2xl",children:[c.jsx(wd,{children:c.jsx(xd,{children:""})}),a&&c.jsxs("div",{className:"grid gap-4 py-4",children:[c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Ie,{children:""}),c.jsx("div",{className:"text-sm text-muted-foreground py-2",children:a.id})]}),c.jsxs("div",{className:"grid gap-2",children:[c.jsx(Ie,{htmlFor:"edit-name",children:""}),c.jsx(tt,{id:"edit-name",value:u,onChange:N=>d(N.target.value),placeholder:""})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(G,{className:"flex-1",onClick:O,children:""}),c.jsx(G,{variant:"outline",onClick:()=>l(null),children:""})]})]})]})})]})}function _5(){const{toast:e}=rn(),[t,n]=m.useState(0),[r,s]=m.useState(!1),[o,i]=m.useState(""),[a,l]=m.useState(""),u=m.useMemo(()=>Qi(),[t]),d=()=>n(v=>v+1),h=()=>{if(!o.trim()){e({title:" Key ",variant:"destructive"});return}const v=o.split(/[,\n]/).map(y=>y.trim()).filter(Boolean);v.forEach(y=>{Km({key_name:y,address:a.trim()||void 0})}),i(""),l(""),s(!1),d(),e({title:` ${v.length}  Key`})},p=v=>{$$(v),d(),e({title:" Key"})},f=(v,y)=>{I$(v,y),d()};return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsx("h3",{className:"font-semibold",children:"Key "}),c.jsxs(G,{size:"sm",onClick:()=>s(!0),className:"gap-1",children:[c.jsx(vo,{className:"w-4 h-4"}),""]})]}),r&&c.jsxs(Ve,{className:"p-3 space-y-2",children:[c.jsx(tt,{value:o,onChange:v=>i(v.target.value),placeholder:"Key  ()"}),c.jsx(tt,{value:a,onChange:v=>l(v.target.value),placeholder:" ()"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(G,{onClick:h,className:"flex-1",children:""}),c.jsx(G,{variant:"ghost",onClick:()=>s(!1),children:""})]})]}),c.jsx("div",{className:"grid grid-cols-2 gap-2",children:u.map(v=>c.jsxs(Ve,{className:`p-3 ${!v.is_active&&"opacity-50"}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"font-medium",children:v.key_name}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:()=>f(v.key_id,!v.is_active),children:v.is_active?c.jsx(yb,{className:"w-4 h-4 text-success"}):c.jsx(gb,{className:"w-4 h-4"})}),c.jsxs(fo,{children:[c.jsx(wi,{asChild:!0,children:c.jsx(G,{variant:"ghost",size:"icon",className:"h-6 w-6",children:c.jsx(bl,{className:"w-3 h-3 text-destructive"})})}),c.jsxs(ms,{children:[c.jsx(gs,{children:c.jsxs(vs,{children:[" ",v.key_name,""]})}),c.jsxs(ys,{children:[c.jsx(xs,{children:""}),c.jsx(ws,{onClick:()=>p(v.key_id),children:""})]})]})]})]})]}),v.address&&c.jsx("div",{className:"text-xs text-muted-foreground truncate",children:v.address})]},v.key_id))})]})}function S5(){const{toast:e}=rn(),[t,n]=m.useState(!1),[r,s]=m.useState(""),[o,i]=m.useState(null),a={FileSpreadsheet:c.jsx(wj,{className:"w-5 h-5"}),LogIn:c.jsx(_j,{className:"w-5 h-5"}),ClipboardList:c.jsx(vj,{className:"w-5 h-5"}),Map:c.jsx(pb,{className:"w-5 h-5"})},l=d=>{d.id==="objects-table"?(i(d),n(!0)):window.open(d.url,"_blank")},u=()=>{if(r!=="8888"){e({title:"",variant:"destructive"});return}o&&window.open(o.url,"_blank"),n(!1),s(""),i(null)};return c.jsxs("div",{className:"space-y-3",children:[fP.map(d=>c.jsxs(Ve,{className:"p-4 flex items-center gap-4 hover:shadow-lg transition-shadow cursor-pointer",onClick:()=>l(d),children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:a[d.icon||"ExternalLink"]||c.jsx($y,{className:"w-5 h-5"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:d.title}),d.description&&c.jsx("div",{className:"text-xs text-muted-foreground",children:d.description})]}),c.jsx($y,{className:"w-4 h-4 text-muted-foreground"})]},d.id)),c.jsx(gd,{open:t,onOpenChange:d=>{n(d),d||(s(""),i(null))},children:c.jsxs(Al,{children:[c.jsxs(Ml,{children:[c.jsx(Il,{children:""}),c.jsxs(yd,{children:["",(o==null?void 0:o.title)||"",""]})]}),c.jsx("div",{className:"py-2",children:c.jsx(tt,{type:"password",value:r,onChange:d=>s(d.target.value),placeholder:"",onKeyDown:d=>d.key==="Enter"&&u()})}),c.jsxs(Dl,{children:[c.jsx(G,{variant:"outline",onClick:()=>{n(!1),s(""),i(null)},children:""}),c.jsx(G,{onClick:u,children:""})]})]})}),c.jsx(Ve,{className:"p-4 opacity-50",children:c.jsxs("div",{className:"flex items-center gap-2 text-muted-foreground",children:[c.jsx(mb,{className:"w-4 h-4"}),c.jsx("span",{className:"text-sm",children:" Sheets "})]})})]})}function E5(e){const t=Rr(e),n=bt(),r=o=>{var i;return o?((i=n.find(a=>a.id===o))==null?void 0:i.name)||"?":""},s=t.map(o=>({:o.date,:o.slot_code,:r(o.assignee_id),:o.is_substitute?"":"",:o.status}));OE(s,`roster_${e}.csv`)}async function k5(){const t=(await qm({})).flatMap(({lending:n,items:r})=>r.map(s=>({:n.created_at,:n.borrower_name,:n.borrower_type==="partner"?"":"",:n.partner_company||"",Key:s.key_name,:n.status,:n.returned_at||""})));OE(t,`lendings_${xe(new Date,"yyyyMMdd")}.csv`)}function OE(e,t){if(e.length===0)return;const n=Object.keys(e[0]),r=[n.join(","),...e.map(i=>n.map(a=>`"${i[a]||""}"`).join(","))].join(`
`),s=new Blob(["\uFEFF"+r],{type:"text/csv;charset=utf-8;"}),o=document.createElement("a");o.href=URL.createObjectURL(s),o.download=t,o.click()}function C5(){const{toast:e}=rn(),t=m.useMemo(()=>bt(),[]),n=m.useMemo(()=>gn(),[]),r=m.useMemo(()=>od(),[]),s=()=>{const l=t.map(f=>({id:f.id,name:f.name,exclude_roster:f.exclude_roster||!1})),u=JSON.stringify(l,null,2),d=new Blob([u],{type:"application/json"}),h=URL.createObjectURL(d),p=document.createElement("a");p.href=h,p.download="current_members.json",p.click(),URL.revokeObjectURL(h),e({title:""})},o=()=>{const l=n.filter(f=>f.rule_type==="weekly"&&f.is_active&&f.action==="blocked"&&f.slot_code==="any").map(f=>({member_id:f.member_id,weekday:f.weekday})),u=JSON.stringify(l,null,2),d=new Blob([u],{type:"application/json"}),h=URL.createObjectURL(d),p=document.createElement("a");p.href=h,p.download="current_weekly_rules.json",p.click(),URL.revokeObjectURL(h),e({title:""})},i=()=>{const l=JSON.stringify(r,null,2),u=new Blob([l],{type:"application/json"}),d=URL.createObjectURL(u),h=document.createElement("a");h.href=d,h.download="current_same_day_pairs.json",h.click(),URL.revokeObjectURL(d),e({title:""})},a=()=>{const l=new pb(t.map(f=>[f.id,f.name])),u=n.filter(f=>f.rule_type==="weekly"&&f.is_active&&f.action==="blocked"&&f.slot_code==="any").map(f=>`  { member_id: '${f.member_id}', weekday: ${f.weekday} },  // ${l.get(f.member_id)||"?"} ${["","","","","","",""][f.weekday]}`).join(`
`),d=r.map(([f,v])=>`  ['${f}', '${v}'],  // ${l.get(f)||"?"} & ${l.get(v)||"?"}`).join(`
`),p=`//  constants.ts 

// 
export const DEFAULT_LEGACY_MEMBERS = [
${t.map(f=>`  { id: '${f.id}', name: '${f.name}'${f.exclude_roster?", exclude_roster: true":""} },`).join(`
`)}
];

// 
export const DEFAULT_AVAILABILITY_RULES = [
${u}
];

// 
export const DEFAULT_SAME_DAY_PAIRS: [string, string][] = [
${d}
];`;navigator.clipboard.writeText(p).then(()=>{e({title:"",description:" constants.ts "})}).catch(()=>{e({title:"",variant:"destructive"})})};return c.jsx("div",{className:"space-y-4",children:c.jsxs(Ve,{className:"p-4",children:[c.jsx("h3",{className:"font-semibold mb-3",children:""}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:" constants.ts "}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(G,{variant:"outline",className:"w-full gap-2",onClick:s,children:[c.jsx(Gs,{className:"w-4 h-4"})," (JSON)"]}),c.jsxs(G,{variant:"outline",className:"w-full gap-2",onClick:o,children:[c.jsx(Gs,{className:"w-4 h-4"})," (JSON)"]}),c.jsxs(G,{variant:"outline",className:"w-full gap-2",onClick:i,children:[c.jsx(Gs,{className:"w-4 h-4"})," (JSON)"]}),c.jsxs(G,{className:"w-full gap-2",onClick:a,children:[c.jsx(Gs,{className:"w-4 h-4"})," constants.ts"]})]}),c.jsxs("div",{className:"mt-4 p-3 bg-muted/50 rounded text-xs text-muted-foreground",children:[c.jsx("p",{className:"font-medium mb-1",children:""}),c.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[c.jsx("li",{children:""}),c.jsxs("li",{children:[" ",c.jsx("code",{className:"bg-background px-1 rounded",children:"src/lib/constants.ts"})," "]}),c.jsx("li",{children:" JSON "})]})]})]})})}const T5=()=>{const[e,t]=m.useState(()=>{const n=localStorage.getItem("activeTab");return n==="roster"||n==="duty"||n==="tools"?n:"roster"});return m.useEffect(()=>{localStorage.setItem("activeTab",e)},[e]),m.useEffect(()=>{q$().catch(console.error)},[]),c.jsxs(EM,{activeTab:e,onTabChange:t,children:[e==="roster"&&c.jsx(g5,{}),e==="duty"&&c.jsx(y5,{onNavigateToRoster:()=>t("roster")}),e==="tools"&&c.jsx(w5,{})]})},j5=()=>{const e=B_();return m.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",e.pathname)},[e.pathname]),c.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),c.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),c.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},N5=new b2,R5=()=>c.jsx(S2,{client:N5,children:c.jsxs(YA,{children:[c.jsx(NP,{}),c.jsx(aO,{}),c.jsx(bM,{children:c.jsxs(vM,{children:[c.jsx(Xh,{path:"/",element:c.jsx(T5,{})}),c.jsx(Xh,{path:"*",element:c.jsx(j5,{})})]})})]})});$x(document.getElementById("root")).render(c.jsx(R5,{}));
